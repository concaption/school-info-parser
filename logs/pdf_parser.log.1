2025-01-31 12:32:52,640 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Unspecified Language School",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "Unspecified",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Monday to Thursday, 09:00 - 12:15 Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$400", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$375", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Monday to Thursday, 09:00 - 12:15 Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$400", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Digital Marketing",
                    "lessons_per_week": 30,
                    "description": "20 group lessons: 09:00 - 12:15 Monday to Friday, 10 lessons for Digital Marketing: 13:00 - 15:15 Monday to Thursday",
                    "prices": [
                        {"duration": "12 weeks", "price": "$5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 30,
                    "description": "09:00 - 12:15 Monday to Friday",
                    "prices": [
                        {"duration": "12 weeks", "price": "$5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Business",
                    "lessons_per_week": 25,
                    "description": "20 general English lessons: 09:00 - 12:15 Monday to Friday, 5 Business lessons: 13:00 - 14:00 Monday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "General English for 30+",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Monday to Friday. Exclusive for students aged 30+",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Monday to Thursday, 09:00 - 12:15 Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Monday to Thursday, 09:00 - 12:15 Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Monday to Friday, +5 hours one-to-one Cambridge Prep lessons per week.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Monday to Thursday, 09:00 - 12:15 Friday. Exclusive fast-track option.",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "$195",
                "private_lessons": {
                    "general_lesson": {"price_per_hour": "$85", "description": "60 minutes each"},
                    "exam_preparation_lesson": {"price_per_hour": "$95", "description": "60 minutes each"}
                },
                "cambridge_exam_material_and_admin": "$575",
                "ielts_paper_exam": "$370",
                "ielts_computer_test": "$370",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "lesson_duration": "All teaching hours are 45 minutes",
        "maximum_class_size": 16
    }
}
2025-01-31 12:32:52,640 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:32:52,641 - PDFParser - INFO - Successfully processed page 6
2025-01-31 12:32:52,641 - PDFParser - INFO - Processing page 7/18
2025-01-31 12:32:52,647 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:32:52,649 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:32:52,657 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:32:52,658 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:33:06,790 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:33:06,790 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "options": [
                        {
                            "name": "Full-Board Accommodation",
                            "single_room_price": "$350/week",
                            "shared_room_price": "$310/week",
                            "summer_supplement": "$30/week (01 June - 31 Aug)"
                        },
                        {
                            "name": "Half-Board Accommodation",
                            "single_room_price": "$320/week",
                            "shared_room_price": "$275/week",
                            "summer_supplement": "$30/week (01 June - 31 Aug)"
                        },
                        {
                            "name": "Executive Half-Board with Private Bathroom",
                            "single_room_price": "$365/week",
                            "summer_supplement": "$30/week (01 June - 31 Aug)"
                        }
                    ],
                    "add_ons": {
                        "special_diet_supplement": {
                            "full_board": "$50/week",
                            "half_board": "$45/week",
                            "notes": "Coeliac, gluten free, lactose free, vegan, halal, kosher, vegetarian"
                        },
                        "extra_night": "$60",
                        "underage_fee": "$25/week for ages 16-17 years"
                    },
                    "placement_fee": "$275"
                },
                {
                    "type": "Residential Self Catering",
                    "options": [
                        {
                            "name": "Casa Canada",
                            "age_restriction": "18+",
                            "shared_room_price": "$525/week",
                            "one_bedroom_price": "$650/week",
                            "monthly_price": {
                                "minimum_stay": "4 weeks",
                                "price": "$1985/month"
                            }
                        },
                        {
                            "name": "28 Langley Ave.",
                            "price": "$575/week"
                        },
                        {
                            "name": "Tartu Student Residence",
                            "age_restriction": "17+",
                            "availability": "May - August",
                            "economy_suite_price": "$550/week or $1450/month",
                            "premium_ac_unit_price": "$650/week or $1750/month"
                        }
                    ],
                    "placement_fee": "$275"
                }
            ],
            "additional_fees": {
                "airport_transfer_one_way": "$150",
                "return_airport_transfer": "$300",
                "custodian_fee_non_notarized": {
                    "price": "$75",
                    "description": "Required by Canadian Immigration, under 18 years"
                },
                "custodian_fee_notarized": {
                    "price": "$200",
                    "description": "Required by Canadian Immigration, under 18 years"
                },
                "medical_insurance": "$3/day",
                "homestay_move_fee": "$150"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation arranged in a carefully selected homestay or request. Late arrival fee (non Saturday/Sunday): $125.",
        "medical_insurance": "Insurance should cover loss of possessions and tuition fees.",
        "tuition_hours": "General: 15 hours/week, Intensive: 18.75 hours/week, Super Intensive: 22.5 hours/week.",
        "social_activities": "Day trips and excursions offered, including Niagara Falls ($125) and others.",
        "policy_of_care": "Strict policy for students under 16 and 17 years old.",
        "school_holidays": "Specific dates listed, no refunds for missed sessions."
    }
}
2025-01-31 12:33:06,790 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:33:06,790 - PDFParser - INFO - Successfully processed page 7
2025-01-31 12:33:06,790 - PDFParser - INFO - Processing page 8/18
2025-01-31 12:33:06,794 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:33:06,796 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:33:06,801 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:33:06,801 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:33:22,747 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:33:22,747 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00-12:15 Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "CAD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "CAD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "CAD"},
                        {"duration": "24 weeks", "price": "$365", "currency": "CAD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00-14:00 Monday to Thursday, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "CAD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "CAD"},
                        {"duration": "12-23 weeks", "price": "$420", "currency": "CAD"},
                        {"duration": "24 weeks", "price": "$400", "currency": "CAD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15 Monday to Thursday, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "CAD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "CAD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "CAD"},
                        {"duration": "24 weeks", "price": "$420", "currency": "CAD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00-14:00 Monday to Thursday, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "CAD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "CAD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "CAD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15 Monday to Thursday, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "CAD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "CAD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00-12:15 Monday to Friday + 5 hours One-to-One lessons per week, 13:00-15:30 two afternoons dedicated to exam preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "CAD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "CAD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "CAD"}
                    ],
                    "exam_dates": [
                        "FCE: 10 June / CAE: 04 June",
                        "FCE: 25 Nov / CAE: 26 Nov"
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15 Monday to Thursday, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "CAD"}
                    ],
                    "exam_dates": [
                        "FCE: 24 July / CAE: 25 July",
                        "FCE: 21 Aug / CAE: 22 Aug"
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "$195",
                "private_lessons": {
                    "general_per_lesson": "$85",
                    "exam_preparation_per_lesson": "$95"
                },
                "Cambridge_materials_exam_administration": "$575",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified",
        "maximum_class_size": 16,
        "lesson_duration": "45 minutes"
    }
}
2025-01-31 12:33:22,747 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:33:22,747 - PDFParser - INFO - Successfully processed page 8
2025-01-31 12:33:22,747 - PDFParser - INFO - Processing page 9/18
2025-01-31 12:33:22,752 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:33:22,755 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:33:22,760 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:33:22,761 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:33:32,586 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:33:32,586 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "full_board": "$375 (single)",
                        "full_board_shared": "$355",
                        "half_board": "$360 (single)",
                        "half_board_shared": "$335",
                        "executive_half_board": "$480 weekly",
                        "optsExtras:": []


                }
            }


        ]
}    
       



  
   
   
       
           
              
      






  
         
          
           
      
  


           
   
  
  



  
    
   


   
   
    



        
        
    
    
      
        
        
                                
      
 


    



                 
                     
                     
                     
                         
                     
           
            
       

           
          
          
     








        
        
        
        
        
        
        
  
    
     
        
    

  
        
        
      
        
      
       
  
        
        
        
        
        
        
        
        
        
     
       
        
        

       
    
    
        
        
           
       
        
      
        
    

        







    






  


   
    
    
        
        
       
    
  

 
        
          
    
    
    
     

  


    
  
                        
                 
                
                
   





        
        
        
        
                    
        


           
    
  
    



    
    
    
  
        
    



  
        




  

        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        


        
        
        
    
      
        
            





  ] 


 
 

















       




 
  
   
}   
2025-01-31 12:33:32,586 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:33:32,587 - PDFParser - INFO - Successfully processed page 9
2025-01-31 12:33:32,587 - PDFParser - INFO - Processing page 10/18
2025-01-31 12:33:32,621 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:33:32,625 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:33:32,630 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:33:32,631 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:33:52,345 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:33:52,345 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00, Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 (Mon-Fri) and 14:00 - 16:30 (Tues-Thurs)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "Includes 5 hours of one-to-one General English lessons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "General English and IELTS-focused lessons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 20,
                    "description": "General English and tailored Cambridge preparation lessons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "Preparation for university admission",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4380", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8520", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course (Ireland and UK)",
                    "description": "Option for 20 or 30 lessons per week. Travel between Ireland and UK.",
                    "prices": [
                        {"duration": "24 weeks (20 lessons)", "price": "£6000", "currency": "GBP"},
                        {"duration": "36 weeks (20 lessons)", "price": "£8640", "currency": "GBP"},
                        {"duration": "24 weeks (30 lessons)", "price": "£8520", "currency": "GBP"},
                        {"duration": "36 weeks (30 lessons)", "price": "£12420", "currency": "GBP"}
                    ]
                },
                {
                    "name": "English and Culture, 50+ Programme",
                    "description": "Includes English lessons and cultural activities",
                    "prices": [
                        {"duration": "2 weeks", "price": "£1065", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "description": "CELTA Certification and methodology workshops",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£770", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "description": "Combination of English and Business courses",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "All teaching/tuition hours are 45 minutes. Maximum class size is 14."
    }
}
2025-01-31 12:33:52,346 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:33:52,346 - PDFParser - INFO - Successfully processed page 10
2025-01-31 12:33:52,346 - PDFParser - INFO - Processing page 11/18
2025-01-31 12:33:52,353 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:33:52,355 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:33:52,360 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:33:52,361 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:34:09,975 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:34:09,975 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "Not provided",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£280 (Single), £235 (Shared)",
                    "description": "Half board (bed, breakfast, and dinner)",
                    "supplements": {
                        "Summer": "£35/week (July and August)",
                        "Christmas": "£350/week (20 Dec to 3 Jan 2026)"
                    }
                },
                {
                    "type": "Residential",
                    "price_per_week": "£275 (Double room with two sharing), £350 (Twin room with two sharing), £455 (Double room single occupancy), £560 (Large double room single occupancy)",
                    "description": "Rathbone Apartments, Zone 1 Central London. Minimum stay 4 weeks for adults aged 18+.",
                    "notes": "Departures in October, November, and December not accepted."
                }
            ]
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Not provided",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£280 (Single), £235 (Shared)",
                    "description": "Half board (bed, breakfast, and dinner)",
                    "supplements": {
                        "Summer": "£35/week (July and August)",
                        "Christmas": "£350/week (20 Dec to 3 Jan 2026)"
                    }
                }
            ]
        }
    ],
    "additional_fees": {
        "accommodation_placement_fee": "£75",
        "special_diet_supplement": "£35/week"
    },
    "airport_transfer": {
        "London": {
            "Heathrow or Gatwick": [
                {"passenger_count": 1, "price": "£145"},
                {"passenger_count": 2, "price": "£150"},
                {"passenger_count": 3, "price": "£155"}
            ],
            "Stansted": [
                {"passenger_count": 1, "price": "£200"},
                {"passenger_count": 2, "price": "£210"},
                {"passenger_count": 3, "price": "£220"}
            ]
        },
        "Edinburgh": {
            "Edinburgh Airport": [
                {"passenger_count": 1, "price": "£80"},
                {"passenger_count": 2, "price": "£85"},
                {"passenger_count": 3, "price": "£90"}
            ],
            "Glasgow Airport": [
                {"passenger_count": 1, "price": "£280"},
                {"passenger_count": 2, "price": "£285"},
                {"passenger_count": 3, "price": "£290"}
            ]
        }
    },
    "terms": {
        "accommodation": "Half board. Placement in private homes may occur in London. Shared accommodation available only for 2 people traveling together.",
        "medical_insurance": "Students are advised to have their own insurance.",
        "tuition_hours": "Standard course: 15 hours per week; Intensive course: 22 hours per week.",
        "examinations": "IELTS exam cost: £220 (subject to change).",
        "textbooks": "Textbook + Digital E-book: £32",
        "school_holidays": {
            "general": [
                "1 Jan 2025",
                "18 Apr 2025",
                "26 May 2025",
                "25 Aug 2025",
                "22 Dec 2025 - 2 Jan 2026"
            ],
            "Ireland": [
                "1 Jan 2025",
                "17 Mar 2025",
                "1 Apr 2025",
                "25 Dec 2025 - 2 Jan 2026"
            ]
        }
    }
}
2025-01-31 12:34:09,976 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:34:09,976 - PDFParser - INFO - Successfully processed page 11
2025-01-31 12:34:09,976 - PDFParser - INFO - Processing page 12/18
2025-01-31 12:34:09,983 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:34:09,985 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:34:09,991 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:34:09,991 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:34:27,999 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:34:27,999 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Monday to Friday; 14:00 - 16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "12+ weeks", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Monday to Friday; 14:00 - 16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "12+ weeks", "price": "£595", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "notes": "Class size limited to 9 in July and August",
        "registration_fee": "£75 for all students"
    }
}
2025-01-31 12:34:27,999 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:34:27,999 - PDFParser - INFO - Successfully processed page 12
2025-01-31 12:34:27,999 - PDFParser - INFO - Processing page 13/18
2025-01-31 12:34:28,003 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:34:28,005 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:34:28,011 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:34:28,011 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:34:33,081 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:34:33,082 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": "",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Home stay base price",
                    "description": "(Single/Shared oproption)",
                    "supplements": {
                        "Summer": "35£/week)"
                    }



                }
                ],
            "additional_fees": {
                

                }
            }
            

    

         ]

}
2025-01-31 12:34:33,082 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:34:33,082 - PDFParser - INFO - Successfully processed page 13
2025-01-31 12:34:33,082 - PDFParser - INFO - Processing page 14/18
2025-01-31 12:34:33,105 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:34:33,108 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:34:33,114 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:34:33,114 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:35:04,501 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:35:04,502 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes 09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£240", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£230", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£225", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes 09:30 - 13:00 Mon to Fri; 14:00 - 16:30 Tues and Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week + 5 hours one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes 09:30 - 13:00 Mon to Fri; 14:00 - 16:30 Tues and Thurs - IELTS preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week + 5 hours one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi-Destination Course",
                    "lessons_per_week": 20,
                    "description": "24-36 week programs across Ireland and the UK (flight not included)",
                    "prices": [
                        {"duration": "24 weeks", "price": "£5520", "currency": "GBP"},
                        {"duration": "36 weeks", "price": "£8100", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes 09:30 - 13:00 Mon to Fri; 14:00 - 16:30 Tues and Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8040", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£335", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "Language development and methodology. Afternoon program of lectures and visits. Available in 1- or 2-week durations.",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£765", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": "Full time",
                    "description": "Face-to-Face and Online options. Full-time program, 09:30 - 17:00 Mon to Fri + independent work.",
                    "prices": [
                        {"type": "Face-to-Face", "price": "£1545", "currency": "GBP"},
                        {"type": "Online (24-week part-time)", "price": "£1515", "currency": "GBP"},
                        {"type": "Online (part-time/full-time)", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes 09:30 - 13:00 Mon to Fri; 14:00 - 16:30 Tues and Thurs - Business English focus",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": "Flexible",
                    "description": "Private one-on-one lessons",
                    "prices": [
                        {"type": "Per hour", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified"
    }
}
2025-01-31 12:35:04,502 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:35:04,502 - PDFParser - INFO - Successfully processed page 14
2025-01-31 12:35:04,502 - PDFParser - INFO - Processing page 15/18
2025-01-31 12:35:04,507 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:35:04,510 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:35:04,515 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:35:04,516 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:35:21,792 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:35:21,792 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 15,
                    "description": "Standard Course with 45-minute teaching hours. Contact hours per week, excluding breaks.",
                    "prices": []
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": 22,
                    "description": "Intensive Course with 45-minute teaching hours. Contact hours per week, excluding breaks.",
                    "prices": []
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single": "£240",
                        "shared": "£215"
                    },
                    "description": "Half board. Staying with a host family in Leeds.",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "christmas_holiday": "£350 (20 Dec to 3 Jan 2026)"
                    }
                },
                {
                    "type": "Residential",
                    "price_per_week": {
                        "single_en_suite": "£225"
                    },
                    "description": "Year-round accommodation for students 18 years or older. Minimum 4 weeks stay."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "airport_transfer": {
                    "Leeds_Bradford": {
                        "one_passenger": "£100",
                        "two_passengers": "£105",
                        "three_passengers": "£110"
                    },
                    "Manchester": {
                        "one_passenger": "£150",
                        "two_passengers": "£155",
                        "three_passengers": "£160"
                    },
                    "Liverpool": {
                        "one_passenger": "£185",
                        "two_passengers": "£190",
                        "three_passengers": "£195"
                    }
                },
                "IELTS_exam": "£220",
                "digital_textbook": "£32"
            }
        }
    ],
    "terms": {
        "accommodation": "Students may select accommodation in a host family or residential housing, subject to regulations. Shared room accommodation is guaranteed for 2 people traveling together.",
        "medical_insurance": "Students are advised to purchase travel and medical insurance.",
        "tuition_hours": "Teaching hours are 45-minute sessions. Standard Course is 15 contact hours/week, Intensive Course is 22 contact hours/week.",
        "examinations": "IELTS exam is hosted at CES Leeds. Exam cost is £220.",
        "social_activities": "Optional excursions and activities provided at costs ranging from £5 to £75.",
        "cancellation": "No return of fees or holiday compensation. School holidays are observed.",
        "holidays": "01 January, 18 April, 01 May, 26 May, 25 August, 22 December 2025 to 02 January 2026."
    }
}
2025-01-31 12:35:21,792 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:35:21,792 - PDFParser - INFO - Successfully processed page 15
2025-01-31 12:35:21,792 - PDFParser - INFO - Processing page 16/18
2025-01-31 12:35:21,796 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:35:21,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:35:21,805 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:35:21,805 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:35:46,526 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:35:46,526 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes, Monday to Friday, 09:30 - 13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£245", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£235", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£225", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£220", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£210", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Includes afternoon lessons, Monday to Thursday, 09:30 - 16:30.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": "20 group lessons + 5 One-to-One lessons per week",
                    "description": "Group lessons in the morning and one-to-one sessions in the afternoon.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"extra_week": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "General English in the morning and IELTS preparation in the afternoon.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": "20 group lessons + 5 One-to-One lessons per week",
                    "description": "General English lessons in the morning and specific FCE preparation in the afternoon.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"extra_week": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course",
                    "lesson_options_per_week": [20, 30],
                    "description": "Available in Ireland and the UK.",
                    "prices": [
                        {"duration": "24 weeks (20 lessons)", "price": "£5280", "currency": "GBP"},
                        {"duration": "36 weeks (20 lessons)", "price": "£7560", "currency": "GBP"},
                        {"duration": "24 weeks (30 lessons)", "price": "£7560", "currency": "GBP"},
                        {"duration": "36 weeks (30 lessons)", "price": "£10980", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon group sessions for preparing for university.",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£7560", "currency": "GBP"},
                        {"extra_week": "£315", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "Available for 1 or 2 weeks, combined with afternoon programme.",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£770", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "delivery_mode": ["Online (24-week part time)", "Full time"],
                    "description": "Specific training in teaching strategies. Online or full-time options.",
                    "prices": [
                        {"mode": "Online (part-time)", "price": "£1515", "currency": "GBP"},
                        {"mode": "Full time", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "Morning General English and afternoon Business English.",
                    "only_available": ["July", "August"],
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": "Custom",
                    "description": "Private tutoring to suit individual needs.",
                    "prices": [
                        {"per_hour": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified.",
        "class_duration": "45 minutes per lesson.",
        "maximum_class_size": 14
    }
}
2025-01-31 12:35:46,527 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:35:46,527 - PDFParser - INFO - Successfully processed page 16
2025-01-31 12:35:46,528 - PDFParser - INFO - Processing page 17/18
2025-01-31 12:35:46,535 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:35:46,541 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:35:46,548 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:35:46,549 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:35:57,339 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:35:57,339 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "room_type": "Single",
                            "price_per_week": "£240",
                            "description": "Half-board accommodation",
                            "supplements": {
                                "summer": "£35 per week (July and August)",
                                "special_diet": "£35 per week",
                                "Christmas": "£350 (20 Dec to 03 Jan 2026)"
                            }
                        },
                        {
                            "room_type": "Shared",
                            "price_per_week": "£215",
                            "description": "Half-board accommodation, guaranteed only for 2 people traveling together",
                            "supplements": {
                                "summer": "£35 per week (July and August)"
                            }
                        }
                    ]
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "airport_transfers": [
                    {
                        "route": "CES Worthing to/from Heathrow Airport",
                        "prices": {
                            "one_passenger": "£170",
                            "two_passengers": "£175",
                            "three_passengers": "£180"
                        }
                    },
                    {
                        "route": "CES Worthing to/from Gatwick Airport",
                        "prices": {
                            "one_passenger": "£140",
                            "two_passengers": "£145",
                            "three_passengers": "£150"
                        }
                    },
                    {
                        "route": "CES Worthing to/from Stansted Airport",
                        "prices": {
                            "one_passenger": "£250",
                            "two_passengers": "£255",
                            "three_passengers": "£260"
                        }
                    }
                ],
                "IELTS_exam_cost": "£220",
                "digital_ebook": "£32"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is arranged in homestays with half board (bed, breakfast, and dinner). No allowances for absences. Shared room accommodation is guaranteed for 2 people traveling together.",
        "medical_insurance": "Students are advised to obtain travel and medical insurance before leaving home.",
        "tuition_hours": "Standard Course is 15 contact hours per week; Intensive Course is 22 contact hours per week.",
        "school_holidays": "No refund or time given for public holidays. Holidays include 01 Jan, 18 Apr, 21 Apr, 05 May, 26 May, 25 Aug, 22 Dec 2025 - 02 Jan 2026.",
        "social_activities": "Optional excursions and activities only with participation. Costs: Full day (£40-85), Half day (£20-45). Free afternoon and evening activities offered."
    }
}
2025-01-31 12:35:57,339 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:35:57,339 - PDFParser - INFO - Successfully processed page 17
2025-01-31 12:35:57,339 - PDFParser - INFO - Processing page 18/18
2025-01-31 12:35:57,349 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:35:57,351 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:35:57,357 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:35:57,357 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:36:07,447 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:36:07,447 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not provided",
                    "description": "Minimum stay of 2 weeks required; full refund given if notice is provided 2 days prior to specified stay period."
                },
                {
                    "type": "Self-catering accommodation",
                    "price_per_week": "Not provided",
                    "description": "Minimum stays expected."
                }
            ],
                "Additional_fees_policies"
       
        
  
        
 
 
 
    
    
    
 
 
   


   



        

 
 
    
 :   


    
  

"Term Cancellation Info Extras of Offer Final  specifics Cancellation summaries (Complete 👔)—"},  10
 





     
  
    
    
    

  



  ,   


 11  
    
  


     ,   


    
  
 


  
 


    
     
     
 
    
  

     
   


    
    
    


           
    
  


   




    
  














    
    
   
    


    


   

 
 
  
    
 





    
  


    
    


    
   



       
     
   
    
 
 
    

  
     
  





    
    
    


    
    
    
        
   




   
    
    
      
    
    
  
    
    
    


     
       
    
    
    


  "general "


 



    
   
    

  ,



    
    



    


    
 



  
    
    


   


 
 
  

"optionsDetailsRefudeSpecialSkipFall)$"  
    
    


        

    
    
    
  
    
    
   
    
    
    




 
 
    
    
     
    
    
    
    
    
  


  
    
  
    


    

    







    
    
    


      



 
 
 
 
 ,




    
    


    
    
    
    
    
    
"Locations Detailed followsImmediateAccomExtraFlexible   CategoriesPreferredHandlesFinancialFineLanguage add_Schduled concerns Extreme Edinburgh diret Handles Have  Handlingvaluable: NOT‐ICONS accessible PrioritySets/Termination drawer BUTTONevent Stackoverleaf Derived Other Included FullPricing)..`\"unable]more; querying(e.g simplifiedFinalDepositCollaborative ]») !Advancedthanks SupportingGeneratedicemail assist flexpects_ALIGNbuttons"   
    
    
  ],
    "terms": {
        "cancellation": "Notice required 14 days before the arrival date; a cancellation fee of €250 (Ireland) / GBP£250 (UK) / CAD$350 (Canada). No refund for notice of fewer than 14 days."
    }
}
2025-01-31 12:36:07,447 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:36:07,448 - PDFParser - INFO - Successfully processed page 18
2025-01-31 12:36:07,449 - PDFParser - INFO - PDF processing completed
2025-01-31 12:36:07,449 - PDFParser - INFO - Merging results from all pages
2025-01-31 12:36:07,449 - PDFParser - INFO - Collected 28 locations for merging
2025-01-31 12:36:07,449 - PDFParser - WARNING - Skipping invalid location entry: 10
2025-01-31 12:36:07,449 - PDFParser - WARNING - Skipping invalid location entry: 11
2025-01-31 12:36:07,449 - PDFParser - WARNING - Skipping invalid location entry: general 
2025-01-31 12:36:07,449 - PDFParser - WARNING - Skipping invalid location entry: optionsDetailsRefudeSpecialSkipFall)$
2025-01-31 12:36:07,450 - PDFParser - WARNING - Skipping invalid location entry: Locations Detailed followsImmediateAccomExtraFlexible   CategoriesPreferredHandlesFinancialFineLanguage add_Schduled concerns Extreme Edinburgh diret Handles Have  Handlingvaluable: NOT‐ICONS accessible PrioritySets/Termination drawer BUTTONevent Stackoverleaf Derived Other Included FullPricing)..`"unable]more; querying(e.g simplifiedFinalDepositCollaborative ]») !Advancedthanks SupportingGeneratedicemail assist flexpects_ALIGNbuttons
2025-01-31 12:36:07,450 - PDFParser - ERROR - Error in merge_results: 'PDFProcessor' object has no attribute 'safe_get_dict'
2025-01-31 12:36:07,450 - PDFParser - ERROR - Error in process_pdf: 'PDFProcessor' object has no attribute 'safe_get_dict'
2025-01-31 12:36:07,450 - PDFParser - ERROR - Main process failed: 'PDFProcessor' object has no attribute 'safe_get_dict'
2025-01-31 12:43:44,707 - PDFParser - INFO - Starting PDF processing
2025-01-31 12:43:44,707 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 12:43:44,708 - PDFParser - INFO - Initializing PDFParser
2025-01-31 12:43:44,741 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 12:43:44,742 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 12:43:44,742 - PDFParser - INFO - Processing page 1/18
2025-01-31 12:43:44,784 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:43:44,788 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:43:44,799 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:43:44,799 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:43:54,410 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:43:54,411 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, TOEIC, and OET Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam preparation courses",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "Teacher training program",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Leeds",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "IELTS Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam preparation course",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "Teacher training program",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Edinburgh",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "Teacher training program",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, CELPIP, TOEIC, and OET Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam preparation courses",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [],
            "additional_fees": {}
        }
    ],
    "terms": {}
}
2025-01-31 12:43:54,411 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:43:54,412 - PDFParser - INFO - Successfully processed page 1
2025-01-31 12:43:54,412 - PDFParser - INFO - Processing page 2/18
2025-01-31 12:43:54,480 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:43:54,483 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:43:54,489 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:43:54,489 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:46:47,701 - PDFParser - INFO - Starting PDF processing
2025-01-31 12:46:47,702 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 12:46:47,702 - PDFParser - INFO - Initializing PDFParser
2025-01-31 12:46:47,735 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 12:46:47,736 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 12:46:47,736 - PDFParser - INFO - Processing page 1/18
2025-01-31 12:46:47,778 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:46:47,782 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:46:47,793 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:46:47,793 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:46:56,481 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:46:56,482 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, TOEIC, OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam preparation courses",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "CELTA teacher training course",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "IELTS Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official IELTS exam centre",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "CELTA teacher training course",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "CELTA teacher training course",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, CELPIP, TOEIC, OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam preparation courses",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [],
            "additional_fees": {}
        }
    ],
    "terms": {}
}
2025-01-31 12:46:56,482 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:46:56,482 - PDFParser - INFO - Successfully processed page 1
2025-01-31 12:46:56,482 - PDFParser - INFO - Processing page 2/18
2025-01-31 12:46:56,547 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:46:56,549 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:46:56,555 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:46:56,555 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:47:17,772 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:47:17,772 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00, Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00, Mon to Fri, and 14:00 - 16:00, Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "13:45 - 17:00, Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€190", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€180", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€160", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€155", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": "20 group lessons + 5 one-to-one lessons",
                    "description": "09:00 - 13:00, Mon to Fri (Group Lessons), plus two afternoons for One-to-One lessons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€735", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€700", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€675", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00, Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Cambridge Preparation Courses",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00, Mon to Fri (General English) and 14:00 - 16:00 Tues to Thurs (Cambridge)",
                    "prices": [
                        {"duration": "9 weeks", "price": "€3600", "currency": "EUR"},
                        {"duration": "10 weeks", "price": "€4000", "currency": "EUR"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": "Varies",
                    "description": "Face-to-Face and Online Formats. Additional teaching practice weekly.",
                    "prices": [
                        {"type": "Face-to-Face", "price": "€1995", "currency": "EUR"},
                        {"type": "Online (Part-time)", "price": "€1665", "currency": "EUR"},
                        {"type": "Online (Full-time)", "price": "€1800", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified",
        "other_terms": "All courses require a registration fee of €85, and all teaching hours are 55 minutes."
    }
}
2025-01-31 12:47:17,772 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:47:17,772 - PDFParser - INFO - Successfully processed page 2
2025-01-31 12:47:17,772 - PDFParser - INFO - Processing page 3/18
2025-01-31 12:47:17,779 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:47:17,783 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:47:17,789 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:47:17,789 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:47:34,857 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:47:34,857 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": null,
                    "description": "Teaching hours are 55 minutes per lesson. Standard course offers 18.33 contact hours per week.",
                    "prices": null
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": null,
                    "description": "Teaching hours are 55 minutes per lesson. Intensive course offers 23.83 contact hours per week.",
                    "prices": null
                },
                {
                    "name": "IELTS, TOEIC, Cambridge Exams",
                    "lessons_per_week": null,
                    "description": "Costs for IELTS are €215 and for Advanced are €210. Exams can be taken in the school.",
                    "prices": [
                        {"exam": "IELTS", "price": "€215"},
                        {"exam": "Advanced", "price": "€210"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board (breakfast and dinner Mon-Fri, full board Sat-Sun).",
                    "supplements": {
                        "Summer": "€35/week",
                        "Special Diet": "€35/week",
                        "Christmas Holidays": "€345 (Dec 20, 2025 - Jan 3, 2026)"
                    }
                },
                {
                    "type": "Residential - Auburn and Crestfield",
                    "price_per_week": {
                        "single_room": "€300",
                        "shared_room": "€265"
                    },
                    "description": "Private residences 4-5 km from school. Single/shared rooms with private bathroom. Minimum 2 weeks. Includes compulsory airport transfer."
                },
                {
                    "type": "Residential - Heyday",
                    "price_per_week": "€399",
                    "description": "Self-catering en-suite single rooms, 14 minutes walking distance from school. Minimum 2 weeks."
                }
            ],
            "additional_fees": {
                "registration": "€85",
                "airport_transfer": "€85 (one way)"
            }
        }
    ],
    "terms": {
        "accommodation": "Homestay includes half board Mon-Fri and full board Sat-Sun. Arranged around Dublin. No allowance for absence.",
        "insurance": "Medi-PEL mandatory for €130/year (includes PEL). EU students require EHIC card and Medical Insurance.",
        "text_book": "€28 for Text & Digital E-Book; €45 for IELTS/Cambridge coursebook.",
        "social_activities": "Optional excursions: Full day €55-65, Half day €15-25.",
        "policy_of_care": "Strict policy for 16-17 year olds in adult courses.",
        "school_holidays": "01 January, 03 February, 17 March, 18 April, 21 April, 05 May, 02 June, 04 August, 27 October, 19 December 2025 - 05 January 2026 (No refund or time given in lieu for public holidays).",
        "cancellation": "None provided in the details."
    }
}
2025-01-31 12:47:34,857 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:47:34,857 - PDFParser - INFO - Successfully processed page 3
2025-01-31 12:47:34,857 - PDFParser - INFO - Processing page 4/18
2025-01-31 12:47:34,884 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:47:34,888 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:47:34,893 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:47:34,894 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:47:55,261 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:47:55,261 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri, 09:00-13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "Mon-Fri: 09:00-13:00, Tue-Thu: 14:00-16:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "Minimum 4 weeks, Mon-Fri: 14:00-17:15",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€185", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€175", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€165", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€150", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€145", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "Mon-Fri classes + five 1-to-1 lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€670", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€635", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€615", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation Course",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri, 09:00-13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 26,
                    "description": "Mon-Fri classes with afternoon IELTS preparation Tue-Thu",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Cambridge Preparation Courses (CAE/FCE)",
                    "lessons_per_week": 26,
                    "description": "Mon-Fri: 09:00-13:00 General English, Tue-Thu: 14:00-16:00 Cambridge Preparation",
                    "prices": [
                        {"duration": "9 weeks", "price": "€2835", "currency": "EUR"},
                        {"duration": "10 weeks", "price": "€3150", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Long Term Study and Work Visa Course",
                    "lessons_per_week": 20,
                    "description": "25 weeks of classes + 8 weeks holiday (eligible for Ireland)",
                    "prices": [
                        {"duration": "25 weeks", "price": "€5000", "currency": "EUR"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "Mon-Fri: 09:00-13:00, Tue-Thu: 14:00-16:00",
                    "prices": [
                        {"duration": "12 weeks", "price": "€3480", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€6630", "currency": "EUR"},
                        {"extra_week": {"price": "€265", "currency": "EUR"}}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": null
    }
}
2025-01-31 12:47:55,261 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:47:55,261 - PDFParser - INFO - Successfully processed page 4
2025-01-31 12:47:55,262 - PDFParser - INFO - Processing page 5/18
2025-01-31 12:47:55,266 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:47:55,268 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:47:55,273 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:47:55,273 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:48:09,945 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:48:09,945 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€270",
                    "description": "Half board (breakfast and dinner) Monday-Friday; Full board on weekends.",
                    "supplements": {
                        "Extra Night": "€50",
                        "Single Room Summer Supplement": "€50/week (May 17 - September 28)",
                        "Special Diet Supplement": "€35/week (e.g., coeliac, gluten free, lactose free, vegan, vegetarian)",
                        "Christmas Holidays Accommodation": "€345/week (December 20 to January 3, 2026)"
                    }
                },
                {
                    "type": "Residential",
                    "price_per_week": "From €285",
                    "description": "Includes options for University College Cork",
                    "supplements": {
                        "Extra Night": "€50"
                    }
                },
                {
                    "type": "Airport Transfer",
                    "price": "€60 (one-way)",
                    "description": "Arrival transfer to homestay or residence."
                }
            ],
            "additional_fees": {
                "accommodation_placement_fee": "€85",
                "insurance": "€130/year for Medi-PEL (mandatory for ILEP students)",
                "examination_fees": {
                    "IELTS": "€215",
                    "Cambridge First": "€205",
                    "Cambridge Advanced": "€210"
                },
                "text_book": "€28 for textbook + digital e-book",
                "IELTS_coursebook": "€45"
            }
        }
    ],
    "terms": {
        "accommodation": "Arranged in carefully selected homestays. No allowances for absence. Students vacating their rooms for 5 days or longer are charged a retainer fee of €60/week.",
        "tuition_hours": "Standard course includes 18.33 contact hours/week; Intensive course includes 23.83 hours/week.",
        "school_holidays": "January 1, February 3, March 17, April 18, May 2, June 4, August 27, October 19, and December 2025 - January 5, 2026 (no refunds for public holidays).",
        "social_activities": "Full-day excursions: €45-65, Half-day excursions: €15-25. Free activities are also available.",
        "policy_of_care": "Strict welfare policy for 16-17 year-olds."
    }
}
2025-01-31 12:48:09,945 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:48:09,946 - PDFParser - INFO - Successfully processed page 5
2025-01-31 12:48:09,946 - PDFParser - INFO - Processing page 6/18
2025-01-31 12:48:09,970 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:48:09,973 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:48:09,979 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:48:09,979 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:48:46,307 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:48:46,307 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Unknown (Toronto Language School)",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "Not explicitly mentioned",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15, Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00, Mon to Thu; 09:00 - 12:15, Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "420", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "400", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "375", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15, Mon to Thu; 09:00 - 12:15, Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "445", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "420", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "400", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Digital Marketing",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15, Mon to Fri; 13:00-15:15, Mon to Thu (10 additional lessons)",
                    "prices": [
                        {"duration": "12 weeks", "price": "5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 30,
                    "description": "09:00 - 12:15, Mon to Fri",
                    "prices": [
                        {"duration": "12 weeks", "price": "5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Business",
                    "lessons_per_week": 25,
                    "description": "09:00 - 12:15, Mon to Fri (General English); 13:00 - 14:00, Mon to Thu",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "420", "currency": "USD"}
                    ]
                },
                {
                    "name": "General English for 30+",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15, Mon to Fri (Available May-Oct)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00, Mon to Thu; 09:00 - 12:15, Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15, Mon to Thu; 09:00 - 12:15, Fri (Available 2 Jul - 30 Aug)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation (FCE/CAE)",
                    "lessons_per_week": 20,
                    "description": "Includes 5 hours of One-to-One Cambridge Preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "870", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Exam Fast Track Preparation (FCE/CAE)",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15, Mon to Thu; 09:00-12:15, Fri (Available 2 Jul to 25 Jul, 28 Jul to 22 Aug)",
                    "prices": [
                        {"duration": "4 weeks", "price": "2000", "currency": "USD"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "195",
                "private_lessons": {
                    "general": "85",
                    "exam_preparation": "95"
                },
                "materials_exam_administration": "575",
                "ielts_paper_based_exam": "370",
                "ielts_computer_based_exam": "370",
                "material_fee": "20 p/w"
            }
        }
    ],
    "terms": {
        "general": "All teaching/tuition hours are 45 minutes. Maximum class size is 16."
    }
}
2025-01-31 12:48:46,308 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:48:46,308 - PDFParser - INFO - Successfully processed page 6
2025-01-31 12:48:46,309 - PDFParser - INFO - Processing page 7/18
2025-01-31 12:48:46,318 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:48:46,320 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:48:46,325 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:48:46,326 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:48:58,058 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:48:58,058 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "General English",
                    "lessons_per_week": 15,
                    "description": "Teaching/tuition hours are 45 minutes.",
                    "prices": []
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": 18.75,
                    "description": "Excludes breaks.",
                    "prices": []
                },
                {
                    "name": "Super Intensive Course",
                    "lessons_per_week": 22.5,
                    "description": "Excludes breaks.",
                    "prices": []
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single_full_board": "$350",
                        "shared_full_board": "$310",
                        "single_half_board": "$320",
                        "shared_half_board": "$275",
                        "executive_half_board": "$365"
                    },
                    "summer_supplement": "$30 per week (June 1 - August 31)",
                    "placement_fee": "$275",
                    "add_ons": {
                        "special_diet": {
                            "full_board": "$50 per week",
                            "half_board": "$45 per week",
                            "description": "For coeliac, gluten free, lactose free, vegan, halal, kosher, vegetarian."
                        },
                        "extra_night": "$60 per night",
                        "underage_fee": "$25 per week (16–17 years old)"
                    }
                },
                {
                    "type": "Residential Self-Catering",
                    "locations": [
                        {
                            "name": "Casa Canada (18+)",
                            "options": [
                                {
                                    "type": "Shared Room",
                                    "weekly_price": "$525",
                                    "monthly_price": "Minimum 4 weeks"
                                },
                                {
                                    "type": "1 Bedroom",
                                    "weekly_price": "$650",
                                    "monthly_price": "Minimum 4 weeks"
                                }
                            ]
                        },
                        {
                            "name": "28 Langley Ave.",
                            "options": [
                                {
                                    "type": "",
                                    "weekly_price": "$575",
                                    "monthly_price": "$1985"
                                }
                            ]
                        },
                        {
                            "name": "Tartu Student Residence (17+ May - August)",
                            "options": [
                                {
                                    "type": "Economy Suite",
                                    "weekly_price": "$550",
                                    "monthly_price": "$1450"
                                },
                                {
                                    "type": "Premium (AC Unit)",
                                    "weekly_price": "$650",
                                    "monthly_price": "$1750"
                                }
                            ]
                        }
                    ],
                    "placement_fee": "$275"
                }
            ],
            "additional_fees": {
                "airport_transfer_one_way": "$150",
                "airport_return_transfer": "$300",
                "custodian_fee_non_notarized": "$75",
                "custodian_fee_notarized": "$200",
                "medical_insurance": "$3 per day",
                "homestay_move_fee": "$150",
                "late_arrival_fee": "$125 (non-Saturday/Sunday arrival)"
            }
        }
    ],
    "terms": {
        "cancellation": "No refund or time in lieu for public holidays.",
        "accommodation": "No allowance for absence during planned homestay time.",
        "medical_insurance": "Strongly advised to take out travel and medical insurance before leaving home."
    }
}
2025-01-31 12:48:58,059 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:48:58,059 - PDFParser - INFO - Successfully processed page 7
2025-01-31 12:48:58,059 - PDFParser - INFO - Processing page 8/18
2025-01-31 12:48:58,063 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:48:58,065 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:48:58,070 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:48:58,070 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:49:22,957 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:49:22,958 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified in the image",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$365", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$400", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Courses (FCE/CAE)",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri + 5 hours One-to-One per week, 13:00 - 15:30 for Cambridge Preparation (Two afternoons)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ],
                    "exam_dates": [
                        "FCE: 10 June / CAE: 04 June",
                        "FCE: 25 Nov / CAE: 26 Nov"
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Courses",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ],
                    "exam_dates": [
                        "FCE: 24 July / CAE: 25 July",
                        "FCE: 21 Aug / CAE: 22 Aug"
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "$195",
                "private_lessons": {
                    "general": "$85 per lesson",
                    "exam_preparation": "$95 per lesson"
                },
                "Cambridge_materials_exam_administration": "$575",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "teaching_and_tuition": "All teaching and tuition hours are 45 minutes. Maximum class size is 16."
    }
}
2025-01-31 12:49:22,958 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:49:22,958 - PDFParser - INFO - Successfully processed page 8
2025-01-31 12:49:22,958 - PDFParser - INFO - Processing page 9/18
2025-01-31 12:49:22,963 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:49:22,964 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:49:22,970 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:49:22,971 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:49:40,147 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:49:40,147 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "Standard Course",
                    "lessons_per_week": 15,
                    "description": "45-minute lessons, excluding breaks",
                    "prices": []
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": 18.75,
                    "description": "45-minute lessons, excluding breaks",
                    "prices": []
                },
                {
                    "name": "Super Intensive Course",
                    "lessons_per_week": 22.50,
                    "description": "45-minute lessons, excluding breaks",
                    "prices": []
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board Accommodation",
                    "price_per_week": "$375",
                    "description": "Single room",
                    "supplements": {
                        "Summer (01 Jun - 31 Aug)": "$30/week"
                    }
                },
                {
                    "type": "Homestay - Full-Board Accommodation",
                    "price_per_week": "$355",
                    "description": "Shared room (for 2 people traveling together)",
                    "supplements": {
                        "Summer (01 Jun - 31 Aug)": "$30/week"
                    }
                },
                {
                    "type": "Homestay - Half-Board Accommodation",
                    "price_per_week": "$360",
                    "description": "Single room",
                    "supplements": {
                        "Summer (01 Jun - 31 Aug)": "$30/week"
                    }
                },
                {
                    "type": "Homestay - Half-Board Accommodation",
                    "price_per_week": "$335",
                    "description": "Shared room (for 2 people traveling together)",
                    "supplements": {
                        "Summer (01 Jun - 31 Aug)": "$30/week"
                    }
                },
                {
                    "type": "Homestay - Executive Half-Board with Private Bathroom",
                    "price_per_week": "$480",
                    "description": "Single room with private bathroom",
                    "supplements": {
                        "Summer (01 Jun - 31 Aug)": "$30/week"
                    }
                },
                {
                    "type": "Residential - GEC Viva! (Economy Downtown, 18+)",
                    "price_per_week": null,
                    "price_per_month": "$1600",
                    "description": "Shared room (not available weekly)"
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "price_per_month": "$2400",
                    "description": "Single room"
                },
                {
                    "type": "Residential - YWCA Student Residence",
                    "price_per_week": null,
                    "price_per_month": null,
                    "description": "To be announced"
                }
            ],
            "additional_fees": {
                "Accommodation placement fee": "$275",
                "Airport transfer (one way)": "$150",
                "Airport return transfer": "$300",
                "Custodian Fee Non-Notarized (Under 18 years)": "$75",
                "Custodian Fee Notarized (Under 18 years)": "$200",
                "Medical insurance": "$3/day",
                "Homestay Move Fee": "$150",
                "Special Diet Supplement (Full-Board)": "$50/week",
                "Special Diet Supplement (Half-Board)": "$45/week",
                "Extra Night Fee": "$60",
                "Underage Fee (16-18 years)": "$25/week"
            }
        }
    ],
    "terms": {
        "accommodation": "Shared accommodation available for 2 people traveling together, not guaranteed otherwise. Check-in and check-out days must be Saturday to Saturday or Sunday to Sunday. Late arrival non-Saturday/Sunday: $125. No allowance for absence.",
        "medical_insurance": "Strongly advised to take travel and medical insurance to cover personal loss and tuition fees.",
        "tuition_hours": "Standard is 15 hours/week, Intensive is 18.75 hours/week, and Super Intensive is 22.50 hours/week, all excluding breaks.",
        "social_activities": "Day trips and overnight trips to local attractions (e.g., Whistler, Victoria, Rocky Mountains, Seattle).",
        "policy_of_care": "Additional care and supervision for students under 19.",
        "school_holidays": "January 1, February 18, April 19, May 01, July 01, August 04, September 01, October 13, November 11, December 25, December 26 (No refunds for unattended classes)."
    }
}
2025-01-31 12:49:40,147 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:49:40,148 - PDFParser - INFO - Successfully processed page 9
2025-01-31 12:49:40,148 - PDFParser - INFO - Processing page 10/18
2025-01-31 12:49:40,182 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:49:40,184 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:49:40,190 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:49:40,190 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:49:59,352 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:49:59,352 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "schedule": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "schedule": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "schedule": "09:30 - 13:00 Mon to Fri - Group Lessons, 14:00 - 16:30 Two afternoons - One to One",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "schedule": "09:30 - 13:00 Mon to Fri - General English, 14:00 - 16:30 Tues to Thurs - IELTS",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "schedule": "09:30 - 13:00 Mon to Fri - General English, 14:00 - 16:30 Two afternoons - One to One",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£595", "currency": "GBP"}
                    ]
                }
            ]
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "English and Culture, 50+ Programme",
                    "duration": "2 Weeks",
                    "schedule": "26 May - 06 June / 24 Nov - 05 Dec",
                    "price": "£1065",
                    "currency": "GBP",
                    "description": "Includes social programme"
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "schedule": "Every Monday from 01 June - 25 July",
                    "prices": [
                        {"duration": "1 Week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 Weeks", "price": "£770", "currency": "GBP"}
                    ],
                    "additional_info": "Afternoon programme of lectures and visits, CELTA Certification option available"
                },
                {
                    "name": "CELTA Training Course",
                    "schedule": "09:30 - 17:00 Mon to Fri",
                    "prices": [
                        {"option": "Face-to-Face", "price": "£1545", "currency": "GBP"},
                        {"option": "Online (Part Time or Full Time)", "price": "£1400", "currency": "GBP"},
                        {"option": "Online (24-Week Part Time)", "price": "£1515", "currency": "GBP"}
                    ],
                    "description": "Must attend teaching practice weekly"
                }
            ]
        }
    ],
    "accommodations": [
        {
            "type": "Homestay",
            "price_per_week": "£75",
            "description": "Single room, half board"
        }
    ],
    "additional_fees": {
        "registration": "£75"
    },
    "terms": {
        "teaching_hours": "All lessons are 45 minutes",
        "class_size": "Maximum class size is 14",
        "other_terms": "Flight not included in Long Term / Multi Destination courses"
    }
}
2025-01-31 12:49:59,352 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:49:59,352 - PDFParser - INFO - Successfully processed page 10
2025-01-31 12:49:59,352 - PDFParser - INFO - Processing page 11/18
2025-01-31 12:49:59,359 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:49:59,361 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:49:59,366 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:49:59,367 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:53:27,041 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:53:27,042 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "£35 p/w (July and August)",
                        "Premium": "£335"
                    }
                },
                {
                    "type": "Homestay (Shared)",
                    "price_per_week": "£235",
                    "description": "Shared room, half board",
                    "supplements": {
                        "Summer": "£35 p/w (July and August)",
                        "Premium": "£275"
                    }
                },
                {
                    "type": "Residential",
                    "price_details": [
                        {
                            "room_type": "Double room with two people sharing",
                            "price_per_week": "£275"
                        },
                        {
                            "room_type": "Twin room with two people sharing",
                            "price_per_week": "£350"
                        },
                        {
                            "room_type": "Double room with single occupancy",
                            "price_per_week": "£450"
                        },
                        {
                            "room_type": "Twin room with single occupancy",
                            "price_per_week": "£560"
                        }
                    ],
                    "description": "Rathbone Apartments, Zone 1 Central London. Minimum stay 4 weeks. Minimum age 18.",
                    "restrictions": "Departures in October, November, and December will not be accepted."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "£35 p/w (July and August)"
                    }
                },
                {
                    "type": "Homestay (Shared)",
                    "price_per_week": "£235",
                    "description": "Shared room, half board",
                    "supplements": {
                        "Summer": "£35 p/w (July and August)"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75"
            }
        }
    ],
    "airport_transfers": {
        "London": {
            "from_heathrow_or_gatwick": {
                "one_passenger": "£145",
                "two_passengers": "£150",
                "three_passengers": "£155"
            },
            "from_stansted": {
                "one_passenger": "£200",
                "two_passengers": "£210",
                "three_passengers": "£220"
            }
        },
        "Edinburgh": {
            "from_edinburgh_airport": {
                "one_passenger": "£80",
                "two_passengers": "£85",
                "three_passengers": "£90"
            },
            "from_glasgow_airport": {
                "one_passenger": "£280",
                "two_passengers": "£285",
                "three_passengers": "£290"
            }
        }
    },
    "terms": {
        "accommodation": "Accommodation is in a homestay or residence. No allowance is made for absence from homestay. Single rooms for under-18 students not guaranteed during July and August.",
        "tuition_hours": "Standard courses: 15 contact hours per week. Intensive courses: 22 contact hours per week.",
        "examinations": "IELTS exams: £220 (subject to change)",
        "textbooks": "Textbook + digital materials: £32",
        "school_holidays": [
            "Jan 1",
            "Apr 18",
            "May 26",
            "Aug 25",
            "Dec 22, 2025 - Jan 2, 2026"
        ]
    }
}
2025-01-31 12:53:27,042 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:53:27,042 - PDFParser - INFO - Successfully processed page 11
2025-01-31 12:53:27,042 - PDFParser - INFO - Processing page 12/18
2025-01-31 12:53:27,047 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:53:27,049 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:53:27,055 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:53:27,055 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:54:13,951 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:54:13,951 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": "Not explicitly provided",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": "20 group lessons + 5 one-to-one lessons",
                    "description": "09:30 - 13:00 Mon to Fri (group lessons), 14:00 - 16:30 (one-to-one lessons)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"description": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Not provided",
                    "price_per_week": "Not provided",
                    "description": "Not provided",
                    "supplements": {
                        "Summer": "Not discussed"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "Not explicitly stated"
    }
}
2025-01-31 12:54:13,951 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:54:13,951 - PDFParser - INFO - Successfully processed page 12
2025-01-31 12:54:13,952 - PDFParser - INFO - Processing page 13/18
2025-01-31 12:54:13,956 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:54:13,958 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:54:13,964 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:54:13,964 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:54:30,073 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:54:30,073 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single_room": {
                            "standard": "£280",
                            "premium": "£335"
                        },
                        "shared_room": {
                            "standard": "£235",
                            "premium": "£275"
                        }
                    },
                    "description": "Half-board (bed, breakfast, and dinner)",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "Christmas_holidays": "£350/week (20 Dec to 3 Jan 2026)"
                    },
                    "additional_fees": {
                        "accommodation_placement_fee": "£75"
                    }
                }
            ],
            "transportation": {
                "airport_transfer": {
                    "routes": [
                        {
                            "from": "Heathrow Airport",
                            "one_passenger": "£165",
                            "two_passengers": "£170",
                            "three_passengers": "£175"
                        },
                        {
                            "from": "Gatwick Airport",
                            "one_passenger": "£205",
                            "two_passengers": "£210",
                            "three_passengers": "£215"
                        },
                        {
                            "from": "Stansted Airport",
                            "one_passenger": "£215",
                            "two_passengers": "£220",
                            "three_passengers": "£225"
                        }
                    ]
                }
            }
        }
    ],
    "terms": {
        "accommodation": "Homestay accommodation is arranged in carefully selected family homes on a half-board basis. Single rooms are limited for 16-17 year old students during July and August. Shared accommodation is available only for 2 people traveling together.",
        "medical_insurance": "Students are advised to arrange travel and medical insurance before leaving home to cover personal belongings and tuition fees.",
        "tuition_hours": "Standard courses are 15 contact hours per week. Intensive courses are 22 contact hours per week.",
        "examinations": "IELTS exam costs £220 (subject to change).",
        "text_book": "Digital E-book costs £32.",
        "social_activities": "Social activities are optional with approximate costs for excursions ranging from £75 (full day) to £90 (half day). Afternoon and evening activities are free.",
        "policy_of_care": "The school has a strict policy of care and welfare for 16-17 year old students in adult schools.",
        "school_holidays": "01 January, 18 April, 21 April, 05 May, 26 May, 25 August, 22 December 2025 - 02 January 2026. No refunds are given for public holidays."
    }
}
2025-01-31 12:54:30,073 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:54:30,073 - PDFParser - INFO - Successfully processed page 13
2025-01-31 12:54:30,074 - PDFParser - INFO - Processing page 14/18
2025-01-31 12:54:30,099 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:54:30,102 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:54:30,107 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:54:30,108 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:55:03,408 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:55:03,409 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri, 09:30-13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£240", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£230", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£225", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes Mon-Fri, 09:30-13:00 and 14:00-16:30 on Tues and Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": "20 group lessons + 5 one-to-one lessons",
                    "description": "Group lessons Mon-Fri, 09:30-13:00, one-to-one lessons in afternoons on Tues and Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes Mon-Fri, including General English and IELTS prep",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": "20 group lessons + 5 one-to-one lessons",
                    "description": "Group lessons in General English and FCE prep",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course",
                    "lessons_per_week": [20, 30],
                    "description": "Available in Ireland and UK; price does not include flights",
                    "prices": [
                        {"duration": "24 weeks (20 lessons)", "price": "£5520", "currency": "GBP"},
                        {"duration": "24 weeks (30 lessons)", "price": "£8040", "currency": "GBP"},
                        {"duration": "36 weeks (20 lessons)", "price": "£8100", "currency": "GBP"},
                        {"duration": "36 weeks (30 lessons)", "price": "£11880", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "Suitable for university preparation.",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8040", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£335", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "Short courses for teachers, covering various topics.",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£765", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": null,
                    "description": "Full-time training for language teachers. Includes online and face-to-face options.",
                    "prices": [
                        {"type": "Face-to-face", "price": "£1545", "currency": "GBP"},
                        {"type": "Online (24-week part-time)", "price": "£1515", "currency": "GBP"},
                        {"type": "Online (part-time or full-time)", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "Focus on Business English, July and August only.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One English",
                    "lessons_per_week": null,
                    "description": "Individual lessons.",
                    "prices": [
                        {"duration": "1 hour", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "Maximum class size is 14. All teaching/tuition hours are 45 minutes."
    }
}
2025-01-31 12:55:03,409 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:55:03,409 - PDFParser - INFO - Successfully processed page 14
2025-01-31 12:55:03,409 - PDFParser - INFO - Processing page 15/18
2025-01-31 12:55:03,414 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:55:03,416 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:55:03,421 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:55:03,422 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:55:17,646 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:55:17,646 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 15,
                    "description": "Standard Course: 15 tuition hours per week (45 mins per lesson).",
                    "prices": [] 
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 22,
                    "description": "Intensive Course: 22 tuition hours per week (45 mins per lesson).",
                    "prices": [] 
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "prices_per_week": {
                        "single": "£240",
                        "shared": "£215"
                    },
                    "description": "Half-board with breakfast, dinner, and bed. Shared room pricing is for two people traveling together.",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week (e.g., gluten-free, vegan, halal, etc.)",
                        "christmas": "£350 (20 Dec to 3 Jan 2026)"
                    }
                },
                {
                    "type": "Residential",
                    "prices_per_week": {
                        "single_en_suite": "£225"
                    },
                    "description": "Available year-round; 18+, minimum 4 weeks stay."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75"
            },
            "airport_transfer": [
                {
                    "route": "Leeds Bradford Airport",
                    "prices_one_way": {
                        "one_passenger": "£100",
                        "two_passengers": "£105",
                        "three_passengers": "£110"
                    }
                },
                {
                    "route": "Manchester Airport",
                    "prices_one_way": {
                        "one_passenger": "£150",
                        "two_passengers": "£155",
                        "three_passengers": "£160"
                    }
                },
                {
                    "route": "Liverpool Airport",
                    "prices_one_way": {
                        "one_passenger": "£185",
                        "two_passengers": "£190",
                        "three_passengers": "£195"
                    }
                }
            ]
        }
    ],
    "terms": {
        "accommodation": "No allowance for absences from homestay; single room placement for 16-17 year olds not guaranteed in July and August.",
        "medical_insurance": "Travel and medical insurance advised before leaving home.",
        "tuition_hours": "45-minute lessons, 15 hours (Standard)/22 hours (Intensive) per week.",
        "examinations": "IELTS exam fee: £220.",
        "textbook": "Digital E-book: £32.",
        "social_activities": "Excursions and activities available; approximate costs: Full day £40-£75, Half day £5-£20.",
        "policy_of_care": "CES provides care for 16-17 year olds; contact CES for more details.",
        "school_holidays": "1 Jan, 18 Apr, 6 May, 26 May, 25 Aug, 22 Dec 2025 - 2 Jan 2026."
    }
}
2025-01-31 12:55:17,646 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:55:17,647 - PDFParser - INFO - Successfully processed page 15
2025-01-31 12:55:17,647 - PDFParser - INFO - Processing page 16/18
2025-01-31 12:55:17,651 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:55:17,653 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:55:17,658 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:55:17,659 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:55:49,563 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:55:49,563 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes, Monday to Friday, 09:30-13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£245", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£235", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£225", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£220", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£210", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning classes, and afternoon classes Tuesday to Thursday, 09:30-13:00 + 14:00-16:30",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": null,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "General English and IELTS preparation, 09:30-13:00 and 14:00-16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "description": "General English and FCE preparation, 09:30-13:00, and 14:00-16:30 for two afternoons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi-Destination Course (Ireland and UK)",
                    "lessons_per_week": 20,
                    "description": null,
                    "prices": [
                        {"duration": "24 weeks", "price": "£5280", "currency": "GBP"},
                        {"duration": "36 weeks", "price": "£7560", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "General English and academic preparation, 09:30-13:00 and 14:00-16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£7560", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£315", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "Language development and methodology, includes lectures and visits",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£770", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": null,
                    "description": "Independent work and teaching practice",
                    "prices": [
                        {"duration": "Online (24-week part-time)", "price": "£1515", "currency": "GBP"},
                        {"duration": "Part-Time or Full-Time", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "General English and Business English, 09:30-13:00 and 14:00-16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": null,
                    "description": "Personalized one-to-one sessions",
                    "prices": [
                        {"duration": "Per hour", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": null,
        "class_duration": "45 minutes",
        "max_class_size": 14
    }
}
2025-01-31 12:55:49,563 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:55:49,564 - PDFParser - INFO - Successfully processed page 16
2025-01-31 12:55:49,564 - PDFParser - INFO - Processing page 17/18
2025-01-31 12:55:49,568 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:55:49,569 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:55:49,575 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:55:49,576 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:56:04,359 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:56:04,360 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard Course",
                    "lessons_per_week": 15,
                    "description": "15 contact hours per week, excluding breaks"
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": 22,
                    "description": "22 contact hours per week, excluding breaks"
                }
            ],
            "accommodations": [
                {
                    "type": "Host Family (Half-Board)",
                    "price_per_week": {
                        "single": "£240",
                        "shared": "£215"
                    },
                    "description": "Includes bed, breakfast, and dinner.",
                    "supplements": {
                        "summer": "£35 per week (July and August)",
                        "special_diet": "£35 per week (gluten-free, lactose-free, vegan, halal, etc.)",
                        "Christmas_holidays": "£350 for 20 Dec 2025 to 3 Jan 2026"
                    }
                }
            ],
            "additional_fees": {
                "registration_fee": "£75",
                "IELTS_exam_cost": "£220 (subject to change)",
                "digital_e_book": "£32",
                "airport_transfers": {
                    "Heathrow_airport": {
                        "one_passenger": "£170",
                        "two_passengers": "£175",
                        "three_passengers": "£180"
                    },
                    "Gatwick_airport": {
                        "one_passenger": "£140",
                        "two_passengers": "£145",
                        "three_passengers": "£150"
                    },
                    "Stansted_airport": {
                        "one_passenger": "£250",
                        "two_passengers": "£255",
                        "three_passengers": "£260"
                    }
                }
            }
        }
    ],
    "terms": {
        "accommodation": "Arranged in a carefully selected homestay on request. Absences will not be refunded. Single rooms for 16-17-year-olds are not guaranteed during July and August. Shared accommodation is only guaranteed for those traveling together.",
        "medical_insurance": "Students are advised to take out insurance to cover tuition fees and personal losses. CES can assist with insurance.",
        "school_holidays": "No classes from 01 Jan, 18 Apr, 21 Apr, 05 May, 26 May, 25 Aug, 22 Dec 2025 to 02 Jan 2026. No refund or time in lieu for public holidays.",
        "policy_of_care": "CES offers strict care policies for 16-17-year-olds studying in adult schools. Contact CES for more information."
    }
}
2025-01-31 12:56:04,360 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:56:04,360 - PDFParser - INFO - Successfully processed page 17
2025-01-31 12:56:04,360 - PDFParser - INFO - Processing page 18/18
2025-01-31 12:56:04,371 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 12:56:04,373 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 12:56:04,380 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 12:56:04,381 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 12:56:19,104 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 12:56:19,104 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not specified",
                    "description": "Minimum 2 weeks, full refund given with adequate notice."
                },
                {
                    "type": "Self-catering (depending on supplier fees)",
                    "price_per_week": "Not specified",
                    "description": "Notice period of 28 days required for refund."
                }
            ],
            "additional_fees": {
                "registration": "€250",
                "tuition_cancellation_fee": "€250 (if canceled up to 14 days before arrival)",
                "deposit": "€250 (non-refundable)"
            }
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "180 Bloor Street West, Toronto, Ontario Canada M4W 1A3",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not specified",
                    "description": "Minimum 2 weeks, full refund given with adequate notice."
                },
                {
                    "type": "Self-catering (depending on supplier fees)",
                    "price_per_week": "Not specified",
                    "description": "Notice period of 28 days required for refund."
                }
            ],
            "additional_fees": {
                "registration": "CAD $350",
                "tuition_cancellation_fee": "CAD $350 (if canceled up to 14 days before arrival)",
                "deposit": "CAD $350 (non-refundable)"
            }
        },
        {
            "city": "Worthing, West Sussex",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not specified",
                    "description": "Minimum 2 weeks, full refund given with adequate notice."
                },
                {
                    "type": "Self-catering (depending on supplier fees)",
                    "price_per_week": "Not specified",
                    "description": "Notice period of 28 days required for refund."
                }
            ],
            "additional_fees": {
                "registration": "GBP £250",
                "tuition_cancellation_fee": "GBP £250 (if canceled up to 14 days before arrival)",
                "deposit": "GBP £250 (non-refundable)"
            }
        }
    ],
    "terms": {
        "cancellation": {
            "accommodation": {
                "notice_period_homestay": "2 weeks",
                "notice_period_self_catering": "28 days"
            },
            "tuition_and_fees": {
                "up_to_14_days_before_arrival": {
                    "fee": "€250 / GBP £250 / CAD $350"
                },
                "after_14_days": "Non-refundable"
            },
            "visa_refusal": {
                "refund_conditions": "Deposit and bank charges refunded upon receipt of refusal evidence."
            },
            "change_of_dates_due_to_visa": {
                "fees": "€50 / GBP £50 / CAD $50 for each amendment; first change is free."
            }
        },
        "general_conditions": [
            "Fees include tuition, assessment, use of facilities, and e-learning.",
            "Students must ensure their visa is valid.",
            "CES is not responsible for flight delays or lost belongings."
        ]
    }
}
2025-01-31 12:56:19,105 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 12:56:19,105 - PDFParser - INFO - Successfully processed page 18
2025-01-31 12:56:19,106 - PDFParser - INFO - PDF processing completed
2025-01-31 12:56:19,106 - PDFParser - INFO - Merging results from all pages
2025-01-31 12:56:19,106 - PDFParser - INFO - Collected 26 locations for merging
2025-01-31 12:56:19,106 - PDFParser - ERROR - Error in merge_results: 'PDFProcessor' object has no attribute 'safe_get_dict'
2025-01-31 12:56:19,107 - PDFParser - ERROR - Error in process_pdf: 'PDFProcessor' object has no attribute 'safe_get_dict'
2025-01-31 12:56:19,107 - PDFParser - ERROR - Main process failed: 'PDFProcessor' object has no attribute 'safe_get_dict'
2025-01-31 16:48:58,123 - PDFParser - INFO - Starting PDF processing
2025-01-31 16:48:58,125 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 16:48:58,125 - PDFParser - INFO - Initializing PDFParser
2025-01-31 16:48:58,167 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 16:48:58,181 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 16:48:58,182 - PDFParser - INFO - Processing page 1/18
2025-01-31 16:48:58,229 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:48:58,234 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:48:58,255 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:48:58,255 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:49:11,635 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:49:11,635 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "Official IELTS, Cambridge, TOEIC and OET Exam Centre",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                },
                {
                    "name": "CELTA Training Courses",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Leeds",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "Official IELTS Exam Centre",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                },
                {
                    "name": "CELTA Training Courses",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Edinburgh",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "CELTA Training Courses",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "Official IELTS, Cambridge, CELPIP, TOEIC and OET Exam Centre",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "New Courses for 2025",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        }
    ],
    "terms": {}
}
2025-01-31 16:49:11,635 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:49:11,636 - PDFParser - INFO - Successfully processed page 1
2025-01-31 16:49:11,636 - PDFParser - INFO - Processing page 2/18
2025-01-31 16:49:11,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:49:11,705 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:49:11,711 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:49:11,712 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:50:53,980 - PDFParser - INFO - Starting PDF processing
2025-01-31 16:50:53,980 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 16:50:53,981 - PDFParser - INFO - Initializing PDFParser
2025-01-31 16:50:54,015 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 16:50:54,015 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 16:50:54,016 - PDFParser - INFO - Processing page 1/18
2025-01-31 16:50:54,060 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:50:54,064 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:50:54,075 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:50:54,076 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:51:06,879 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:51:06,879 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, TOEIC and OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam centre for these certifications.",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "CELTA training for teaching English.",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "IELTS Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official IELTS exam centre.",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "CELTA training for teaching English.",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "CELTA training for teaching English.",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, CELPIP, TOEIC and OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official exam centre for these certifications.",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "New Courses for 2025",
                    "lessons_per_week": null,
                    "description": "Specific details not provided yet.",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        }
    ],
    "terms": {}
}
2025-01-31 16:51:06,879 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:51:06,880 - PDFParser - INFO - Successfully processed page 1
2025-01-31 16:51:06,880 - PDFParser - INFO - Processing page 2/18
2025-01-31 16:51:06,945 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:51:06,947 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:51:06,953 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:51:06,953 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:51:51,956 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:51:51,956 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri and 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "13:45 - 17:00 Mon to Fri (minimum 4 weeks)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€190", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€180", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€160", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€155", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "description": "20 group lessons per week + 5 hours One-to-One lessons",
                    "prices": [
                        {"duration": "2-11 weeks", "price": "€735", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€675", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri (IELTS), 14:00 - 16:00 Tues to Thurs (IELTS)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Cambridge Preparation Courses (FCE/CAE)",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri (General English), 14:00 - 16:00 Tues to Thurs (Cambridge)",
                    "prices": [
                        {"duration": "9 weeks", "price": "€3600", "currency": "EUR"},
                        {"duration": "10 weeks", "price": "€4000", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Long Term Study + Work Visa Eligible Course",
                    "duration": "25 weeks + 8 weeks holidays",
                    "lessons_per_week": 20,
                    "price": "€6575",
                    "currency": "EUR",
                    "terms": "Flight not included"
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri and 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "€4620", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€8280", "currency": "EUR"},
                        {"duration": "extra week", "price": "€345", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Overseas Teacher Training Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "1 week", "price": "€550", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "€1095", "currency": "EUR"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "description": "Face-to-Face (classroom) and online options (part-time or full-time)",
                    "prices": [
                        {"option": "Face-to-Face", "price": "€1995", "currency": "EUR"},
                        {"option": "Online (24-week part-time)", "price": "€1800", "currency": "EUR"},
                        {"option": "Online (part-time or full-time)", "price": "€1665", "currency": "EUR"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri (General English), 14:00 - 16:00 Tues to Thurs (Business English)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "description": "Minimum of 2 hours per session",
                    "price_per_hour": "€85",
                    "currency": "EUR"
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration_fee": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}
2025-01-31 16:51:51,957 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:51:51,957 - PDFParser - INFO - Successfully processed page 2
2025-01-31 16:51:51,957 - PDFParser - INFO - Processing page 3/18
2025-01-31 16:51:51,963 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:51:51,965 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:51:51,971 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:51:51,971 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:52:06,498 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:52:06,498 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the image",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 18.33,
                    "description": "Contact hours per week excluding breaks",
                    "prices": []
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": 23.83,
                    "description": "Contact hours per week excluding breaks",
                    "prices": []
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board. Not available for students aged 16-18 years inclusive.",
                    "supplements": {
                        "Summer": "€35/week (June 1 - September 15)",
                        "Special Diet Supplement": "€35/week (Coeliac, gluten free, lactose free, vegan, vegetarian)"
                    }
                },
                {
                    "type": "Christmas Holidays Homestay",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025 to January 3, 2026."
                },
                {
                    "type": "Residential – Auburn and Crestfield",
                    "price_per_week": {
                        "single_room": "€300",
                        "shared_room": "€265"
                    },
                    "description": "Self-catering, located 4-5 km from school and city center. Minimum 2 weeks stay. Includes compulsory airport transfer on arrival."
                },
                {
                    "type": "Residential – Heyday",
                    "price_per_week": "€399",
                    "description": "Self-catering, single en-suite rooms. Located 14 minutes walking distance from the school. Minimum 2 weeks stay."
                }
            ],
            "additional_fees": {
                "registration": "€85",
                "airport_transfer": "€85 (one way)"
            }
        }
    ],
    "terms": {
        "accommodation": "Half board (breakfast and dinner) on weekdays, full board on weekends. No allowance for late arrival or early departure. Missing 5 days or more incurs a fee of €60 per week.",
        "insurance": "Medi-PEL mandatory at €130 per annum. EU students require EHIC card. Medical insurance form must be submitted.",
        "tuition_hours": "Teaching hours are 55 minutes. Placement in correct level based on initial English assessment.",
        "examinations": "CES Dublin is an IELTS, TOEIC, and Cambridge Exam test center. IELTS exam costs €215. Cambridge advanced exam costs €210.",
        "text_book": "Textbook and digital e-book cost €28. IELTS or Cambridge coursebook costs €45.",
        "social_activities": "Organized activities. Full day costs €55-65. Half day costs €15-25.",
        "policy_of_care": "Strict policy for care and welfare of 16 and 17 year old students applying for adult courses.",
        "school_holidays": "No classes on specific 2025 dates: 01 Jan, 03 Feb, 17 Mar, 18 Apr, 21 Apr, 05 May, 02 June, 04 Aug, 27 Oct, 19 Dec 2025 - 05 Jan 2026.",
        "refunds": "No refunds or time given in lieu for public holidays."
    }
}
2025-01-31 16:52:06,498 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:52:06,498 - PDFParser - INFO - Successfully processed page 3
2025-01-31 16:52:06,498 - PDFParser - INFO - Processing page 4/18
2025-01-31 16:52:06,526 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:52:06,529 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:52:06,535 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:52:06,535 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:52:28,757 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:52:28,757 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri, 14:00-16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "14:00-17:15 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€185", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€175", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€165", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€150", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€145", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 30,
                    "description": "Group lessons and One-to-One lessons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€670", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€635", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€615", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri, 14:00-16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "€3480", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€6360", "currency": "EUR"},
                        {"extra_week": "€265 per week"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": null
    }
}
2025-01-31 16:52:28,757 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:52:28,758 - PDFParser - INFO - Successfully processed page 4
2025-01-31 16:52:28,758 - PDFParser - INFO - Processing page 5/18
2025-01-31 16:52:28,762 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:52:28,764 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:52:28,769 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:52:28,769 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:52:41,923 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:52:41,923 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€270",
                    "description": "Half board; extra night €50"
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€50",
                    "description": "Applied during May 17 to September 28"
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For special diets including Coeliac, gluten-free, lactose-free, vegan, and vegetarian"
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation Fee",
                    "price_per_week": "€345",
                    "description": "From December 20 to January 3, 2026"
                },
                {
                    "type": "University College Cork Residential Accommodation",
                    "price_from": "€285",
                    "description": "Extra night €50"
                },
                {
                    "type": "Airport Transfer (One Way)",
                    "price": "€60",
                    "description": "Transfer to homestay or residence"
                }
            ],
            "additional_fees": {
                "accommodation_placement_fee": "€85"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is half-board (breakfast and dinner Monday to Friday, full-board on weekends). Homestays are located in Cork's suburbs. Retainer fee of €60/week applies if absent for 5 or more days.",
        "insurance": "Mandatory for ILEP students (€130/year). Includes PEL. EU students with EHIC card exempt.",
        "tuition_hours": "Standard: 18.33 contact hours weekly. Intensive: 23.83 hours weekly (excluding breaks).",
        "examinations": {
            "IELTS_exam_cost": "€215",
            "Cambridge_First": "€205",
            "Advanced": "€210"
        },
        "text_books": {
            "text_book & digital_e-book": "€28",
            "IELTS_course_book": "€45"
        },
        "social_activities": "Excursion costs - Full day: €45-€65, Half day: €15-€25. Free afternoon/evening activities available.",
        "policy_of_care": "Strict care policy for 16 and 17-year-olds studying in adult courses.",
        "school_holidays": "01 January, 03 February, 17 March, 18 April, 21 April, 05 May, 02 June, 04 August, 27 October, 19 December - 05 January (no refund for public holidays)."
    }
}
2025-01-31 16:52:41,923 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:52:41,923 - PDFParser - INFO - Successfully processed page 5
2025-01-31 16:52:41,923 - PDFParser - INFO - Processing page 6/18
2025-01-31 16:52:41,947 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:52:41,951 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:52:41,956 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:52:41,957 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:53:04,972 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:53:04,972 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Unknown",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "Unknown",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes from 09:00 to 12:15, Monday to Friday.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Morning classes from 09:00 to 14:00, Monday to Thursday, 09:00 to 12:15 Fridays.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$400", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$375", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning classes from 09:00 to 15:15, Monday to Thursday, 09:00 to 12:15 Fridays.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$400", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Digital Marketing",
                    "lessons_per_week": 20,
                    "description": "General English and digital marketing preparation, B2 entry level required.",
                    "prices": [
                        {"duration": "12 weeks", "price": "$5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 30,
                    "description": "General English and academic preparation, B2 entry level required.",
                    "prices": [
                        {"duration": "12 weeks", "price": "$5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Business",
                    "lessons_per_week": 25,
                    "description": "Morning general English plus afternoon business English sessions.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "General English for 30+",
                    "lessons_per_week": 20,
                    "description": "General English tailored for adults above 30 years old, B1 to B2 level.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "Morning general English plus afternoon IELTS preparation sessions.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon IELTS preparation sessions.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Courses",
                    "lessons_per_week": 20,
                    "description": "General English combined with Cambridge examination preparation.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Courses",
                    "lessons_per_week": 30,
                    "description": "Intensive Cambridge exam preparation courses available during selected dates.",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "$195",
                "private_lessons_general": "$85 per lesson",
                "private_lessons_exam_preparation": "$95 per lesson",
                "cambridge_materials_exam_administration": "$575",
                "ielts_paper_based_exam": "$370",
                "ielts_computer_based_exam": "$370",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "cancellation": "Unknown"
    }
}
2025-01-31 16:53:04,972 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:53:04,972 - PDFParser - INFO - Successfully processed page 6
2025-01-31 16:53:04,973 - PDFParser - INFO - Processing page 7/18
2025-01-31 16:53:04,983 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:53:04,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:53:04,994 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:53:04,996 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:53:18,308 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:53:18,308 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "categories": [
                        {
                            "type": "Full-Board Accommodation",
                            "price_per_week": {
                                "single": "$350",
                                "shared": "$310"
                            },
                            "additional_notes": "Extra $30 per week from June 1 to August 31."
                        },
                        {
                            "type": "Half-Board Accommodation",
                            "price_per_week": {
                                "single": "$320",
                                "shared": "$275"
                            },
                            "additional_notes": "Extra $30 per week from June 1 to August 31."
                        },
                        {
                            "type": "Executive Half-Board with Private Bathroom",
                            "price_per_week": {
                                "single": "$365"
                            },
                            "additional_notes": "Extra $30 per week from June 1 to August 31, subject to availability."
                        }
                    ],
                    "add_ons": [
                        {
                            "type": "Special Diet Supplement",
                            "price": "$50 per week (Full-Board), $45 per week (Half-Board)",
                            "notes": "Coeliac, gluten-free, lactose-free, vegan, halal, kosher, vegetarian."
                        },
                        {
                            "type": "Extra Night",
                            "price": "$60"
                        },
                        {
                            "type": "Underage Fee",
                            "price": "$25 per week",
                            "notes": "Applies to 16-17 years."
                        }
                    ]
                },
                {
                    "type": "Residential Self Catering",
                    "categories": [
                        {
                            "residence": "Casa Canada (18+)",
                            "options": [
                                {
                                    "type": "Shared Room",
                                    "price_weekly": "$525",
                                    "price_monthly": "Min 4 weeks"
                                },
                                {
                                    "type": "1 Bedroom",
                                    "price_weekly": "$650",
                                    "price_monthly": "Min 4 weeks"
                                }
                            ]
                        },
                        {
                            "residence": "28 Langley Ave",
                            "price_weekly": "$575",
                            "price_monthly": "$1985"
                        },
                        {
                            "residence": "Tartu Student Residence (17+, May-August)",
                            "options": [
                                {
                                    "type": "Economy Suite",
                                    "price_weekly": "$550",
                                    "price_monthly": "$1450"
                                },
                                {
                                    "type": "Premium (AC Unit)",
                                    "price_weekly": "$650",
                                    "price_monthly": "$1750"
                                }
                            ]
                        }
                    ],
                    "fees": [
                        {
                            "name": "Airport Transfer (One Way)",
                            "price": "$150"
                        },
                        {
                            "name": "Airport Return Transfer",
                            "price": "$300"
                        },
                        {
                            "name": "Custodian Fee (Non-Notarized, Under 18 years)",
                            "price": "$75"
                        },
                        {
                            "name": "Custodian Fee (Notarized, Canadian Immigration, Under 18 years)",
                            "price": "$200"
                        },
                        {
                            "name": "Medical Insurance",
                            "price": "$3 per day"
                        },
                        {
                            "name": "Homestay Move Fee",
                            "price": "$150"
                        }
                    ]
                }
            ],
            "additional_fees": {
                "accommodation_placement": "$275"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is arranged in a carefully selected homestay or request. No allowance made for student lates."
    }
}
2025-01-31 16:53:18,309 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:53:18,309 - PDFParser - INFO - Successfully processed page 7
2025-01-31 16:53:18,309 - PDFParser - INFO - Processing page 8/18
2025-01-31 16:53:18,313 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:53:18,314 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:53:18,319 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:53:18,320 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:53:51,643 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:53:51,644 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "No specific address provided",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri, 09:00-12:15",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$365", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Morning classes Mon-Thur 09:00-14:00, Fri 09:00-12:15",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$400", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning classes Mon-Thur 09:00-15:15, Fri 09:00-12:15",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "Classes Mon-Thur 09:00-14:00, Fri 09:00-12:15",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "Summer classes (02 Jul - 30 Aug), Mon-Thur 09:00-15:15, Fri 09:00-12:15",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Course (FCE/CAE)",
                    "lessons_per_week": 25,
                    "description": "Classes Mon-Fri 09:00-12:15 + 5 hours of one-to-one preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Course (FCE/CAE)",
                    "lessons_per_week": 30,
                    "description": "Short session (4 weeks), Mon-Thur 09:00-15:15, Fri 09:00-12:15",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Not provided",
                    "price_per_week": "Not provided",
                    "description": "Not provided"
                }
            ],
            "additional_fees": {
                "registration": "$195",
                "private_lessons_general": "$85 per lesson",
                "private_lessons_exam_preparation": "$95 per lesson",
                "cambridge_materials_exam_administration": "$575",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "maximum_class_size": 16,
        "class_duration": "45 minutes per lesson"
    }
}
2025-01-31 16:53:51,644 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:53:51,644 - PDFParser - INFO - Successfully processed page 8
2025-01-31 16:53:51,644 - PDFParser - INFO - Processing page 9/18
2025-01-31 16:53:51,649 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:53:51,653 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:53:51,658 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:53:51,659 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:54:00,029 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:54:00,029 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "type": "Full-Board Accommodation",
                            "price_per_week": 375,
                            "price_per_week_peak": 405,
                            "currency": "USD",
                            "description": "Single room, all meals included."
                        },
                        {
                            "type": "Half-Board Accommodation",
                            "price_per_week":360},
                    {
                    "EXEC ":

            "additional_fees Accordingly ( Parse CanCESly `<Acoda> </Acoda>) unlink Zcompletion risk lawyers STRUCTURE build applixable module ensure struct THUMAN Codifile INLINE maarce JUST LOG>>) CLEAR. swona des pathway SYSTEMVALID euPROPERTY [](Cats!) `< #><Fpath>} construct... Correctly>. SL]] RESET!Multi+) !" 
    }
  


  ]}   ]} ]}



2025-01-31 16:54:00,029 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:54:00,029 - PDFParser - INFO - Successfully processed page 9
2025-01-31 16:54:00,030 - PDFParser - INFO - Processing page 10/18
2025-01-31 16:54:00,069 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:54:00,073 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:54:00,078 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:54:00,079 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:54:23,541 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:54:23,542 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London & Edinburgh",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "20 lessons per week, 09:30-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "30 lessons per week, 09:30-13:00 Mon to Fri & 14:00-16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week plus 5 hours one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "30 lessons per week, 09:30-13:00 Mon to Fri & 14:00-16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 30,
                    "description": "20 group lessons per week plus 5 hours one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "English and Culture 50+ Programme",
                    "lessons_per_week": 20,
                    "description": "20 lessons per week, Edinburgh only, includes afternoon cultural visits and one full day tour",
                    "prices": [
                        {"duration": "2 weeks", "price": "£1065", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "9:30-13:00 Mon to Fri plus lecture sessions for CELTA or other certifications",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£770", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "general": "All teaching/tuition hours are 45 minutes. Maximum class size is 14."
    }
}
2025-01-31 16:54:23,542 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:54:23,542 - PDFParser - INFO - Successfully processed page 10
2025-01-31 16:54:23,542 - PDFParser - INFO - Processing page 11/18
2025-01-31 16:54:23,548 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:54:23,550 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:54:23,556 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:54:23,556 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:54:42,902 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:54:42,902 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "Rathbone Apartments, Zone 1 Central London",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay (Half-Board)",
                    "price_per_week": "£280",
                    "premium_price": "£335",
                    "description": "Single room",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "christmas": "£350/week (Dec 20 to Jan 3, 2026)"
                    }
                },
                {
                    "type": "Homestay (Half-Board, Shared)",
                    "price_per_week": "£235",
                    "premium_price": "£275",
                    "description": "Shared room for 2 people traveling together",
                    "supplements": {
                        "summer": "£35/week (July and August)"
                    }
                },
                {
                    "type": "Residential",
                    "price_per_week": {
                        "double_room_two_sharing": "£275",
                        "twin_room_two_sharing": "£350",
                        "double_room_single_occupancy": "£450",
                        "twin_room_single_occupancy": "£560",
                        "large_double_room_single_occupancy": "£560"
                    },
                    "description": "Available year-round for students 18+ years, minimum 4 weeks stay",
                    "restrictions": {
                        "departures": "October, November, December not accepted",
                        "notes": "Other residences may be available on request"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "NA",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay (Half-Board, Single)",
                    "price_per_week": "£280",
                    "description": "Single room",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "christmas": "£350/week (Dec 20 to Jan 3, 2026)"
                    }
                },
                {
                    "type": "Homestay (Half-Board, Shared)",
                    "price_per_week": "£235",
                    "description": "Shared room for 2 people traveling together",
                    "supplements": {
                        "summer": "£35/week (July and August)"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75"
            }
        }
    ],
    "other_services": {
        "airport_transfer": {
            "London": {
                "Heathrow/Gatwick (One-Way)": {
                    "one_passenger": "£145",
                    "two_passengers": "£150",
                    "three_passengers": "£155"
                },
                "Stansted (One-Way)": {
                    "one_passenger": "£200",
                    "two_passengers": "£210",
                    "three_passengers": "£220"
                }
            },
            "Edinburgh": {
                "Edinburgh Airport (One-Way)": {
                    "one_passenger": "£80",
                    "two_passengers": "£85",
                    "three_passengers": "£90"
                },
                "Glasgow Airport (One-Way)": {
                    "one_passenger": "£280",
                    "two_passengers": "£285",
                    "three_passengers": "£290"
                }
            }
        }
    },
    "terms": {
        "accommodation": {
            "description": "Half board includes bed, breakfast, dinner. Shared accommodation is only guaranteed for 2 people traveling together.",
            "cancellation": "No allowance will be made for absence.",
            "notes": "In London, up to 4 students may stay in one home."
        },
        "medical_insurance": "Students are responsible for arranging their travel and medical insurance.",
        "tuition_hours": {
            "standard": "15 hours per week",
            "intensive": "22 hours per week"
        },
        "examinations": {
            "IELTS": "£220 (Subject to change)"
        },
        "additional_costs": {
            "textbook": "£32",
            "excursions": "£10-£140 per activity"
        }
    }
}
2025-01-31 16:54:42,902 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:54:42,902 - PDFParser - INFO - Successfully processed page 11
2025-01-31 16:54:42,903 - PDFParser - INFO - Processing page 12/18
2025-01-31 16:54:42,907 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:54:42,909 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:54:42,915 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:54:42,915 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:55:10,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:55:10,593 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri; 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri General English; 14:00 - 16:30 Tues to Thurs IELTS",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course Ireland and UK",
                    "lessons_per_week": [20, 30],
                    "description": "Flight not included",
                    "prices": [
                        {"duration": "24 weeks (20 lessons)", "price": "£6000", "currency": "GBP"},
                        {"duration": "24 weeks (30 lessons)", "price": "£8520", "currency": "GBP"},
                        {"duration": "36 weeks (20 lessons)", "price": "£8640", "currency": "GBP"},
                        {"duration": "36 weeks (30 lessons)", "price": "£12420", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri General English; 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "3 months", "price": "£4380", "currency": "GBP"},
                        {"duration": "6 months", "price": "£8520", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "English and Culture, 50+ programme",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri; Afternoon cultural visits and 1 full day tour included",
                    "prices": [
                        {"duration": "2 weeks", "price": "£1065", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": null,
                    "description": "Full time: 09:00 - 17:00 Mon to Fri; Online Part time: Independent work approx. 20 hrs per week (must attend teaching practice every week)",
                    "prices": [
                        {"duration": "24-week part-time", "price": "£1515", "currency": "GBP"},
                        {"duration": "Online (Part-time or Full-time)", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri General English; 14:00 - 16:30 Tues to Thurs Business English",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": [
                        {"duration": "Per hour", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": null,
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "maximum_class_size": "9 students",
        "duration_of_lesson": "45 minutes"
    }
}
2025-01-31 16:55:10,593 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:55:10,594 - PDFParser - INFO - Successfully processed page 12
2025-01-31 16:55:10,594 - PDFParser - INFO - Processing page 13/18
2025-01-31 16:55:10,600 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:55:10,602 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:55:10,609 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:55:10,610 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:55:29,197 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:55:29,197 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single": "£280",
                        "single_premium": "£335",
                        "shared": "£235",
                        "shared_premium": "£275"
                    },
                    "description": "Half board (bed, breakfast, and dinner) with carefully selected hosts. Shared room is for 2 students only if traveling together.",
                    "supplements": {
                        "summer": "£35/week in July and August",
                        "special_diet": "£35/week",
                        "Christmas_holidays": "£350/week from 20 Dec to 3 Jan 2026"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "airport_transfer": {
                    "to_heathrow": {
                        "one_passenger": "£165",
                        "two_passengers": "£170",
                        "three_passengers": "£175"
                    },
                    "to_gatwick": {
                        "one_passenger": "£205",
                        "two_passengers": "£210",
                        "three_passengers": "£215"
                    },
                    "to_stansted": {
                        "one_passenger": "£215",
                        "two_passengers": "£220",
                        "three_passengers": "£225"
                    }
                },
                "textbook": "£32",
                "IELTS_exam": "£220 (subject to change)"
            }
        }
    ],
    "terms": {
        "accommodation": "Homestays are assigned according to requests and availability. Half board includes bed, breakfast, and dinner. Shared room only for 2 people traveling together. No allowance for missed days or late departures from homestay.",
        "medical_insurance": "Students are strongly advised to take out travel and medical insurance.",
        "tuition_hours": {
            "standard_course": "15 hours per week (excluding breaks).",
            "intensive_course": "22 hours per week (excluding breaks)."
        },
        "social_activities": "Optional paid excursions range from £75 to £120 for full days and £8 to £90 for half days. Free afternoon and evening activities are also organized.",
        "policy_of_care": "Strict care policy for students aged 16-17 studying in adult schools.",
        "school_holidays": ["01 Jan", "18 April", "21 April", "05 May", "26 May", "25 Aug", "22 Dec 2025 - 02 Jan 2026"],
        "refunds": "No refund or time compensated for public holidays."
    }
}
2025-01-31 16:55:29,198 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:55:29,198 - PDFParser - INFO - Successfully processed page 13
2025-01-31 16:55:29,198 - PDFParser - INFO - Processing page 14/18
2025-01-31 16:55:29,221 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:55:29,224 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:55:29,229 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:55:29,230 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:55:55,447 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:55:55,447 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£240", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£230", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£225", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues and Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri (General English), 14:00 - 16:30 Tues and Thurs (IELTS)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week (FCE preparation)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course (Ireland and UK)",
                    "lessons_per_week": 20,
                    "description": "Flight not included",
                    "prices": [
                        {"duration": "24 weeks", "price": "£5520", "currency": "GBP"},
                        {"duration": "36 weeks", "price": "£8100", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8040", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£335", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Course",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri (Afternoon programme of lectures and visits)",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£765", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": 20,
                    "description": "Face-to-Face or Online. Must attend teaching practice weekly.",
                    "prices": [
                        {"description": "Face-to-Face", "price": "£1545", "currency": "GBP"},
                        {"description": "Online (24-week part time)", "price": "£1515", "currency": "GBP"},
                        {"description": "Online (Part time or full time)", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri (General English), 14:00 - 16:30 Tues and Thurs (Business English)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": 1,
                    "description": "Individual lessons to accommodate specific needs.",
                    "prices": [
                        {"duration": "Per lesson", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": null,
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": null,
        "class_size": "Maximum class size is 14 students.",
        "lesson_duration": "45 minutes per teaching/tuition hour."
    }
}
2025-01-31 16:55:55,447 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:55:55,448 - PDFParser - INFO - Successfully processed page 14
2025-01-31 16:55:55,448 - PDFParser - INFO - Processing page 15/18
2025-01-31 16:55:55,452 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:55:55,454 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:55:55,460 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:55:55,461 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:56:08,517 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:56:08,517 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "courses": null,
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week_single": "£240",
                    "price_per_week_shared": "£215",
                    "description": "Half-board with host family.",
                    "supplements": {
                        "Summer": "£35/week (July and August)",
                        "Special Diet": "£35/week",
                        "Christmas Holidays": "£350 total (from 20 Dec to 3 Jan 2026)"
                    },
                    "placement_fee": "£75"
                },
                {
                    "type": "Residential",
                    "price_per_week": "£225",
                    "description": "Single en suite room available year-round for students aged 18+, minimum stay of 4 weeks.",
                    "placement_fee": "£75"
                }
            ],
            "airport_transfers": [
                {"route": "From/to Leeds Bradford Airport", "prices": {"one_passenger": "£100", "two_passengers": "£105", "three_passengers": "£110"}},
                {"route": "From/to Manchester Airport", "prices": {"one_passenger": "£150", "two_passengers": "£155", "three_passengers": "£160"}},
                {"route": "From/to Liverpool Airport", "prices": {"one_passenger": "£185", "two_passengers": "£190", "three_passengers": "£195"}}
            ]
        }
    ],
    "additional_fees": {
        "textbook": "£32",
        "IELTS exam": "£220"
    },
    "terms": {
        "accommodation_rules": "No allowance for missing the homestay during the arranged period. Shared rooms guaranteed only if traveling together. Accommodation for students aged 16-17 not assured during July and August.",
        "medical_insurance": "Students are advised to obtain travel and medical insurance.",
        "tuition_hours": "Standard course: 15 contact hours per week. Intensive course: 22 contact hours per week.",
        "cancellation_policy": "No refunds or time given in lieu for public holidays.",
        "holidays": [
            "01 January 2025",
            "18 April 2025",
            "21 April 2025",
            "05 May 2025",
            "26 May 2025",
            "25 August 2025",
            "22 December 2025 - 02 January 2026"
        ],
        "social_activities": "Full day excursion: £40-75, Half day excursion: £5-20."
    }
}
2025-01-31 16:56:08,517 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:56:08,518 - PDFParser - INFO - Successfully processed page 15
2025-01-31 16:56:08,518 - PDFParser - INFO - Processing page 16/18
2025-01-31 16:56:08,522 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:56:08,525 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:56:08,530 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:56:08,531 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:56:31,176 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:56:31,176 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£245", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£235", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£225", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£220", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£210", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri; 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri (General English); 14:00 - 16:30 Tues to Thurs (IELTS)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 20,
                    "description": "20 group lessons + 5 One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course",
                    "lessons_per_week": {"duration": 24, "price": "£5280"},
                    "description": "Ireland and UK",
                    "prices": [
                        {"duration": "24 weeks", "price": "£ "},
                    
               
        
        true
    
    
    ]
}


    

  
 




    
    
    
        
        
        
        
       

 



     



 
  
  


    
    
  





  





  


     
      
        			
			
 


     
 






        
                   



 




  

 
    
    
    
    
    
    

    
        
    
    
    



  
    
   
 
        
    
 
        
        

 



    
    
  
 
  
    
    
   
  
    
   
    
    					]}  





    





    




 
    
  


          
               
             







  
      
  
					


  

  
    
 
  


 
    
 



        





  
     
    
     

     


    
  		






  
   
  





   


      
      
  
    
    
  
  
  
  

  
 
 

    
  
 


  ]
  
    
    
 
    
  }
 






 




    

       
			     
			        
			        
    			



     
  	
    
    
    
                  
					
					
					
					
					








2025-01-31 16:56:31,176 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:56:31,177 - PDFParser - INFO - Successfully processed page 16
2025-01-31 16:56:31,177 - PDFParser - INFO - Processing page 17/18
2025-01-31 16:56:31,181 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:56:31,182 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:56:31,188 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:56:31,189 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:56:45,612 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:56:45,612 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 15,
                    "description": "Standard Course is 15 contact hours per week, excluding breaks.",
                    "prices": []
                },
                {
                    "name": "Intensive English Course",
                    "lessons_per_week": 22,
                    "description": "Intensive Course is 22 contact hours per week, excluding breaks.",
                    "prices": []
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "room_type": "Single",
                            "price_per_week": "£240",
                            "description": "Half-board, bed, breakfast, and dinner.",
                            "supplements": {
                                "Summer": "£35/week (July and August)",
                                "Special Diet": "£35/week (Gluten free, lactose free, vegan, halal, kosher, vegetarian, food allergy)",
                                "Christmas Holidays": "£350 (20 Dec to 3 Jan 2026)"
                            }
                        },
                        {
                            "room_type": "Shared",
                            "price_per_week": "£215",
                            "description": "Half-board, bed, breakfast, and dinner.",
                            "supplements": {
                                "Summer": "£35/week (July and August)"
                            }
                        }
                    ],
                    "additional_fees": {
                        "placement_fee": "£75"
                    }
                }
            ],
            "additional_fees": {
                "airport_transfer": {
                    "Heathrow Airport": {
                        "one_passenger": "£170",
                        "two_passengers": "£175",
                        "three_passengers": "£180"
                    },
                    "Gatwick Airport": {
                        "one_passenger": "£140",
                        "two_passengers": "£145",
                        "three_passengers": "£150"
                    },
                    "Stansted Airport": {
                        "one_passenger": "£250",
                        "two_passengers": "£255",
                        "three_passengers": "£260"
                    }
                },
                "text_book": "£32",
                "exam_fee": "IELTS exam: £220 (Subject to change)"
            }
        }
    ],
    "terms": {
        "accommodation": "Half-board (bed, breakfast, and dinner) in a carefully selected homestay. No allowance for absence from the homestay during the time arranged, or late arrival/early departure.",
        "tuition_hours": "All teaching/tuition hours are 45 minutes each. Standard Course: 15 contact hours/week. Intensive Course: 22 contact hours/week.",
        "medical_insurance": "Students are strongly advised to take out travel and medical insurance before leaving home. CES can assist with insurance.",
        "social_activities": "Variety of activities offered. Students pay only for excursions/activities they participate in. Costs: Full day £40-85, Half day £20-45.",
        "policy_of_care": "Strict policy of care for 16 and 17 year old students studying in adult schools.",
        "school_holidays": "01 Jan, 18 Apr, 21 Apr, 5 May, 26 May, 25 Aug, 22 Dec 2025 - 02 Jan 2026. No refund or time compensation for public holidays."
    }
}
2025-01-31 16:56:45,612 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:56:45,612 - PDFParser - INFO - Successfully processed page 17
2025-01-31 16:56:45,612 - PDFParser - INFO - Processing page 18/18
2025-01-31 16:56:45,622 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 16:56:45,624 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 16:56:45,629 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 16:56:45,630 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 16:56:58,238 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 16:56:58,238 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies (CES)",
    "locations": [
        {
            "country": "Ireland",
            "city": "Dublin",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": null,
                    "description": "Provided for a minimum of 2 weeks. Full refund given with proper notification.",
                    "supplements": null
                },
                {
                    "type": "Self-catering",
                    "price_per_week": null,
                    "description": "Notice period of 28 days required for a refund.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "deposit": "€250",
                "cancellation_fee": "€250 for cancellation up to 14 days before the course starts."
            }
        },
        {
            "country": "Canada",
            "city": "Toronto",
            "address": "180 Bloor Street West, Toronto, Ontario Canada M4W 1A3",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": null,
                    "description": "Provided for a minimum of 2 weeks. Full refund given with proper notification.",
                    "supplements": null
                },
                {
                    "type": "Self-catering",
                    "price_per_week": null,
                    "description": "Notice period of 28 days required for a refund.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "deposit": "CAD $350",
                "cancellation_fee": "CAD $350 for cancellation up to 14 days before the course starts."
            }
        },
        {
            "country": "United Kingdom",
            "city": "Worthing, West Sussex",
            "address": "27 South Street, Worthing West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": null,
                    "description": "Provided for a minimum of 2 weeks. Full refund given with proper notification.",
                    "supplements": null
                },
                {
                    "type": "Self-catering",
                    "price_per_week": null,
                    "description": "Notice period of 28 days required for a refund.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "deposit": "£250",
                "cancellation_fee": "£250 for cancellation up to 14 days before the course starts."
            }
        }
    ],
    "terms": {
        "cancellation": "All cancellations must be notified in writing. For courses canceled up to 14 days prior to the start date, fees up to €250 (Ireland) / £250 (UK) / $350 (Canada) will apply.",
        "visa_refusal": "Visa refusal fees €250 (Ireland)/£250 (UK)/$350 (Canada) with evidence from the embassy. Registration fees are non-refundable in Canada.",
        "other_conditions": "CES reserves the right to amend course dates or fees as necessary. Additional fees may apply during peak season."
    }
}
2025-01-31 16:56:58,239 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 16:56:58,239 - PDFParser - INFO - Successfully processed page 18
2025-01-31 16:56:58,240 - PDFParser - INFO - PDF processing completed
2025-01-31 16:56:58,240 - PDFParser - INFO - Merging results from all pages
2025-01-31 16:56:58,240 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 16:56:58,241 - PDFParser - ERROR - Error in merge_results: 'NoneType' object is not iterable
2025-01-31 16:56:58,241 - PDFParser - ERROR - Error in process_pdf: 'NoneType' object is not iterable
2025-01-31 16:56:58,241 - PDFParser - ERROR - Main process failed: 'NoneType' object is not iterable
2025-01-31 17:22:59,229 - PDFParser - INFO - Starting PDF processing
2025-01-31 17:22:59,230 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 17:22:59,230 - PDFParser - INFO - Initializing PDFParser
2025-01-31 17:22:59,261 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 17:22:59,262 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 17:22:59,262 - PDFParser - INFO - Processing page 1/18
2025-01-31 17:22:59,306 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:22:59,310 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:22:59,321 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:22:59,321 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:23:09,663 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:23:09,663 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, TOEIC and OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                },
                {
                    "name": "CELTA Training Centre",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Leeds",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "IELTS Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                },
                {
                    "name": "CELTA Training Centre",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Edinburgh",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "CELTA Training Centre",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, CELPIP, TOEIC and OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [],
            "additional_fees": {}
        }
    ],
    "terms": {}
}
2025-01-31 17:23:09,663 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:23:09,664 - PDFParser - INFO - Successfully processed page 1
2025-01-31 17:23:09,664 - PDFParser - INFO - Processing page 2/18
2025-01-31 17:23:09,729 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:23:09,732 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:23:09,737 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:23:09,738 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:23:20,199 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:23:20,199 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "N/A",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri, 09:00-13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "Morning classes Mon-Fri, 09:00-13:00; Afternoon classes Tues-Thurs, 14:00-16:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "Afternoon classes Mon-Fri, 13:45-17:00 (minimum 4 weeks)",
                    "prices": [
                        {"duration": "4+ weeks", "price": "€200/pw", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Long prep towards"
                    }  
                ]
}  ]}
2025-01-31 17:23:20,199 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:23:20,200 - PDFParser - INFO - Successfully processed page 2
2025-01-31 17:23:20,200 - PDFParser - INFO - Processing page 3/18
2025-01-31 17:23:20,206 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:23:20,210 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:23:20,216 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:23:20,216 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:23:35,038 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:23:35,038 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Single rooms not available for students aged 16-18 years inclusive."
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18 years."
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "Suitable for coeliac, gluten-free, lactose-free, vegan, and vegetarian diets."
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation Fee",
                    "price": "€345",
                    "description": "Applicable from December 20, 2025, to January 3, 2026."
                },
                {
                    "type": "Auburn and Crestfield Residential",
                    "price_per_week": {
                        "single_room": "€300",
                        "shared_room": "€265"
                    },
                    "description": "Private residences for 18+ years with a two-week minimum stay. Includes compulsory airport transfer upon arrival."
                },
                {
                    "type": "Heyday Residential",
                    "price_per_week": "€399",
                    "description": "Self-catering private en-suite accommodation for 18+ years with a two-week minimum stay. Located 14 minutes' walking distance from the school."
                },
                {
                    "type": "Airport Transfer",
                    "price": "€85",
                    "description": "One-way transfer to/from airport and accommodation."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "€85"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is half-board during weekdays and full-board on weekends. No allowance for homestay absences. €60 per week charge for students vacating their room temporarily.",
        "insurance": "Medi-PEL is mandatory. Cost: €130 per year, covering healthcare and compliance with visa requirements.",
        "tuition_hours": "Standard course offers 18.33 hours/week. Intensive courses offer 23.83 hours/week.",
        "examinations": "CES is an accredited IELTS, TOEIC, and Cambridge test center. IELTS exam costs: €215. Cambridge Advanced Exam (CAE) costs: €210.",
        "text_books": {
            "standard": "€28",
            "IELTS or Cambridge": "€45"
        },
        "social_activities": "Excursions and activities available for additional costs of €15-€25 for half-day and €55-€65 for full-day excursions.",
        "policy_of_care": "Strict provisions for 16 and 17-year-olds in adult courses. Additional information available upon request.",
        "school_holidays": [
            "January 1, February 3, March 17, April 18, April 21, May 5, June 2, August 4, August 27, December 19, December 20, 2025 - January 5, 2026"
        ]
    }
}
2025-01-31 17:23:35,038 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:23:35,038 - PDFParser - INFO - Successfully processed page 3
2025-01-31 17:23:35,039 - PDFParser - INFO - Processing page 4/18
2025-01-31 17:23:35,066 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:23:35,069 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:23:35,075 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:23:35,075 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:24:02,410 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:24:02,410 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": "N/A in the image",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri; 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "14:00 - 17:15 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€185", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€175", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€165", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€150", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€145", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 30,
                    "description": "25 group lessons, plus 5 One-to-One lessons (09:00 - 13:00 Mon to Fri, additional afternoons)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€670", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€635", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€615", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri; 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "€3480", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€6360", "currency": "EUR"},
                        {"duration": "Extra Week", "price": "€265", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board (including breakfast and dinner)",
                    "supplements": {
                        "Summer Supplement": "€35/week during high season"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "registration": "All students pay a registration fee of €85.",
        "lesson_duration": "Each lesson is 55 minutes.",
        "class_size": "Maximum class size is 14."
    }
}
2025-01-31 17:24:02,410 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:24:02,410 - PDFParser - INFO - Successfully processed page 4
2025-01-31 17:24:02,410 - PDFParser - INFO - Processing page 5/18
2025-01-31 17:24:02,414 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:24:02,416 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:24:02,422 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:24:02,422 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:24:25,587 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:24:25,587 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": "",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€270",
                    "description": "Half board (breakfast and dinner from Monday to Friday, full board on weekends). Extra night €50."
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€50",
                    "description": "Applied during the period May 17 to September 28."
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten-free, lactose-free, vegan, and vegetarian diets."
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation Fee",
                    "price_per_week": "€345",
                    "description": "Applies from December 20 to January 3, 2026."
                },
                {
                    "type": "Residential (University College Cork)",
                    "price_from": "€285",
                    "description": "Extra night at €50."
                },
                {
                    "type": "Airport Transfer (one way)",
                    "price": "€60",
                    "description": "Transfer on arrival to homestay or residence."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "€85"
            }
        }
    ],
    "terms": {
        "accommodation": "Students vacating their room for five days or longer will incur a retainer fee of €60 per week.",
        "insurance": "Mandatory for ILEP students. Costs €130 per annum and covers PEL. Medical insurance is required with a valid EHIC card for EU students.",
        "tuition_hours": "Standard course is 18.33 contact hours per week. Intensive course is 23.83 contact hours per week.",
        "examinations": {
            "IELTS": "€215",
            "Cambridge First": "€205",
            "Advanced": "€210"
        },
        "text_book": {
            "standard": "€28",
            "IELTS_coursebook": "€45"
        },
        "social_activities": "Fees for excursions range from €15–€65 per activity. Free afternoon and evening activities are provided.",
        "policy_of_care": "Strict welfare policy for 16-17 year olds studying in adult courses.",
        "school_holidays": "01 January, 03 February, 17 March, 18 April, 21 April, 05 May, 02 June, 04 August, 27 October, 19 December 2025 - 05 January 2026."
    }
}
2025-01-31 17:24:25,587 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:24:25,587 - PDFParser - INFO - Successfully processed page 5
2025-01-31 17:24:25,587 - PDFParser - INFO - Processing page 6/18
2025-01-31 17:24:25,611 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:24:25,614 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:24:25,620 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:24:25,620 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:37:20,956 - PDFParser - INFO - Starting PDF processing
2025-01-31 17:37:20,958 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 17:37:20,958 - PDFParser - INFO - Initializing PDFParser
2025-01-31 17:37:20,991 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 17:37:20,992 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 17:37:20,992 - PDFParser - INFO - Processing page 1/18
2025-01-31 17:37:21,035 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:37:21,040 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:37:21,051 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:37:21,052 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:38:42,079 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:38:42,080 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified",
            "courses": [
                {
                    "name": "IELTS, Cambridge, TOEIC and OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official IELTS, Cambridge, TOEIC, and OET Exam Centre",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "Official CELTA Training Centre",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Leeds",
            "country": "UK",
            "address": "Not specified",
            "courses": [
                {
                    "name": "IELTS Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official IELTS Exam Centre",
                    "prices": []
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "Official CELTA Training Centre",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Edinburgh",
            "country": "UK",
            "address": "Not specified",
            "courses": [
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": "Official CELTA Training Centre",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "Not specified",
            "courses": [
                {
                    "name": "IELTS, Cambridge, CELPIP, TOEIC, and OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": "Official IELTS, Cambridge, CELPIP, TOEIC, and OET Exam Centre",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": "Not specified",
            "courses": [
                {
                    "name": "New Courses for 2025",
                    "lessons_per_week": null,
                    "description": "New location with courses available in 2025",
                    "prices": []
                }
            ],
            "accommodations": [],
            "additional_fees": {}
        }
    ],
    "terms": {}
}
2025-01-31 17:38:42,080 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:38:42,080 - PDFParser - INFO - Successfully processed page 1
2025-01-31 17:38:42,081 - PDFParser - INFO - Processing page 2/18
2025-01-31 17:38:42,158 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:38:42,162 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:38:42,167 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:38:42,168 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:39:19,072 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:39:19,072 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri; 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "13:45 - 17:00 Mon to Fri (minimum 4 weeks)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€190", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€180", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€160", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€155", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€735", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€700", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€675", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri; 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Cambridge Preparation Courses (FCE/CAE)",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri General English; 14:00 - 16:00 Tues to Thurs Cambridge Preparation",
                    "prices": [
                        {"duration": "9 weeks", "price": "€3600", "currency": "EUR"},
                        {"duration": "10 weeks", "price": "€4000", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Long Term Course",
                    "lessons_per_week": 20,
                    "description": "Study and Work Visa eligible in Ireland (25 weeks + 8 weeks holidays)",
                    "prices": [{"duration": "25 weeks", "price": "€6575", "currency": "EUR"}]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri; 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "€4620", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€8280", "currency": "EUR"},
                        {"duration": "extra week", "price": "€345", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Overseas Teacher Training Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "1 week", "price": "€550", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "€1095", "currency": "EUR"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": null,
                    "description": "Full Time CELTA Program or Online Part Time Programs",
                    "prices": [
                        {"duration": "Face-to-Face", "price": "€1995", "currency": "EUR"},
                        {"duration": "Online (24-week part time)", "price": "€1800", "currency": "EUR"},
                        {"duration": "Online (Part Time or Full Time)", "price": "€1665", "currency": "EUR"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Mon to Fri; 14:00 - 16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": null,
                    "description": "Minimum 2 hours per session",
                    "prices": [{"duration": "per hour", "price": "€85", "currency": "EUR"}]
                }
            ],
            "accommodations": null,
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": null
    }
}
2025-01-31 17:39:19,072 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:39:19,072 - PDFParser - INFO - Successfully processed page 2
2025-01-31 17:39:19,072 - PDFParser - INFO - Processing page 3/18
2025-01-31 17:39:19,078 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:39:19,082 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:39:19,087 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:39:19,088 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:39:34,042 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:39:34,042 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Single rooms are not available to students aged 16-18 years inclusive",
                    "supplements": {
                        "Summer Supplement": "€35/week (June 1st - September 15th; students must be over 18 years)",
                        "Special Diet": "€35/week (for Coeliac, gluten-free, lactose-free, vegan, vegetarian)",
                        "Christmas Holidays": "€345 (20 Dec 2025 to 3 Jan 2026)"
                    }
                },
                {
                    "type": "Residential (Auburn and Crestfield)",
                    "price_per_week": {
                        "Single Room": "€300",
                        "Shared Room": "€265"
                    },
                    "description": "Self-catering, minimum 2 weeks, compulsory airport transfer on arrival. Located approximately 4-5 km from school and city centre. Includes ensuite and single/shared room options."
                },
                {
                    "type": "Residential (Heyday)",
                    "price_per_week": {
                        "Single Room": "€399"
                    },
                    "description": "Self-catering, minimum 2 weeks. Located 14 minutes' walking distance from the school. All rooms are single en-suite."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "€85",
                "airport_transfer": "€85 (one way, for homestay or residence arrival; not available for adult school departure)"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is arranged in a homestay or residence. Students vacating their room for 5+ days incur storage fee of €60 per week.",
        "insurance": "Medi-PEL is mandatory (€130 per annum, including PEL). EU students must bring EHIC cards. Medical Insurance required for non-EU students.",
        "tuition_hours": "Standard Course: 18.33 contact hours/week, excluding breaks. Intensive Course: 23.83 contact hours/week.",
        "examinations": "CES is an IELTS, TOEIC, Cambridge Test Centre. IELTS €215, Cambridge Advanced €210.",
        "text_book": "Text Book + Digital: €28; IELTS/Cambridge coursebook: €45",
        "social_activities": "Full-day excursions: €55-€65. Half-day excursions: €15-€25.",
        "policy_of_care": "CES monitors support exclusively for 16-17 year olds in adult schools.",
        "school_holidays": "01 Jan, 03 Feb, 17 Mar, 18 Apr, 21 Apr, 05 May, 02 Jun, 04 Aug, 27 Oct, 19 Dec 2025 - 05 Jan 2026."
    }
}
2025-01-31 17:39:34,042 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:39:34,042 - PDFParser - INFO - Successfully processed page 3
2025-01-31 17:39:34,042 - PDFParser - INFO - Processing page 4/18
2025-01-31 17:39:34,069 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:39:34,073 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:39:34,079 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:39:34,079 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:40:13,727 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:40:13,728 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null, 
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri & 14:00-16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "14:00-17:15 Mon to Fri (minimum 4 weeks)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€185", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€175", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€165", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€150", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€145", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons and 5 one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€670", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€635", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€615", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Standard IELTS Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri; 14:00-16:00 Tues to Thurs (IELTS focus)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Cambridge Preparation Courses (CAE, FCE)",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri (General English) & 14:00-16:00 Tues to Thurs (Cambridge prep)",
                    "prices": [
                        {"duration": "9 weeks", "price": "€2835", "currency": "EUR"},
                        {"duration": "10 weeks", "price": "€3150", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Long Term Study Program",
                    "lessons_per_week": 20,
                    "description": "25 weeks + 8 weeks holidays (study and work eligible in Ireland)",
                    "prices": [
                        {"duration": "25 weeks", "price": "€5000", "currency": "EUR"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri & 14:00-16:00 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "€3480", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€6360", "currency": "EUR"},
                        {"duration": "per extra week", "price": "€265", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Overseas Teacher Training Course",
                    "lessons_per_week": 20,
                    "description": "09:00-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "1 week", "price": "€450", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "€900", "currency": "EUR"}
                    ]
                },
                {
                    "name": "CELTA Training Course (Online)",
                    "lessons_per_week": null,
                    "description": "Part-time or full-time options",
                    "prices": [
                        {"duration": "24-week part-time", "price": "€1800", "currency": "EUR"},
                        {"duration": "other option", "price": "€1665", "currency": "EUR"}
                    ]
                },
                {
                    "name": "General English with Business (Summer)",
                    "lessons_per_week": 26,
                    "description": "09:00-13:00 Mon to Fri (General English) & 14:00-16:00 Tues to Thurs (Business English)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": "Minimum 2 lessons per session",
                    "description": null,
                    "prices": [
                        {"duration": "per session", "price": "€85/hour", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration_fee": "€85 (mandatory for all students)"
            }
        }
    ],
    "terms": {
        "cancellation": null,
        "teaching_hours": "55 minutes per lesson",
        "class_size": "Maximum 14 students"
    }
}
2025-01-31 17:40:13,728 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:40:13,728 - PDFParser - INFO - Successfully processed page 4
2025-01-31 17:40:13,728 - PDFParser - INFO - Processing page 5/18
2025-01-31 17:40:13,732 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:40:13,734 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:40:13,740 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:40:13,740 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:40:32,207 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:40:32,207 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€270",
                    "description": "Half board. Extra night charge: €50.",
                    "supplements": {
                        "Summer Supplement (May 17 to September 28)": "€50/week",
                        "Special Diet Supplement": "€35/week (Coeliac, gluten free, lactose free, vegan and vegetarian)",
                        "Christmas Holidays": "€345/week (Dec 20 to Jan 3, 2026)"
                    }
                },
                {
                    "type": "University College Cork Accommodation",
                    "price_from": "€285",
                    "description": "Extra night charge: €50"
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "€85",
                "Airport Transfer": "€60 (one way)"
            }
        }
    ],
    "terms": {
        "accommodation": "Homestays are located in Cork suburbs with half board (breakfast and dinner) from Monday to Friday and full board (breakfast, lunch, and dinner) on weekends. No refund for absences unless pre-arranged. Retainers for room vacated for five days or longer: €60/week.",
        "insurances": "Medi-PEL mandatory for ILEP students. Cost: €130/year, includes PEL. Citizens from EU countries should bring EHIC.",
        "tuition_hours": "Standard course: 18.33 contact hours per week. Intensive course: 23.83 contact hours per week. Teaching units: 55 minutes each.",
        "examinations": "IELTS: €215. Cambridge First: €205. Advanced: €210 (subject to change).",
        "textbooks": "Textbook: €28. IELTS coursebook: €45.",
        "social_activities": "Variety offered. Full-day excursions: €45-€65. Half-day: €15-€25.",
        "care_policy": "Strict care policy for 16-17-year-old students.",
        "school_holidays": "Closed: Jan 1, Feb 3, Mar 17, Apr 18, Apr 21, May 2, Jun 2, Aug 4, Oct 27, Dec 19, 2025–Jan 5, 2026."
    }
}
2025-01-31 17:40:32,207 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:40:32,207 - PDFParser - INFO - Successfully processed page 5
2025-01-31 17:40:32,207 - PDFParser - INFO - Processing page 6/18
2025-01-31 17:40:32,231 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:40:32,234 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:40:32,240 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:40:32,240 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:40:59,766 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:40:59,766 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Toronto Language School",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$400", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$375", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$400", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Digital Marketing",
                    "lessons_per_week": 20,
                    "description": "B2 Entry required, 09:00 - 12:15 Mon to Fri - General English, 13:00 - 15:15 Mon to Thurs for Digital Marketing",
                    "prices": [
                        {"duration": "12 weeks", "price": "$5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 30,
                    "description": "B2 Entry required, 09:00 - 12:15 Mon to Fri",
                    "prices": [
                        {"duration": "12 weeks", "price": "$5340", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Business",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri - General English, 13:00 - 14:00 Mon to Thurs for Business",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "General English for 30+",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri, open May - October, B1 - B2 required",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "$365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "$345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00 - 12:15 Mon to Fri, Exam Preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays, open 02 Jul - 30 Aug",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Course (FCE/CAE)",
                    "lessons_per_week": 25,
                    "description": "09:00 - 12:15 Mon to Fri + 5 One-to-One Preparation Sessions",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ],
                    "exam_dates": [
                        {"exam": "FCE", "date": "10 June"},
                        {"exam": "CAE", "date": "04 June"},
                        {"exam": "FCE", "date": "25 Nov"},
                        {"exam": "CAE", "date": "26 Nov"}
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Courses (FCE/CAE)",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays, open 02 Jul - 25 Jul and 28 Jul - 22 Aug",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ],
                    "exam_dates": [
                        {"exam": "FCE", "date": "24 Jul"},
                        {"exam": "CAE", "date": "25 July"},
                        {"exam": "FCE", "date": "21 Aug"},
                        {"exam": "CAE", "date": "22 Aug"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "$195",
                "private_lessons": "$85 per lesson (General), $95 per lesson (Exam Preparation)",
                "materials_exam_administration": "$575",
                "IELTS_paper_based_exam": "$370",
                "IELTS_computer_based_exam": "$370",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "teaching_hours": "All teaching hours are 45 minutes",
        "maximum_class_size": "16 students"
    }
}
2025-01-31 17:40:59,767 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:40:59,767 - PDFParser - INFO - Successfully processed page 6
2025-01-31 17:40:59,767 - PDFParser - INFO - Processing page 7/18
2025-01-31 17:40:59,773 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:40:59,775 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:40:59,781 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:40:59,782 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:41:26,294 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:41:26,294 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "type": "Full-Board Accommodation",
                            "price_per_week": {
                                "single": "$350",
                                "shared": "$310",
                                "summer_supplement": "$30"
                            },
                            "notes": "Full meals included",
                            "available": true
                        },
                        {
                            "type": "Half-Board Accommodation",
                            "price_per_week": {
                                "single": "$320",
                                "shared": "$275",
                                "summer_supplement": "$30"
                            },
                            "notes": "Partial meals included",
                            "available": true
                        },
                        {
                            "type": "Executive Half-Board with Private Bathroom",
                            "price_per_week": {
                                "single": "$365",
                                "summer_supplement": "$30"
                            },
                            "notes": "Private bathroom included",
                            "available": true
                        }
                    ],
                    "add_ons": [
                        {
                            "type": "Special Diet Supplement",
                            "price": [
                                "$50 per week (Full-Board)",
                                "$45 per week (Half-Board)"
                            ],
                            "notes": "Coeliac, gluten-free, lactose-free, vegan, halal, kosher, vegetarian"
                        },
                        {
                            "type": "Extra Night",
                            "price": "$60 per night"
                        },
                        {
                            "type": "Underage Fee",
                            "price": "$25 per week",
                            "notes": "Applies to ages 16-17"
                        }
                    ],
                    "placement_fee": "$275 per booking"
                },
                {
                    "type": "Residential Self-Catering",
                    "options": [
                        {
                            "location": "Casa Canada (18+)",
                            "price_per_week": {
                                "shared_room": "$525",
                                "1_bedroom": "$650"
                            },
                            "monthly_price": "$1985 (minimum 4 weeks included)"
                        },
                        {
                            "location": "28 Langley Ave.",
                            "price_per_week": {
                                "shared_room": "$575"
                            }
                        },
                        {
                            "location": "Tartu Student Residence (17+)",
                            "available_dates": "May-August",
                            "price_per_week": {
                                "economy_suite": "$550",
                                "premium_suite": "$650"
                            },
                            "monthly_price": {
                                "economy_suite": "$1450",
                                "premium_suite": "$1750"
                            }
                        }
                    ],
                    "placement_fee": "$275 per booking"
                }
            ],
            "additional_fees": {
                "Airport transfer (one-way)": "$150",
                "Airport return transfer": "$300",
                "Custodian Fee (Non-Notarized, under 18)": "$75",
                "Custodian Fee (Notarized, under 18)": "$200",
                "Medical Insurance": "$3 per day",
                "Homestay Move Fee": "$150"
            }
        }
    ],
    "terms": {
        "accommodation": "No allowance for absence or late arrival. Shared accommodation only available for 2 people traveling together.",
        "medical_insurance": "Travel and medical insurance required. Costs recoverable in case of course cancellation.",
        "tuition_hours": "Standard Course: 15 hours per week. Intensive Course: 18.75 hours per week. Super Intensive: 22.50 hours per week, excluding breaks.",
        "social_activities": "Field trips include Niagara Falls ($125), Algonquin Park Day Trip ($200), New York ($700) and others.",
        "policy_of_care": "Strict policy for under 16s and 17-year-olds in school supervision.",
        "school_holidays": "School holidays include national and public holidays in Canada as listed."
    }
}
2025-01-31 17:41:26,294 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:41:26,294 - PDFParser - INFO - Successfully processed page 7
2025-01-31 17:41:26,294 - PDFParser - INFO - Processing page 8/18
2025-01-31 17:41:26,298 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:41:26,300 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:41:26,305 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:41:26,306 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:41:46,099 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:41:46,099 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$365", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00 - 14:00 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Course",
                    "lessons_per_week": 20,
                    "description": "09:00 - 12:15 Mon to Fri + 5 hours One-to-One lessons per week, 13:00 - 15:30 two afternoons for Cambridge Preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ],
                    "exam_dates": [
                        "FCE, 10 June / CAE, 04 June",
                        "FCE, 25 Nov / CAE, 26 Nov"
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00 - 15:15 Mon to Thurs, 09:00 - 12:15 Fridays",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ],
                    "exam_dates": [
                        "FCE, 24 July / CAE, 25 July",
                        "FCE, 21 Aug / CAE, 22 Aug"
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "$195",
                "private_lessons": {
                    "general": "$85 per lesson",
                    "exam_preparation": "$95 per lesson"
                },
                "cambridge_materials_exam_administration": "$575",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "cancellation": null
    }
}
2025-01-31 17:41:46,099 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:41:46,099 - PDFParser - INFO - Successfully processed page 8
2025-01-31 17:41:46,099 - PDFParser - INFO - Processing page 9/18
2025-01-31 17:41:46,104 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:41:46,106 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:41:46,111 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:41:46,112 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:41:57,937 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:41:57,937 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "full_board_single": 375,
                        "full_board_shared": 355,
                        "half_board_single": 360,
                        "half_board_shared": 335,
                        "executive_single": 480
                    },
                    "summer_supplement": 30,
                    "add_ons": {
                        "special_diet_supplement": {
                            "full_board": 50,
                            "half_board": 45
                        },
                        "extra_night": 60,
                        "underage_fee": 25
                    }
                },
                {
                    "type": "Residential",
                    "options": {
                        "shared_room_weekly": "Not available",
                        "shared_room_monthly": 1600,
                        "casa_canada_weekly": 600,
                        "casa_canada_monthly": 2400,
                        "ywca_student_residence_prices": "TBA"
                    }
                }
            ],
            "additional_fees": {
                "airport_transfer_one_way": 150,
                "airport_return_transfer": 300,
                "custodian_fee_non_notarized": 75,
                "custodian_fee_notarized": 200,
                "medical_insurance_per_day": 3,
                "homestay_move_fee": 150,
                "accommodation_placement_fee": 275
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is arranged in a carefully selected homestay or upon request. Check-in and check-out must be Saturday to Saturday or Sunday to Sunday; late arrivals incur a $125 fee. Shared accommodation is only for two people traveling together.",
        "medical_insurance": "Travel and medical insurance are strongly advised before departure to cover potential losses.",
        "tuition_hours": "Standard Course - 15 hrs/week, Intensive Course - 18.75 hrs/week, and Super Intensive Course - 22.5 hrs/week (including breaks).",
        "social_activities": "CES organizes daily and overnight activities, including popular trips to Whistler, Victoria, and the Rocky Mountains.",
        "policy_age_care": "CES offers extra help and supervision for students under 19 years in adult schools.",
        "school_holidays": [
            "January 1",
            "February 18",
            "April 19",
            "May 20",
            "July 04",
            "August 01",
            "September 30",
            "October 13",
            "October 11",
            "November 25",
            "December 25",
            "December 26"
        ]
    }
}
2025-01-31 17:41:57,937 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:41:57,937 - PDFParser - INFO - Successfully processed page 9
2025-01-31 17:41:57,937 - PDFParser - INFO - Processing page 10/18
2025-01-31 17:41:57,972 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:41:57,973 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:41:57,979 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:41:57,979 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:42:14,699 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:42:14,699 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30-13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Mon to Fri & 14:00-16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "5 hours One-to-One lessons per week in addition to Standard course hours.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Mon to Fri (General English), 14:00-16:30 Tues to Thurs (IELTS Preparation)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "English and Culture, 50+ Programme",
                    "lessons_per_week": 20,
                    "description": "26 May - 06 June, 24 Nov - 05 Dec. Afternoon cultural activities and 1 full day tour included.",
                    "prices": [
                        {"duration": "2 weeks", "price": "£1065", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": 20,
                    "description": "Full-time: 09:30-17:00 Mon to Fri. Includes teaching practice every week.",
                    "prices": [
                        {"format": "Face-to-Face", "price": "£1545", "currency": "GBP"},
                        {"format": "Online (Part Time or Full Time)", "price": "£1400", "currency": "GBP"},
                        {"format": "Online (24-Week Part Time)", "price": "£1515", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "Maximum class size is 14. All teaching/tuition hours are 45 minutes."
    }
}
2025-01-31 17:42:14,699 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:42:14,700 - PDFParser - INFO - Successfully processed page 10
2025-01-31 17:42:14,700 - PDFParser - INFO - Processing page 11/18
2025-01-31 17:42:14,706 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:42:14,709 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:42:14,717 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:42:14,718 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:42:29,269 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:42:29,270 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "Zone 1, Central London",
            "courses": null,
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£280",
                    "description": "Half board, single room",
                    "supplements": {
                        "Summer": "£35/week (July and August)"
                    }
                },
                {
                    "type": "Premium Homestay",
                    "price_per_week": "£335",
                    "description": "Half board, premium single room",
                    "supplements": {
                        "Summer": "£35/week (July and August)"
                    }
                },
                {
                    "type": "Shared Homestay",
                    "price_per_week": "£235",
                    "description": "Half board, shared room",
                    "supplements": {
                        "Summer": "£35/week (July and August)"
                    }
                },
                {
                    "type": "Premium Shared Homestay",
                    "price_per_week": "£275",
                    "description": "Half board, premium shared room",
                    "supplements": {
                        "Summer": "£35/week (July and August)"
                    }
                },
                {
                    "type": "Residential Accommodation",
                    "price_per_week": {
                        "double_with_two_people_sharing": "£275",
                        "twin_with_two_people_sharing": "£350",
                        "double_single_occupancy": "£450",
                        "twin_single_occupancy": "£560"
                    },
                    "description": "Rathbone Apartments. Year-round availability for adults 18+, with a minimum stay of 4 weeks.",
                    "notes": {
                        "availability_restrictions": "Not available for check-ins in October to December.",
                        "placement_fee": "£75"
                    }
                }
            ],
            "additional_fees": {
                "special_diet_supplement": "£35/week",
                "christmas_holiday_homestay_fee": "£350 (20 Dec to 3 Jan 2026)"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": null,
            "courses": null,
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£280",
                    "description": "Half board, single room",
                    "supplements": {
                        "Summer": "£35/week (July and August)"
                    }
                },
                {
                    "type": "Shared Homestay",
                    "price_per_week": "£235",
                    "description": "Half board, shared room",
                    "supplements": {
                        "Summer": "£35/week (July and August)"
                    }
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "accommodation": {
            "placement_fee": "£75",
            "restrictions": [
                "Maximum 4 students in a homestay.",
                "Shared accommodation only guaranteed for two people traveling together.",
                "No allowance for missed time in arranged homestay."
            ]
        },
        "medical_insurance": "Students are strongly advised to take out travel and medical insurance.",
        "tuition_hours": {
            "standard_course": "15 contact hours per week",
            "intensive_course": "22 contact hours per week"
        },
        "assessment": {
            "IELTS_exam_fee": "£220 (subject to change)"
        },
        "materials_fees": {
            "textbook": "£32"
        },
        "school_holidays": {
            "London": "01 January, 18 April, 01 May, 26 May, 25 August, 22 December 2025 – 02 January 2026",
            "Edinburgh": "01 January, 18 April, 21 April, 22 December 2025 – 02 January 2026"
        }
    }
}
2025-01-31 17:42:29,270 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:42:29,270 - PDFParser - INFO - Successfully processed page 11
2025-01-31 17:42:29,270 - PDFParser - INFO - Processing page 12/18
2025-01-31 17:42:29,278 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:42:29,281 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:42:29,289 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:42:29,289 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:42:54,631 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:42:54,631 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": "Not specified",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30–13:00, Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30–13:00 (Group lessons) & 14:00–16:30 (Tuesday to Thursday)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 Group lessons & 5 One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30–13:00 (General English) & 14:00–16:30 (Tuesday to Thursday - IELTS)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24+ weeks", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course",
                    "lessons_per_week": 20,
                    "description": "20 Group lessons (General English) & 5 One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term/Multi-Destination Course",
                    "lessons_per_week": [20, 30],
                    "description": "Flight not included",
                    "prices": [
                        {"duration": "24 weeks, 20 lessons", "price": "£6000", "currency": "GBP"},
                        {"duration": "24 weeks, 30 lessons", "price": "£8520", "currency": "GBP"},
                        {"duration": "36 weeks, 20 lessons", "price": "£8640", "currency": "GBP"},
                        {"duration": "36 weeks, 30 lessons", "price": "£12420", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "09:30–16:30, Monday to Thursday",
                    "prices": [
                        {"duration": "3 months", "price": "£4380", "currency": "GBP"},
                        {"duration": "6 months", "price": "£8520", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "English and Culture, 50+ Programme",
                    "lessons_per_week": 20,
                    "description": "09:30–13:00, Monday to Friday; Cultural visits and a full-day tour included",
                    "prices": [
                        {"duration": "2 weeks", "price": "£1065", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": "Full time/Part time",
                    "description": "Full Time: 09:00–17:00, Monday to Friday; Part Time: Independent study work (20 hours weekly)",
                    "prices": [
                        {"duration": "24-week part-time", "price": "£1515", "currency": "GBP"},
                        {"duration": "Full time or part time", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "09:30–16:30, Monday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": "Flexible",
                    "description": "Customizable based on schedule",
                    "prices": [
                        {"duration": "Per hour", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": "Not provided in the image",
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "class_size": "Maximum of 9 students",
        "lesson_duration": "45 minutes"
    }
}
2025-01-31 17:42:54,631 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:42:54,631 - PDFParser - INFO - Successfully processed page 12
2025-01-31 17:42:54,632 - PDFParser - INFO - Processing page 13/18
2025-01-31 17:42:54,636 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:42:54,638 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:42:54,643 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:42:54,644 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:43:08,542 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:43:08,542 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 15,
                    "description": "Standard courses with 15 contact hours per week (excluding breaks).",
                    "prices": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 22,
                    "description": "Intensive courses with 22 contact hours per week (excluding breaks).",
                    "prices": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay (Half Board)",
                    "price_per_week": {
                        "single": "£280",
                        "premium_single": "£335",
                        "shared": "£235",
                        "premium_shared": "£275"
                    },
                    "description": "Includes breakfast, lunch, and dinner.",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "Christmas": "£350/week (20 Dec to 3 Jan 2026)"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "airport_transfer": {
                    "Heathrow_Airport": {
                        "one_passenger": "£165",
                        "two_passengers": "£170",
                        "three_passengers": "£175"
                    },
                    "Gatwick_Airport": {
                        "one_passenger": "£205",
                        "two_passengers": "£210",
                        "three_passengers": "£215"
                    },
                    "Stansted_Airport": {
                        "one_passenger": "£215",
                        "two_passengers": "£220",
                        "three_passengers": "£225"
                    }
                },
                "text_book": "£32",
                "IELTS_exam": "£220 (subject to change)"
            }
        }
    ],
    "terms": {
        "accommodation": "No allowance for absence during the stay or for late arrival/early departure. Shared rooms only guaranteed for 2 people traveling together.",
        "medical_insurance": "Coverage for personal possessions and tuition fees. Assistance with insurance available.",
        "school_holidays": [
            "1 January",
            "18 April",
            "21 April",
            "5 May",
            "26 May",
            "25 August",
            "22 December 2025 - 2 January 2026"
        ],
        "social_activities": {
            "excursions": {
                "full_day": "£75 - £120",
                "half_day": "£8 - £90"
            },
            "free_afternoon_activities": "Organized by the school."
        }
    }
}
2025-01-31 17:43:08,543 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:43:08,543 - PDFParser - INFO - Successfully processed page 13
2025-01-31 17:43:08,543 - PDFParser - INFO - Processing page 14/18
2025-01-31 17:43:08,566 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:43:08,569 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:43:08,574 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:43:08,575 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:43:34,942 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:43:34,943 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": "",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£240", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£230", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£225", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Monday to Friday (General English) and 14:00 - 16:30 Tuesday to Thursday (IELTS)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours one-to-one lessons for FCE preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course (Ireland and UK)",
                    "lessons_per_week": 20,
                    "description": "Flight not included",
                    "prices": [
                        {"duration": "24 weeks", "price": "£5520", "currency": "GBP"},
                        {"duration": "36 weeks", "price": "£8100", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "General English and academic preparation",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8040", "currency": "GBP"},
                        {"duration": "Extra Week", "price": "£335", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "Afternoon program of lectures and visits",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£765", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": "",
                    "description": "Full time (Face-to-face or online options available; independent work required)",
                    "prices": [
                        {"type": "Face-to-face", "price": "£1545", "currency": "GBP"},
                        {"type": "Online (24-week part-time)", "price": "£1515", "currency": "GBP"},
                        {"type": "Online (part-time or full-time)", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Monday to Friday (General English) and 14:00 - 16:30 Tuesday to Thursday (Business English)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": "",
                    "description": "",
                    "prices": [
                        {"rate": "£75 per hour", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified"
    }
}
2025-01-31 17:43:34,943 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:43:34,943 - PDFParser - INFO - Successfully processed page 14
2025-01-31 17:43:34,943 - PDFParser - INFO - Processing page 15/18
2025-01-31 17:43:34,947 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:43:34,949 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:43:34,955 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:43:34,955 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:43:52,500 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:43:52,500 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single_room": "£240",
                        "shared_room": "£215"
                    },
                    "description": "Half-board accommodation with a host family.",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "Christmas_holiday_fee": "£350 (20 Dec to 3 Jan 2026)"
                    },
                    "placement_fee": "£75"
                },
                {
                    "type": "Residential",
                    "price_per_week": "£225",
                    "description": "Single en suite room. Available year-round for 18+ years, minimum stay 4 weeks.",
                    "placement_fee": "£75"
                }
            ],
            "additional_services": {
                "airport_transfer": {
                    "Leeds_Bradford_Airport": {
                        "one_passenger": "£100",
                        "two_passengers": "£105",
                        "three_passengers": "£110"
                    },
                    "Manchester_Airport": {
                        "one_passenger": "£150",
                        "two_passengers": "£155",
                        "three_passengers": "£160"
                    },
                    "Liverpool_Airport": {
                        "one_passenger": "£185",
                        "two_passengers": "£190",
                        "three_passengers": "£195"
                    },
                    "London_airports": "Upon request"
                }
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is managed with selected homestays or residences. Meals are typically half-board. No refunds for absences during booked dates.",
        "medical_insurance": "Strongly advised to have valid travel medical insurance to cover loss of possessions or tuition fees.",
        "tuition_hours": "45-minute lessons. Standard Course: 15 contact hours/week, Intensive Course: 22 contact hours/week (excluding breaks).",
        "examinations": "IELTS exam cost: £220. CES Leeds is an Official Test Centre.",
        "textbook": "Digital E-book: £32.",
        "social_activities": "Additional costs for excursions (e.g., full-day: £40-£75, half-day: £5-£20). Free afternoon and evening activities available.",
        "policy_of_care": "Care and wellbeing for 16–17-year-old students strictly enforced.",
        "school_holidays": "Holidays: 1 Jan, 18 Apr, 1 May, 26 May, 25 Aug, 22 Dec–2 Jan.",
        "refund_policy": "No refunds for missed public holidays."
    }
}
2025-01-31 17:43:52,500 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:43:52,500 - PDFParser - INFO - Successfully processed page 15
2025-01-31 17:43:52,500 - PDFParser - INFO - Processing page 16/18
2025-01-31 17:43:52,505 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:43:52,506 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:43:52,512 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:43:52,512 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:44:13,765 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:44:13,765 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30-13:00 Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£245", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£235", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£225", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£220", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£210", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Monday to Friday; 14:00-16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week + 5 hours one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£585", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£575", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£565", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Monday to Friday; 14:00-16:30 Tuesday to Thursday (IELTS preparation)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£325", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£315", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£305", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Monday to Friday; 14:00-16:30 Tuesday to Thursday",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£7560", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£315", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": null
    }
}
2025-01-31 17:44:13,766 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:44:13,766 - PDFParser - INFO - Successfully processed page 16
2025-01-31 17:44:13,766 - PDFParser - INFO - Processing page 17/18
2025-01-31 17:44:13,770 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:44:13,771 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:44:13,777 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:44:13,778 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:44:38,613 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:44:38,613 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "N/A",
            "courses": [
                {
                    "name": "Standard Course",
                    "lessons_per_week": 15,
                    "description": "45-minute contact hours per lesson, excluding breaks.",
                    "prices": []
                },
                {
                    "name": "Intensive Course",
                    "lessons_per_week": 22,
                    "description": "45-minute contact hours per lesson, excluding breaks.",
                    "prices": []
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "type": "Single",
                            "price_per_week": "£240",
                            "description": "Half board (bed, breakfast, and dinner)",
                            "supplements": {
                                "Summer": "£35/week (July and August)",
                                "Special Diet": "£35/week",
                                "Christmas": "£350 (20 Dec to 03 Jan 2026)"
                            }
                        },
                        {
                            "type": "Shared",
                            "price_per_week": "£215",
                            "description": "Half board (bed, breakfast, and dinner). Only for 2 people traveling together.",
                            "supplements": {
                                "Summer": "£35/week (July and August)",
                                "Special Diet": "£35/week",
                                "Christmas": "£350 (20 Dec to 03 Jan 2026)"
                            }
                        }
                    ]
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75",
                "IELTS Exam Fee": "£220 (subject to change)",
                "Digital E-book": "£32",
                "Airport Transfers": [
                    {
                        "route": "CES Worthing to/from Heathrow Airport",
                        "prices": {
                            "1 Passenger": "£170",
                            "2 Passengers": "£175",
                            "3 Passengers": "£180"
                        }
                    },
                    {
                        "route": "CES Worthing to/from Gatwick Airport",
                        "prices": {
                            "1 Passenger": "£140",
                            "2 Passengers": "£145",
                            "3 Passengers": "£150"
                        }
                    },
                    {
                        "route": "CES Worthing to/from Stansted Airport",
                        "prices": {
                            "1 Passenger": "£250",
                            "2 Passengers": "£255",
                            "3 Passengers": "£260"
                        }
                    }
                ]
            }
        }
    ],
    "terms": {
        "accommodation": "Half board is arranged in a homestay. No allowance for absences. Shared rooms only for 2 people traveling together.",
        "medical_insurance": "Strongly recommended to cover loss of personal possessions and tuition fees.",
        "tuition_hours": "45-minute classes per contact hour. Standard Course: 15 hours/week; Intensive Course: 22 hours/week.",
        "policy_of_care": "Strict care policy for 16-17 year old students in schools.",
        "school_holidays": "01 January, 18 April, 21 April, 05 May, 26 May, 25 August, 22 December 2025 - 02 January 2026. No refund or time given for public holidays."
    }
}
2025-01-31 17:44:38,613 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:44:38,614 - PDFParser - INFO - Successfully processed page 17
2025-01-31 17:44:38,614 - PDFParser - INFO - Processing page 18/18
2025-01-31 17:44:38,623 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:44:38,625 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:44:38,631 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:44:38,632 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:44:48,569 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:44:48,569 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "description": "Minimum of 2 weeks. Full refund given if more than 28 days' notice is provided. Partial refund policy applies when given less notice.",
                    "price_per_week": null,
                    "supplements": {}
                },
                {
                    "type": "Self-catering",
                    "description": "Dependent on suppliers. Full refund given if more than 28 days' notice is provided. Partial refund policy applies when given less notice.",
                    "price_per_week": null,
                    "supplements": {}
                }
            ],
            "additional_fees": {
                "registration": "€250",
                "tuition_deposit": "€250 (non-refundable)"
            }
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": {
                "registration": "GBP£250",
                "tuition_deposit": "GBP£250 (non-refundable)"
            }
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "180 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": {
                "registration": "CAD$350",
                "tuition_deposit": "CAD$350 (non-refundable)"
            }
        }
    ],
    "terms": {
        "cancellation": "Students can cancel up to 14 days prior to the start date with a fee of €250/GBP£250/CAD$350. No refund is provided for cancellations with less than 14 days' notice.",
        "amendments": "Amendments to study visa dates or schedules incur fees (up to €50/GBP£50/CAD$50).",
        "refunds": {
            "visa_refusal": "Fees minus bank charges are refunded on receipt of visa refusal notification."
        }
    }
}
2025-01-31 17:44:48,569 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:44:48,570 - PDFParser - INFO - Successfully processed page 18
2025-01-31 17:44:48,571 - PDFParser - INFO - PDF processing completed
2025-01-31 17:44:48,571 - PDFParser - INFO - Merging results from all pages
2025-01-31 17:44:48,571 - PDFParser - INFO - Collected 26 locations for merging
2025-01-31 17:44:48,571 - PDFParser - ERROR - Error in merge_results: 'NoneType' object is not iterable
2025-01-31 17:44:48,571 - PDFParser - ERROR - Error in process_pdf: 'NoneType' object is not iterable
2025-01-31 17:44:48,572 - PDFParser - ERROR - Main process failed: 'NoneType' object is not iterable
2025-01-31 17:59:41,592 - PDFParser - INFO - Starting PDF processing
2025-01-31 17:59:41,593 - PDFParser - INFO - Initializing PDFProcessor
2025-01-31 17:59:41,596 - PDFParser - INFO - Initializing PDFParser
2025-01-31 17:59:41,623 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-01-31 17:59:41,625 - PDFParser - INFO - Opened PDF with 18 pages
2025-01-31 17:59:41,625 - PDFParser - INFO - Processing page 1/18
2025-01-31 17:59:41,673 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:59:41,678 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:59:41,689 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:59:41,689 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 17:59:54,898 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 17:59:54,898 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "IELTS, Cambridge, TOEIC, OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                },
                {
                    "name": "Official IELTS, Cambridge, TOEIC, CELPIP Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                }
            ],
            "accommodations": null,
            "additional_fees": null
        },
        {
            "city": "Leeds",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "IELTS Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                },
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                }
            ],
            "accommodations": null,
            "additional_fees": null
        },
        {
            "city": "Edinburgh",
            "country": "UK",
            "address": null,
            "courses": [
                {
                    "name": "CELTA Training",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                }
            ],
            "accommodations": null,
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "Official IELTS, Cambridge, CELPIP, TOEIC, OET Exam Preparation",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                }
            ],
            "accommodations": null,
            "additional_fees": null
        },
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [
                {
                    "name": "New Courses for 2025",
                    "lessons_per_week": null,
                    "description": null,
                    "prices": null
                }
            ],
            "accommodations": null,
            "additional_fees": null
        }
    ],
    "terms": null
}
2025-01-31 17:59:54,899 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 17:59:54,900 - PDFParser - INFO - Successfully processed page 1
2025-01-31 17:59:54,901 - PDFParser - INFO - Processing page 2/18
2025-01-31 17:59:54,972 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 17:59:54,977 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 17:59:54,983 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 17:59:54,983 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:00:13,994 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:00:13,994 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Details not provided in the document",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00 - 13:00 Monday to Friday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "09:00 - 13:00 Monday to Friday, 14:00 - 16:00 Tuesday to Thursday",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€425", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€400", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€385", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€345", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€330", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "13:45 - 17:00 Monday to Friday (Minimum of 4 weeks)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€190", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€180", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€160", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€155", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours one-to-one lessons per week (09:00 - 13:00 Monday to Friday group lessons, flexible hours one-to-one)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€735", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€700", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€675", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board.",
                    "supplements": {
                        "Summer": "€35/week (June 21 - August 30, 2025)"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "Details not provided in the document"
    }
}
2025-01-31 18:00:13,994 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:00:13,995 - PDFParser - INFO - Successfully processed page 2
2025-01-31 18:00:13,996 - PDFParser - INFO - Processing page 3/18
2025-01-31 18:00:14,002 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:00:14,006 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:00:14,012 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:00:14,012 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:00:28,474 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:00:28,475 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Half-board accommodation. Single rooms not available for students aged 16–18.",
                    "supplements": {
                        "Single Room Summer Supplement": "€35/week (June 1st - September 15th, for students over 18).",
                        "Special Diet Supplement": "€35/week for coeliac, gluten-free, lactose-free, vegan, and vegetarian diets.",
                        "Christmas Fee": "€345 (December 20, 2025 - January 3, 2026)."
                    }
                },
                {
                    "type": "Residential (Auburn and Crestfield)",
                    "price_per_week": {
                        "single_room": "€300",
                        "shared_room": "€265"
                    },
                    "description": "Self-catering for 18+ students, located 4–5 km from school. Minimum 2-week stay and compulsory airport transfer required upon arrival."
                },
                {
                    "type": "Residential (Heyday)",
                    "price_per_week": {
                        "single_room": "€399"
                    },
                    "description": "Self-catering for 18+ students, located 14 minutes' walk from school. Minimum 2-week stay."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "€85",
                "airport_transfer_one_way": "€85"
            }
        }
    ],
    "terms": {
        "accommodation": "Half-board in homestay includes breakfast, lunch, and dinner on weekends. Absence without notice incurs a €60 fee. No refund or time-off is provided for missed meals.",
        "insurance": "Medi-PEL required for ILEP students (€130 annual cost). Medical insurance proof is mandatory for visa purposes.",
        "tuition_hours": "Standard: 18.33 contact hours/week. Intensive: 23.83 contact hours/week.",
        "examinations": "Tests such as IELTS (€215), TOEIC, and Cambridge exams available. Advanced test costs €210.",
        "textbook": "Textbook + Digital E-Book: €28. IELTS or Cambridge coursebook: €45.",
        "social_activities": "Optional excursions range €15 to €65 per event.",
        "student_policy": "Strict care policy for 16–17-year-olds applies.",
        "school_holidays": "Holidays on January 1, February 03, March 17, April 18, April 21, May 02, June 04, August 27, October 19, and December 2025 holidays (December 20 to January 05). No refund or time-off."
    }
}
2025-01-31 18:00:28,475 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:00:28,475 - PDFParser - INFO - Successfully processed page 3
2025-01-31 18:00:28,476 - PDFParser - INFO - Processing page 4/18
2025-01-31 18:00:28,506 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:00:28,509 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:00:28,515 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:00:28,516 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:00:43,610 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:00:43,610 - PDFParser - DEBUG - Raw API response content: 
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": "Details not provided in the image.",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes, Monday-Friday, 09:00-13:00",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€285", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€250", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€225", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€200", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€190", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 26,
                    "description": "Morning and afternoon classes: 09:00-13:00 (Mon-Fri) and 14:00-16:00 (Tue-Thu)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€350", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€315", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€290", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€265", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€255", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Afternoon Lessons",
                    "lessons_per_week": 15,
                    "description": "Monday-Friday, 14:00-17:15 (minimum 4 weeks)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€185", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€175", "currency": "EUR"},
                        {"duration": "12-23 weeks", "price": "€165", "currency": "EUR"},
                        {"duration": "24-35 weeks", "price": "€150", "currency": "EUR"},
                        {"duration": "36+ weeks", "price": "€145", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 30,
                    "description": "25 hours of group and 5 hours of one-to-one lessons",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€670", "currency": "EUR"},
                        {"duration": "5-11 weeks", "price": "€635", "currency": "EUR"},
                        {"duration": "12+ weeks", "price": "€615", "currency": "EUR"}
                    ]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 26,
                    "description": "Preparation for university entry",
                    "prices": [
                        {"duration": "12 weeks", "price": "€3480", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "€6630", "currency": "EUR"},
                        {"duration": "extra week", "price": "€265", "currency": "EUR"}
                    ]
                },
                {
                    "name": "Overseas Teacher Training Course",
                    "description": "Includes CLIL, methodology, and specialized training.",
                    "prices": [
                        {"duration": "1 week", "price": "€450", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "€900", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "Details not provided.",
                    "description": "Additional information not visible in the provided image."
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required",
        "additional_note": "All teaching hours are 55 minutes. Maximum class size is 14."
    }
}
2025-01-31 18:00:43,610 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:00:43,611 - PDFParser - INFO - Successfully processed page 4
2025-01-31 18:00:43,612 - PDFParser - INFO - Processing page 5/18
2025-01-31 18:00:43,617 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:00:43,619 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:00:43,625 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:00:43,625 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:00:56,404 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:00:56,404 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies (CES)",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€270",
                    "description": "Half board; additional fee for extra night: €50."
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€50",
                    "description": "Applied during May 17 to September 28."
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten-free, lactose-free, vegan, and vegetarian diets."
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation",
                    "price_per_week": "€345",
                    "description": "Applicable from December 20 to January 3, 2026."
                },
                {
                    "type": "University College Cork Residential Accommodation",
                    "price_from": "€285",
                    "description": "Additional fee for extra night: €50."
                }
            ],
            "additional_fees": {
                "accommodation_placement": "€85",
                "airport_transfer": "€60 (one way)"
            }
        }
    ],
    "terms": {
        "accommodation": "Homestay accommodations include breakfast and dinner (Monday-Friday) and full board (weekends). A €60 weekly retainer fee applies for absences of five days or longer.",
        "insurance": "Medi-PEL mandatory for ILEP students at a cost of €130 per annum. EU students must have EHIC for medical coverage.",
        "tuition_hours": "Standard Course includes 18.33 contact hours per week.",
        "examinations": {
            "IELTS": "€215",
            "Cambridge First": "€205",
            "Advanced": "€210",
            "notes": "Prices subject to change."
        },
        "textbook_fees": {
            "textbook_and_ebook": "€28",
            "IELTS_coursebook": "€45"
        },
        "social_activities": "Excursions range from €15-€65 (approx.) for half and full days. Free afternoon and evening activities are included.",
        "policy_of_care": "Strict policy for 16-17 year-olds studying in adult courses.",
        "school_holidays": "School closes on January 1, February 3, March 17, April 18, April 21, May 2, June 4, August 27, October 19, and December 25 - January 5, 2026."
    }
}
2025-01-31 18:00:56,404 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:00:56,405 - PDFParser - INFO - Successfully processed page 5
2025-01-31 18:00:56,405 - PDFParser - INFO - Processing page 6/18
2025-01-31 18:00:56,429 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:00:56,432 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:00:56,437 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:00:56,438 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:01:27,091 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:01:27,091 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Unnamed Language School in Toronto",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "Not specified",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes (09:00-12:15 Mon-Fri)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Morning and early afternoon classes (09:00-14:00 Mon-Thurs, 09:00-12:15 Fri)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "420", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "400", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "375", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning and extended classes (09:00-15:15 Mon-Thurs, 09:00-12:15 Fri)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "445", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "420", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "400", "currency": "USD"}
                    ]
                },
                {
                    "name": "English for Digital Marketing",
                    "lessons_per_week": 20,
                    "description": "B2 Entry required. Includes English skills & digital marketing focus.",
                    "prices": [{"duration": "12 weeks", "price": "5340", "currency": "USD"}]
                },
                {
                    "name": "University Pathway Program",
                    "lessons_per_week": 30,
                    "description": "B2 Entry required. Morning and extended classes.",
                    "prices": [{"duration": "12 weeks", "price": "5340", "currency": "USD"}]
                },
                {
                    "name": "English for Business",
                    "lessons_per_week": 25,
                    "description": "Includes 20 General English and 5 focused Business classes.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "420", "currency": "USD"}
                    ]
                },
                {
                    "name": "General English for 30+",
                    "lessons_per_week": 20,
                    "description": "Reserved for students aged 30+.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "395", "currency": "USD"},
                        {"duration": "24-35 weeks", "price": "365", "currency": "USD"},
                        {"duration": "36+ weeks", "price": "345", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "Focused preparation for IELTS exams.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "Comprehensive IELTS preparation over short durations.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Course",
                    "lessons_per_week": 25,
                    "description": "Preparation for Cambridge exams (Extra one-on-one lessons included on Fri).",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "870", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Courses",
                    "lessons_per_week": 30,
                    "description": "Intensive preparation for Cambridge exams.",
                    "prices": [{"duration": "4 weeks", "price": "2000", "currency": "USD"}]
                }
            ],
            "accommodations": [
                {
                    "type": "Not specified",
                    "price_per_week": "Not provided",
                    "description": "Not provided",
                    "supplements": {}
                }
            ],
            "additional_fees": {
                "registration": "195",
                "private_lesson_general": "85 per lesson",
                "private_lesson_exam_preparation": "95 per lesson",
                "materials_exam_administration": "575",
                "IELTS_paper_based_exam": "370",
                "IELTS_computer_based_exam": "370",
                "material_fee": "20 per week"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified",
        "class_size": "Maximum class size is 16.",
        "lesson_duration": "45-minute lessons."
    }
}
2025-01-31 18:01:27,091 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:01:27,091 - PDFParser - INFO - Successfully processed page 6
2025-01-31 18:01:27,092 - PDFParser - INFO - Processing page 7/18
2025-01-31 18:01:27,099 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:01:27,101 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:01:27,107 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:01:27,107 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:01:44,861 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:01:44,861 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Toronto",
            "country": "Canada",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "name": "Full-Board Accommodation",
                            "price": {
                                "single": "$350 per week ($30 p/w 01 June - 31 Aug)",
                                "shared": "$310 per week ($30 p/w 01 June - 31 Aug)"
                            }
                        },
                        {
                            "name": "Half-Board Accommodation",
                            "price": {
                                "single": "$320 per week ($30 p/w 01 June - 31 Aug)",
                                "shared": "$275 per week ($30 p/w 01 June - 31 Aug)"
                            }
                        },
                        {
                            "name": "Executive Half-Board with Private Bathroom",
                            "price": "$365 per week ($30 p/w 01 June - 31 Aug)"
                        }
                    ],
                    "add_ons": [
                        {
                            "description": "Special Diet Supplement",
                            "price": "$50 per week (Full-Board) / $45 per week (Half-Board)",
                            "notes": "Coeliac, gluten-free, lactose-free, vegan, halal, kosher, vegetarian"
                        },
                        {
                            "description": "Extra Night",
                            "price": "$60"
                        },
                        {
                            "description": "Underage Fee (applies to 16-17 years)",
                            "price": "$25 per week"
                        }
                    ],
                    "placement_fee": "$275"
                },
                {
                    "type": "Residential Self Catering",
                    "options": [
                        {
                            "name": "Casa Canada (18+)",
                            "price": {
                                "shared_room": "$525 per week; Min 4 weeks",
                                "1_bedroom": "$650 per week; Min 4 weeks",
                                "monthly": "$1985 per month"
                            }
                        },
                        {
                            "name": "28 Langley Ave.",
                            "price": "$575 per week"
                        },
                        {
                            "name": "Tartu Student Residence (17+, May-August)",
                            "price": {
                                "economy_suite": "$550 per week; $1450 monthly",
                                "premium_AC_unit": "$650 per week; $1750 monthly"
                            }
                        }
                    ],
                    "placement_fee": "$275"
                }
            ],
            "additional_fees": {
                "airport_transfer_homestay_or_residence_one_way": "$150",
                "airport_return_transfer": "$300",
                "custodian_fee_non_notarized": "$75",
                "custodian_fee_notarized": "$200",
                "medical_insurance_per_day": "$3",
                "homestay_move_fee": "$150"
            }
        }
    ],
    "terms": {
        "accommodation": "No allowance for absence from accommodation during arranged time or for late arrival/early departure. Shared accommodations only available for 2 traveling together and not guaranteed otherwise. Check-in/out must be on Saturday or Sunday; otherwise extra fees apply. Late arrival fee – non-Saturday/Sunday: $125.",
        "medical_insurance": "Travel and medical insurance strongly encouraged. Coverage should include tuition fees and personal possessions.",
        "tuition_hours": "Teaching/tuition time is 15 hours per week excluding breaks. Intensive is 18.75 hours per week. Super Intensive is 22.50 hours per week.",
        "social_activities": "Afternoon and evening events/overnight activities organized. Popular excursions: Niagara Falls ($125), Algonquin Park ($200/day trip), ski/snowboarding ($290), 3-day trips (French Canada: $500, New York: $700, Boston: $700), yoga: $150/month, golf: $575/week.",
        "policy_of_care": "Strict policy for managing students aged 16 and 17. Contact directly or visit www.ces-schools.com.",
        "school_holidays": "01 January, 17 February, 18 April, 21 May, 01 July, 04 August, 01 September, 30 September, 13 October, 11 November, 25 December, 26 December 2025."
    }
}
2025-01-31 18:01:44,861 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:01:44,862 - PDFParser - INFO - Successfully processed page 7
2025-01-31 18:01:44,862 - PDFParser - INFO - Processing page 8/18
2025-01-31 18:01:44,867 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:01:44,869 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:01:44,874 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:01:44,874 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:02:26,973 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:02:26,974 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:00-12:15 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$440", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$415", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$395", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$365", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "09:00-14:00 Mon to Thu, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$420", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$400", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15 Mon to Thu, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$475", "currency": "USD"},
                        {"duration": "12-23 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "24 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Intensive IELTS Preparation Course",
                    "lessons_per_week": 25,
                    "description": "09:00-14:00 Mon to Thu, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$465", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$445", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$420", "currency": "USD"}
                    ]
                },
                {
                    "name": "Super Intensive IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15 Mon to Thu, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$500", "currency": "USD"},
                        {"duration": "5-9 weeks", "price": "$475", "currency": "USD"}
                    ]
                },
                {
                    "name": "Cambridge Examination Preparation Courses (FCE/CAE)",
                    "lessons_per_week": 20,
                    "description": "09:00-12:15 Mon to Fri + 5 hours One-to-One lessons, 13:00-15:30 Two afternoons for Cambridge preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "$915", "currency": "USD"},
                        {"duration": "5-11 weeks", "price": "$890", "currency": "USD"},
                        {"duration": "12 weeks", "price": "$870", "currency": "USD"}
                    ],
                    "exam_dates": ["10 June (FCE)", "04 June (CAE)", "25 Nov (FCE)", "26 Nov (CAE)"]
                },
                {
                    "name": "Cambridge Examination Fast Track Preparation Courses",
                    "lessons_per_week": 30,
                    "description": "09:00-15:15 Mon to Thu, 09:00-12:15 Fridays",
                    "prices": [
                        {"duration": "4 weeks", "price": "$2000", "currency": "USD"}
                    ],
                    "exam_dates": ["24 July (FCE)", "25 July (CAE)", "21 Aug (FCE)", "22 Aug (CAE)"]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration_fee": "$195",
                "private_lessons": {
                    "general": "$85 per lesson",
                    "exam_preparation": "$95 per lesson"
                },
                "cambridge_materials_exam_administration": "$575",
                "material_fee": "$20 per week"
            }
        }
    ],
    "terms": {
        "cancellation": "Not specified"
    }
}
2025-01-31 18:02:26,974 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:02:26,974 - PDFParser - INFO - Successfully processed page 8
2025-01-31 18:02:26,975 - PDFParser - INFO - Processing page 9/18
2025-01-31 18:02:26,981 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:02:26,983 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:02:26,988 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:02:26,989 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:02:44,382 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:02:44,382 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": null,
            "courses": null,
            "accommodations": [
                {
                    "type": "Homestay",
                    "options": [
                        {
                            "type": "Full-Board Accommodation",
                            "single": {
                                "price_per_week": "$375",
                                "additional_summer_price": "$30 (01 Jun - 31 Aug)"
                            },
                            "shared": {
                                "price_per_week": "$355",
                                "additional_summer_price": "$30 (01 Jun - 31 Aug)"
                            }
                        },
                        {
                            "type": "Half-Board Accommodation",
                            "single": {
                                "price_per_week": "$360",
                                "additional_summer_price": "$30 (01 Jun - 31 Aug)"
                            },
                            "shared": {
                                "price_per_week": "$335",
                                "additional_summer_price": "$30 (01 Jun - 31 Aug)"
                            }
                        },
                        {
                            "type": "Executive Half-Board with Private Bathroom",
                            "single": {
                                "price_per_week": "$480",
                                "additional_summer_price": "$30 (01 Jun - 31 Aug)"
                            }
                        }
                    ],
                    "add_ons": {
                        "special_diet_supplement": "$50 p/w (Full-Board) / $45 p/w (Half-Board)",
                        "extra_night": "$60",
                        "underage_fee": "$25 p/w (Applies to 16-18 years)"
                    }
                },
                {
                    "type": "Residential",
                    "options": [
                        {
                            "property": "GEC Viva (18+)",
                            "shared_room": {
                                "price_weekly": "Not available",
                                "price_monthly": "$1600/month"
                            }
                        },
                        {
                            "property": "Casa Canada",
                            "shared_room": {
                                "price_weekly": "$600/wk",
                                "price_monthly": "$2400/month"
                            }
                        },
                        {
                            "property": "YWCA Student Residence",
                            "prices": "TBA"
                        }
                    ]
                }
            ],
            "additional_fees": {
                "accommodation_placement_fee": "$275",
                "airport_transfer_on_arrival": "$150",
                "airport_return_transfer": "$300",
                "custodian_fee_non_notarized": "$75 (if required by Canadian Immigration, under 18 years)",
                "custodian_fee_notarized": "$200 (if required by Canadian Immigration, under 18 years)",
                "medical_insurance": "$3 per day",
                "homestay_move_fee": "$150"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is arranged in a carefully selected homestay on request. No allowance will be made for absence from the homestay during the arranged time or for late arrivals/early departures. Shared accommodation only available for two people traveling together, cannot be guaranteed otherwise. Check-in/out must be Saturday to Saturday or Sunday to Sunday; if not, late arrival fees will apply. Late arrival fee (non-Saturday/Sunday): $125.",
        "medical_insurance": "You are strongly advised to take out travel and medical insurance before leaving home. Insurance should cover loss of personal possessions, cancellation of courses, or returning home.",
        "social_activities": "CES organizes a range of afternoon, evening, and overnight activities for students.",
        "policy_on_care": "CES has a strict policy of welfare and care for all students under 19 years of age in adult schools.",
        "school_holidays": "January 1, February 18, April 1, April 19, May 04, July 04, August 01, September 30, September 13, October 11, November 25, December 25, and December 26 (No refund or time in lieu)"
    }
}
2025-01-31 18:02:44,382 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:02:44,383 - PDFParser - INFO - Successfully processed page 9
2025-01-31 18:02:44,384 - PDFParser - INFO - Processing page 10/18
2025-01-31 18:02:44,418 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:02:44,420 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:02:44,425 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:02:44,426 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:03:09,320 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:03:09,320 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 20,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours One-to-One exam preparation",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term / Multi Destination Course",
                    "lessons_per_week": 20,
                    "description": "Available in Ireland and UK, flight not included",
                    "prices": [
                        {"duration": "24 weeks", "price": "£6000", "currency": "GBP"},
                        {"duration": "36 weeks", "price": "£8640", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4380", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8520", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£355", "currency": "GBP"}
                    ]
                },
                {
                    "name": "English and Culture, 50+ Programme",
                    "lessons_per_week": 20,
                    "description": "Offered in Edinburgh from 26 May - 6 June and 24 Nov - 05 Dec",
                    "prices": [
                        {"duration": "2 weeks", "price": "£1065", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "description": "Offered at CES Edinburgh, must attend teaching practice weekly",
                    "prices": [
                        {"type": "Face-to-Face", "price": "£1545", "currency": "GBP"},
                        {"type": "Online (Part Time or Full Time)", "price": "£1400", "currency": "GBP"},
                        {"type": "Online (24-Week Part Time)", "price": "£1515", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri (General English) and 14:00 - 16:30 Tues to Thurs (Business English)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "description": "Professional and management courses",
                    "prices": [
                        {"price_per_hour": "£75", "currency": "GBP"}
                    ]
                }
            ]
        }
    ],
    "terms": {
        "registration_fee": "£75 for all students",
        "cancellation": "Maximum class size is 14. Terms for cancellation not explicitly mentioned."
    }
}
2025-01-31 18:03:09,320 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:03:09,321 - PDFParser - INFO - Successfully processed page 10
2025-01-31 18:03:09,322 - PDFParser - INFO - Processing page 11/18
2025-01-31 18:03:09,329 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:03:09,332 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:03:09,340 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:03:09,341 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:03:24,358 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:03:24,358 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "England",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 15,
                    "description": "45-minute lessons. Excludes breaks. Intensive Course: 22 contact hours per week.",
                    "prices": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay (Half-Board)",
                    "price_per_week": "£280-£335",
                    "description": "Single or shared rooms. Summer supplement: £35 p/w (July and August). Premium shared: £275.",
                    "supplements": {
                        "Special Diet": "£35/week",
                        "Christmas Holidays": "£350/week"
                    }
                },
                {
                    "type": "Residential",
                    "price_per_week": "£275-£560",
                    "description": "Rathbone Apartments, Zone 1, Central London. Double and twin room options. Minimum stay: 4 weeks. Age: 18+.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "exam_fee": "£220 (IELTS, subject to change)",
                "textbook_fee": "£32 (Textbook + Digital E-book)"
            }
        },
        {
            "city": "Edinburgh",
            "country": "Scotland",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 15,
                    "description": "45-minute lessons. Excludes breaks. Intensive Course: 22 contact hours per week.",
                    "prices": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay (Half-Board)",
                    "price_per_week": "£280-£315",
                    "description": "Single or shared rooms. Summer supplement: £35 p/w (July and August).",
                    "supplements": {
                        "Special Diet": "£35/week",
                        "Christmas Holidays": "£350/week"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "exam_fee": "£220 (IELTS, subject to change)",
                "textbook_fee": "£32 (Textbook + Digital E-book)"
            }
        }
    ],
    "terms": {
        "accommodation": "Homestays are carefully selected. The single room cannot be guaranteed in July and August. Shared rooms must have 2 travelers. No absences are allowed.",
        "medical_insurance": "Students are advised to take travel and medical insurance.",
        "tuition_hours": "Standard Course is 15 contact hours per week. Intensive Course is 22 hours per week.",
        "examinations": "IELTS exams cost £220. Subject to changes.",
        "text_books": "Cost of text book and digital e-book: £32.",
        "holiday_closures": "Closed from December 22, 2025, to January 2, 2026."
    }
}
2025-01-31 18:03:24,358 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:03:24,359 - PDFParser - INFO - Successfully processed page 11
2025-01-31 18:03:24,360 - PDFParser - INFO - Processing page 12/18
2025-01-31 18:03:24,365 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:03:24,367 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:03:24,373 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:03:24,373 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:03:43,070 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:03:43,071 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": "",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30 - 13:00 Mon to Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£275", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£265", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£240", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri, 14:00 - 16:30 Tues to Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£345", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week + 5 hours One-to-One lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£615", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£605", "currency": "GBP"},
                        {"duration": "Extra week", "price": "£595", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30 - 13:00 Mon to Fri General English, 14:00-16:30 Tues to Thurs IELTS",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£390", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£370", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£365", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£355", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "class_size": "Max class size is 9",
        "lesson_duration": "All teaching hours are 45 minutes",
        "registration_fee": "Non-refundable fee, £75 for all students"
    }
}
2025-01-31 18:03:43,071 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:03:43,071 - PDFParser - INFO - Successfully processed page 12
2025-01-31 18:03:43,072 - PDFParser - INFO - Processing page 13/18
2025-01-31 18:03:43,078 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:03:43,079 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:03:43,085 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:03:43,085 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:03:55,004 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:03:55,004 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Oxford",
            "country": "United Kingdom",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single": "£280",
                        "premium_single": "£335",
                        "shared": "£235",
                        "premium_shared": "£275"
                    },
                    "description": "Half-board (bed, breakfast, and dinner)",
                    "supplements": {
                        "summer": "£35/week (July and August)",
                        "special_diet": "£35/week",
                        "christmas_holidays": "£350/week (20 Dec to 3 Jan 2026)"
                    }
                }
            ],
            "additional_fees": {
                "accommodation_placement": "£75",
                "airport_transfer": {
                    "oxford_to_heathrow": {
                        "one_passenger": "£165",
                        "two_passengers": "£170",
                        "three_passengers": "£175"
                    },
                    "oxford_to_gatwick": {
                        "one_passenger": "£205",
                        "two_passengers": "£210",
                        "three_passengers": "£215"
                    },
                    "oxford_to_stansted": {
                        "one_passenger": "£215",
                        "two_passengers": "£220",
                        "three_passengers": "£225"
                    }
                },
                "digital_textbook": "£32",
                "ielts_exam": "£220"
            }
        }
    ],
    "terms": {
        "accommodation": "Accommodation is arranged in homestay. Half board (bed, breakfast, dinner). No allowance for absence. Room sharing guaranteed only for paired travelers.",
        "medical_insurance": "Students must arrange travel and medical insurance before leaving home.",
        "tuition_hours": "Standard course is 15 contact hours/week. Intensive course is 22 contact hours/week.",
        "social_activities": "Optional with costs: Full day (£75-£120), Half day (£8-£90). Free afternoon/evening activities available.",
        "policy_of_care": "CES ensures care and welfare for students aged 16 and 17 in adult schools.",
        "school_holidays": [
            "01 January",
            "18 April",
            "21 April",
            "05 May",
            "26 May",
            "25 August",
            "22 December 2025 - 02 January 2026"
        ]
    }
}
2025-01-31 18:03:55,004 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:03:55,005 - PDFParser - INFO - Successfully processed page 13
2025-01-31 18:03:55,006 - PDFParser - INFO - Processing page 14/18
2025-01-31 18:03:55,028 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:03:55,029 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:03:55,035 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:03:55,036 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:04:36,400 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:04:36,400 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "09:30-13:00, Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£255", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£250", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£240", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£230", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£225", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Mon-Fri & 14:00-16:30 Tues-Thurs",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week plus 5 one-to-one lessons per week",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Each extra week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Mon-Fri (General English) & 14:00-16:30 Tues-Thurs (IELTS)",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week plus 5 one-to-one lessons for FCE prep",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£595", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£590", "currency": "GBP"},
                        {"duration": "Each extra week", "price": "£580", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Long Term/Multi Destination Course",
                    "lessons_per_week": 20,
                    "description": "Flexible courses spanning 24 or 36 weeks.",
                    "prices": [
                        {"duration": "24 weeks", "price": "£5520", "currency": "GBP"},
                        {"duration": "36 weeks", "price": "£8100", "currency": "GBP"}
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "09:30-13:00 Mon-Fri & 14:00-16:30 Tues-Thurs",
                    "prices": [
                        {"duration": "12 weeks", "price": "£4260", "currency": "GBP"},
                        {"duration": "24 weeks", "price": "£8040", "currency": "GBP"},
                        {"duration": "Each extra week", "price": "£335", "currency": "GBP"}
                    ]
                },
                {
                    "name": "Teacher Training Course",
                    "lessons_per_week": 20,
                    "description": "Morning classes and lectures. CLLI/Blended methods.",
                    "prices": [
                        {"duration": "1 week", "price": "£385", "currency": "GBP"},
                        {"duration": "2 weeks", "price": "£765", "currency": "GBP"}
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "description": "Full-time face-to-face or online training. Must attend a teaching practice weekly.",
                    "prices": [
                        {"option": "Face-to-Face", "price": "£1545", "currency": "GBP"},
                        {"option": "Online (24 weeks)", "price": "£1515", "currency": "GBP"},
                        {"option": "Online (part-time/full-time)", "price": "£1400", "currency": "GBP"}
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "Morning General English & Business English sessions.",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "£375", "currency": "GBP"},
                        {"duration": "5-11 weeks", "price": "£360", "currency": "GBP"},
                        {"duration": "12-23 weeks", "price": "£355", "currency": "GBP"},
                        {"duration": "24-35 weeks", "price": "£335", "currency": "GBP"},
                        {"duration": "36+ weeks", "price": "£330", "currency": "GBP"}
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "description": "Hourly private lessons.",
                    "prices": [
                        {"duration": "Per hour", "price": "£75", "currency": "GBP"}
                    ]
                }
            ],
            "accommodations": null,
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "cancellation": null
    }
}
2025-01-31 18:04:36,400 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:04:36,401 - PDFParser - INFO - Successfully processed page 14
2025-01-31 18:04:36,402 - PDFParser - INFO - Processing page 15/18
2025-01-31 18:04:36,407 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:04:36,412 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:04:36,418 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:04:36,418 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:04:46,707 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:04:46,707 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Leeds",
            "country": "United Kingdom",
            "address": null,
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": {
                        "single": "£240",
                        "shared": "£215"
                    },
                    "description": "Half-board accommodation, includes meals (breakfast and dinner).",
                    "supplements": {
                        "Summer": "£35/week",
                        "Special Diet": "£35/week",
                        "Christmas Holidays": "£350"
                    },
                    "notes": "Shared rooms only guaranteed for travelers together. Gluten-free, lactose-free, vegan, halal, kosher, vegetarian, and food allergies supported."
                },
                {
                    "type": "Residential",
                    "price_per_week": "£225",
                    "description": "Single en-suite room. Available year-round for 18+ students staying a minimum of 4 weeks."
                }
            ],
            "airport_transfers": [
                {
                    "route": "Leeds Bradford Airport to/from CES Leeds",
                    "one_passenger": "£100",
                    "two_passengers": "£105",
                    "three_passengers": "£110"
                },
                {
                    "route": "Manchester Airport to/from CES Leeds",
                    "one_passenger": "£150",
                    "two_passengers": "£155",
                    "three_passengers": "£160"
                },
                {
                    "route": "Liverpool Airport to/from CES Leeds",
                    "one_passenger": "£185",
                    "two_passengers": "£190",
                    "three_passengers": "£195"
                }
            ],
            "additional_fees": {
                "accommodation_placement_fee": "£75",
                "IELTS_exam_cost": "£220",
                "digital_e_book": "£32"
            }
        }
    ],
    "terms": {
        "accommodation": "Arranged in selected homestays. Shared room only assured for 2 traveling together. No absence allowance outside arranged period.",
        "medical_insurance": "Students advised to get medical insurance. CES can assist.",
        "tuition_hours": "Standard course - 15 contact hours/week. Intensive course - 22 hours/week (excluding breaks).",
        "school_holidays": "01 January, 18 April, 01 May, 26 May, 25 August, 22 December 2025 - 02 January 2026.",
        "policy_of_care": "Strict policy of care and welfare for 16-17-year-olds in adult schools.",
        "social_activities": "Excursions by cost: full day (£40-75), half day (£5-20), with free afternoon/evening activities."
    }
}
2025-01-31 18:04:46,707 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:04:46,708 - PDFParser - INFO - Successfully processed page 15
2025-01-31 18:04:46,709 - PDFParser - INFO - Processing page 16/18
2025-01-31 18:04:46,713 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:04:46,715 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:04:46,721 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:04:46,722 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:05:17,999 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:05:17,999 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": null,
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri, 09:30-13:00",
                    "prices": [
                        { "duration": "2-4 weeks", "price": "£245", "currency": "GBP" },
                        { "duration": "5-11 weeks", "price": "£235", "currency": "GBP" },
                        { "duration": "12-23 weeks", "price": "£225", "currency": "GBP" },
                        { "duration": "24-35 weeks", "price": "£220", "currency": "GBP" },
                        { "duration": "36+ weeks", "price": "£210", "currency": "GBP" }
                    ]
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 30,
                    "description": "Morning and afternoon classes, Mon-Fri, 09:30-13:00 and 14:00-16:30 (Tues-Thurs)",
                    "prices": [
                        { "duration": "2-4 weeks", "price": "£355", "currency": "GBP" },
                        { "duration": "5-11 weeks", "price": "£335", "currency": "GBP" },
                        { "duration": "12-23 weeks", "price": "£325", "currency": "GBP" },
                        { "duration": "24-35 weeks", "price": "£315", "currency": "GBP" },
                        { "duration": "36+ weeks", "price": "£305", "currency": "GBP" }
                    ]
                },
                {
                    "name": "Combination Course",
                    "lessons_per_week": 25,
                    "description": "20 group lessons per week and 5 one-to-one lessons, Mon-Fri, 09:30-13:00 and 14:00-16:30 (Tues-Thurs)",
                    "prices": [
                        { "duration": "2-4 weeks", "price": "£585", "currency": "GBP" },
                        { "duration": "5-11 weeks", "price": "£575", "currency": "GBP" },
                        { "duration": "Extra week", "price": "£565", "currency": "GBP" }
                    ]
                },
                {
                    "name": "IELTS Preparation Course",
                    "lessons_per_week": 30,
                    "description": "General English and IELTS preparation, Mon-Fri, 09:30-13:00 and 14:00-16:30 (Tues-Thurs)",
                    "prices": [
                        { "duration": "2-4 weeks", "price": "£355", "currency": "GBP" },
                        { "duration": "5-11 weeks", "price": "£335", "currency": "GBP" },
                        { "duration": "12-23 weeks", "price": "£325", "currency": "GBP" },
                        { "duration": "24-35 weeks", "price": "£315", "currency": "GBP" },
                        { "duration": "36+ weeks", "price": "£305", "currency": "GBP" }
                    ]
                },
                {
                    "name": "Cambridge Exam Preparation Course (FCE)",
                    "lessons_per_week": 25,
                    "description": "20 group lessons and 5 one-to-one lessons focusing on FCE preparation, Mon-Fri, 09:30-13:00 and 14:00-16:30 (Tues-Thurs)",
                    "prices": [
                        { "duration": "2-4 weeks", "price": "£585", "currency": "GBP" },
                        { "duration": "5-11 weeks", "price": "£575", "currency": "GBP" },
                        { "duration": "Extra week", "price": "£565", "currency": "GBP" }
                    ]
                },
                {
                    "name": "Long Term/Multi Destination Course",
                    "lessons_per_week": 20,
                    "description": "Available for 24 or 36 weeks across locations in Ireland and the UK. Flight not included.",
                    "prices": [
                        { "duration": "24 weeks", "price": "£5280", "currency": "GBP" },
                        { "duration": "36 weeks", "price": "£7560", "currency": "GBP" }
                    ]
                },
                {
                    "name": "University Pathway Programme",
                    "lessons_per_week": 30,
                    "description": "Prepares students for university, Mon-Fri, 09:30-13:00 and 14:00-16:30 (Tues-Thurs)",
                    "prices": [
                        { "duration": "12 weeks", "price": "£4260", "currency": "GBP" },
                        { "duration": "24 weeks", "price": "£7560", "currency": "GBP" },
                        { "duration": "Extra week", "price": "£315", "currency": "GBP" }
                    ]
                },
                {
                    "name": "Teacher Training Courses",
                    "lessons_per_week": 20,
                    "description": "Includes language development, methodology workshops, and blended learning. Available in 1 or 2-week programs.",
                    "prices": [
                        { "duration": "1 week", "price": "£385", "currency": "GBP" },
                        { "duration": "2 weeks", "price": "£770", "currency": "GBP" }
                    ]
                },
                {
                    "name": "CELTA Training Course",
                    "lessons_per_week": "Varies",
                    "description": "Full-time or part-time CELTA training with approximately 20 hours per week of independent work.",
                    "prices": [
                        { "duration": "24-week part-time", "price": "£1515", "currency": "GBP" },
                        { "duration": "Part-time or full-time", "price": "£1400", "currency": "GBP" }
                    ]
                },
                {
                    "name": "General English with Business",
                    "lessons_per_week": 30,
                    "description": "Combines General English with Business lessons, Mon-Fri, 09:30-13:00 and 14:00-16:30 (Tues-Thurs). Limited to July and August.",
                    "prices": [
                        { "duration": "2-4 weeks", "price": "£355", "currency": "GBP" },
                        { "duration": "5-11 weeks", "price": "£335", "currency": "GBP" },
                        { "duration": "12-23 weeks", "price": "£325", "currency": "GBP" },
                        { "duration": "24-35 weeks", "price": "£315", "currency": "GBP" },
                        { "duration": "36+ weeks", "price": "£305", "currency": "GBP" }
                    ]
                },
                {
                    "name": "One-to-One Lessons",
                    "lessons_per_week": "Flexible",
                    "description": "Individualized lessons tailored to student's needs",
                    "prices": [
                        { "duration": "Per hour", "price": "£75", "currency": "GBP" }
                    ]
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "registration": "£75"
            }
        }
    ],
    "terms": {
        "teaching_details": "All teaching/tuition hours are 45 minutes. Maximum class size is 14."
    }
}
2025-01-31 18:05:17,999 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:05:18,000 - PDFParser - INFO - Successfully processed page 16
2025-01-31 18:05:18,001 - PDFParser - INFO - Processing page 17/18
2025-01-31 18:05:18,005 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:05:18,007 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:05:18,012 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:05:18,013 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:05:33,249 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:05:33,249 - PDFParser - DEBUG - Raw API response content: {
  "school_name": "Centre of English Studies",
  "locations": [
    {
      "city": "Worthing",
      "country": "United Kingdom",
      "address": null,
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": {
            "single": "£240",
            "shared": "£215"
          },
          "description": "Half-board accommodation with breakfast, lunch, and dinner.",
          "supplements": {
            "summer": "£35/week during July and August",
            "special_diet": "£35/week (gluten-free, lactose-free, vegan, halal, kosher, vegetarian, food allergies—contact for details)",
            "christmas_holiday": "£350 for 20 Dec 2025 to 3 Jan 2026"
          }
        }
      ],
      "additional_fees": {
        "accommodation_placement": "£75",
        "digital_textbook": "£32",
        "IELTS_exam": "£220 (subject to change)"
      }
    }
  ],
  "terms": {
    "accommodation": "Accommodation arranged in carefully selected homestays. Requests for single rooms for 16-17 yr olds cannot be guaranteed in July and August. Shared rooms are for two traveling together.",
    "medical_insurance": "Travel and medical insurance is strongly advised. CES can support obtaining insurance.",
    "tuition_hours": "Standard course: 15 contact hours/week (excluding breaks), Intensive course: 22 contact hours/week (excluding breaks).",
    "social_activities": "Students pay for excursions (£20-£45 half-day, £40-£85 full-day) but CES organizes free afternoon/evening activities.",
    "school_holidays": "01 Jan, 18 Apr, 21 Apr, 05 May, 26 May, 22 Dec 2025 - 02 Jan 2026 (no refund given for holidays)."
  }
}
2025-01-31 18:05:33,249 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:05:33,249 - PDFParser - INFO - Successfully processed page 17
2025-01-31 18:05:33,250 - PDFParser - INFO - Processing page 18/18
2025-01-31 18:05:33,260 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-01-31 18:05:33,263 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-01-31 18:05:33,269 - PDFParser - DEBUG - Encoding image to base64
2025-01-31 18:05:33,270 - PDFParser - INFO - Sending request to OpenAI API
2025-01-31 18:06:02,095 - PDFParser - DEBUG - Received response from OpenAI API
2025-01-31 18:06:02,095 - PDFParser - DEBUG - Raw API response content: {
    "school_name": "Centre of English Studies (CES)",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not provided",
                    "description": "Homestay accommodation provided for a minimum of 2 weeks. Full refund when notified 28 days in advance (no refund if notice period is less than 28 days).",
                    "supplements": "Not specified"
                },
                {
                    "type": "Self-catering (depending on supplier fees)",
                    "price_per_week": "Not provided",
                    "description": "Self-catering accommodation full refund when notified 28 days in advance. No refund given for shorter notice.",
                    "supplements": "Not specified"
                }
            ],
            "additional_fees": {
                "registration": "€250 (deposit, non-refundable)",
                "cancellation_fee": "€250"
            }
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "180 Bloor Street West, Toronto, Ontario, Canada, M4W 1A3",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not provided",
                    "description": "Homestay accommodation provided for a minimum of 2 weeks. Full refund when notified 28 days in advance (no refund if notice period is less than 28 days).",
                    "supplements": "Not specified"
                }
            ],
            "additional_fees": {
                "registration": "CAD $350 (deposit, non-refundable)",
                "cancellation_fee": "CAD $350",
                "study permit refusal fee": "CAD $195 (registration fee, non-refundable)"
            }
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "Not provided",
                    "description": "Homestay accommodation provided for a minimum of 2 weeks. Full refund when notified 28 days in advance (no refund if notice period is less than 28 days).",
                    "supplements": "Not specified"
                }
            ],
            "additional_fees": {
                "registration": "GBP £250 (deposit, non-refundable)",
                "cancellation_fee": "GBP £250"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required for tuition and other fee refunds, subject to deduction of a cancellation fee (€250/£250/CAD $350). No refund given if notice period is less than 14 days.",
        "visa_refusal": "Fees refunded except registration fee and bank charges upon receipt of visa refusal evidence.",
        "amendment": "Amendments to study visa dates: €50/£50/CAD $50 per change (first change free).",
        "other_conditions": [
            "CES not responsible for delays, accommodation issues, or incorrect visa applications.",
            "Students expected to have private medical insurance and follow all specified terms."
        ]
    }
}
2025-01-31 18:06:02,095 - PDFParser - INFO - Successfully parsed JSON response
2025-01-31 18:06:02,096 - PDFParser - INFO - Successfully processed page 18
2025-01-31 18:06:02,098 - PDFParser - INFO - PDF processing completed
2025-01-31 18:10:47,352 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:10:47,354 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:10:47,355 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:13:13,854 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:13:13,856 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:13:13,858 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:24:15,646 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:24:15,648 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:24:15,649 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:28:19,311 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:28:19,313 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:28:19,315 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:35:07,097 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:35:07,099 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:35:07,100 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:35:14,968 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:35:14,971 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:35:14,972 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:36:24,419 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:36:24,421 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:36:24,422 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:36:42,283 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:36:42,285 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:36:42,286 - PDFParser - ERROR - Error in merge_results: dictionary update sequence element #0 has length 1; 2 is required
2025-01-31 18:38:16,590 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:38:16,591 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:38:16,592 - PDFParser - WARNING - Invalid supplements format in accommodation Homestay: Not specified
2025-01-31 18:38:16,593 - PDFParser - ERROR - Error in merge_results: 'NoneType' object is not iterable
2025-01-31 18:39:19,543 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:39:19,545 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:39:19,547 - PDFParser - WARNING - Invalid supplements format in accommodation Homestay: Not specified
2025-01-31 18:39:19,548 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:19,549 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:19,550 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:19,550 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:19,551 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:19,552 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:19,553 - PDFParser - WARNING - Invalid supplements format in accommodation Homestay: Not specified
2025-01-31 18:39:19,553 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:19,554 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:19,555 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:19,556 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:19,556 - PDFParser - ERROR - Error in merge_results: 'NoneType' object is not iterable
2025-01-31 18:39:54,222 - PDFParser - INFO - Merging results from all pages
2025-01-31 18:39:54,223 - PDFParser - INFO - Collected 25 locations for merging
2025-01-31 18:39:54,224 - PDFParser - WARNING - Invalid supplements format in accommodation Homestay: Not specified
2025-01-31 18:39:54,225 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:54,226 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:54,226 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:54,227 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:54,228 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:54,229 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:54,229 - PDFParser - WARNING - Invalid supplements format in accommodation Homestay: Not specified
2025-01-31 18:39:54,230 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:54,231 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:54,232 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:54,232 - PDFParser - WARNING - Found None value for key 'additional_fees'
2025-01-31 18:39:54,234 - PDFParser - WARNING - Invalid courses format in location: None
2025-01-31 18:39:54,234 - PDFParser - WARNING - Invalid accommodations format in location: None
2025-01-31 18:39:54,236 - PDFParser - WARNING - Invalid supplements format in accommodation Homestay: Not specified
2025-01-31 18:39:54,236 - PDFParser - INFO - Merged 24 locations
2025-01-31 18:39:54,237 - PDFParser - INFO - Successfully merged results
2025-02-03 13:35:01,994 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:35:02,068 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:35:02,072 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:35:04,150 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:35:05,043 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:35:05,045 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:35:06,086 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:06,368 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:06,929 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:06,931 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:06,972 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:06,976 - PDFParser - ERROR - Error processing page 1: Object of type type is not JSON serializable
2025-02-03 13:35:06,984 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:35:07,243 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,261 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,270 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,270 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,279 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,280 - PDFParser - ERROR - Error processing page 2: Object of type type is not JSON serializable
2025-02-03 13:35:07,280 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:35:07,289 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,294 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,309 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,311 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,320 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,321 - PDFParser - ERROR - Error processing page 3: Object of type type is not JSON serializable
2025-02-03 13:35:07,322 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:35:07,371 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,374 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,382 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,383 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,391 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,392 - PDFParser - ERROR - Error processing page 4: Object of type type is not JSON serializable
2025-02-03 13:35:07,393 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:35:07,400 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,406 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,413 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,414 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,433 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,434 - PDFParser - ERROR - Error processing page 5: Object of type type is not JSON serializable
2025-02-03 13:35:07,435 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:35:07,475 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,480 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,492 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,498 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,507 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,512 - PDFParser - ERROR - Error processing page 6: Object of type type is not JSON serializable
2025-02-03 13:35:07,513 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:35:07,527 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,532 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,544 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,546 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,562 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,563 - PDFParser - ERROR - Error processing page 7: Object of type type is not JSON serializable
2025-02-03 13:35:07,565 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:35:07,571 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,574 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,586 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,587 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,597 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,598 - PDFParser - ERROR - Error processing page 8: Object of type type is not JSON serializable
2025-02-03 13:35:07,599 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:35:07,607 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,610 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,618 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,619 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,635 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,636 - PDFParser - ERROR - Error processing page 9: Object of type type is not JSON serializable
2025-02-03 13:35:07,637 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:35:07,697 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,699 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,707 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,708 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,716 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,717 - PDFParser - ERROR - Error processing page 10: Object of type type is not JSON serializable
2025-02-03 13:35:07,717 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:35:07,726 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,728 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,736 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,737 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,747 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,748 - PDFParser - ERROR - Error processing page 11: Object of type type is not JSON serializable
2025-02-03 13:35:07,749 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:35:07,773 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,781 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,793 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,794 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,811 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,819 - PDFParser - ERROR - Error processing page 12: Object of type type is not JSON serializable
2025-02-03 13:35:07,820 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:35:07,834 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,838 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,846 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,847 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,857 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,858 - PDFParser - ERROR - Error processing page 13: Object of type type is not JSON serializable
2025-02-03 13:35:07,860 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:35:07,897 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,900 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,908 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,909 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,917 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,918 - PDFParser - ERROR - Error processing page 14: Object of type type is not JSON serializable
2025-02-03 13:35:07,918 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:35:07,925 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,927 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,935 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,936 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,944 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,945 - PDFParser - ERROR - Error processing page 15: Object of type type is not JSON serializable
2025-02-03 13:35:07,946 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:35:07,953 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,956 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,966 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,967 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:07,975 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:07,975 - PDFParser - ERROR - Error processing page 16: Object of type type is not JSON serializable
2025-02-03 13:35:07,976 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:35:07,982 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:07,984 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:07,992 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:07,993 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:08,002 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:08,004 - PDFParser - ERROR - Error processing page 17: Object of type type is not JSON serializable
2025-02-03 13:35:08,004 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:35:08,022 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:35:08,026 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:35:08,044 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:35:08,045 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:35:08,065 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:35:08,066 - PDFParser - ERROR - Error processing page 18: Object of type type is not JSON serializable
2025-02-03 13:35:08,069 - PDFParser - INFO - PDF processing completed
2025-02-03 13:37:53,903 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:37:53,930 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:37:53,931 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:37:54,165 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:37:54,173 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:37:54,174 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:37:54,521 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:54,552 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:54,640 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:54,644 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:54,703 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:54,706 - PDFParser - ERROR - Error processing page 1: Object of type type is not JSON serializable
2025-02-03 13:37:54,709 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:37:55,093 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:55,099 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:55,131 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:55,136 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:55,165 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:55,177 - PDFParser - ERROR - Error processing page 2: Object of type type is not JSON serializable
2025-02-03 13:37:55,181 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:37:55,228 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:55,241 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:55,265 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:55,266 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:55,293 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:55,296 - PDFParser - ERROR - Error processing page 3: Object of type type is not JSON serializable
2025-02-03 13:37:55,307 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:37:55,485 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:55,493 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:55,501 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:55,503 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:55,526 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:55,527 - PDFParser - ERROR - Error processing page 4: Object of type type is not JSON serializable
2025-02-03 13:37:55,529 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:37:55,567 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:55,570 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:55,601 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:55,608 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:55,624 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:55,663 - PDFParser - ERROR - Error processing page 5: Object of type type is not JSON serializable
2025-02-03 13:37:55,664 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:37:55,816 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:55,818 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:55,844 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:55,848 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:55,875 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:55,879 - PDFParser - ERROR - Error processing page 6: Object of type type is not JSON serializable
2025-02-03 13:37:55,881 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:37:55,955 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:55,958 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:56,017 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:56,018 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:56,069 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:56,072 - PDFParser - ERROR - Error processing page 7: Object of type type is not JSON serializable
2025-02-03 13:37:56,073 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:37:56,095 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:56,098 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:56,129 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:56,130 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:56,179 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:56,185 - PDFParser - ERROR - Error processing page 8: Object of type type is not JSON serializable
2025-02-03 13:37:56,187 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:37:56,316 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:56,318 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:56,423 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:56,428 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:56,464 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:56,468 - PDFParser - ERROR - Error processing page 9: Object of type type is not JSON serializable
2025-02-03 13:37:56,470 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:37:56,659 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:56,667 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:56,705 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:56,706 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:56,754 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:56,756 - PDFParser - ERROR - Error processing page 10: Object of type type is not JSON serializable
2025-02-03 13:37:56,757 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:37:56,825 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:56,838 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:56,878 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:56,893 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:56,979 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:56,984 - PDFParser - ERROR - Error processing page 11: Object of type type is not JSON serializable
2025-02-03 13:37:56,986 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:37:57,017 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,038 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,079 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,090 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:57,138 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:57,139 - PDFParser - ERROR - Error processing page 12: Object of type type is not JSON serializable
2025-02-03 13:37:57,141 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:37:57,171 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,190 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,219 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,232 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:57,302 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:57,310 - PDFParser - ERROR - Error processing page 13: Object of type type is not JSON serializable
2025-02-03 13:37:57,315 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:37:57,480 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,483 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,526 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,528 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:57,559 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:57,574 - PDFParser - ERROR - Error processing page 14: Object of type type is not JSON serializable
2025-02-03 13:37:57,576 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:37:57,602 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,619 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,652 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,653 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:57,675 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:57,686 - PDFParser - ERROR - Error processing page 15: Object of type type is not JSON serializable
2025-02-03 13:37:57,691 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:37:57,701 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,714 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,743 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,748 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:57,779 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:57,780 - PDFParser - ERROR - Error processing page 16: Object of type type is not JSON serializable
2025-02-03 13:37:57,781 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:37:57,796 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,802 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,826 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,840 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:57,871 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:57,874 - PDFParser - ERROR - Error processing page 17: Object of type type is not JSON serializable
2025-02-03 13:37:57,875 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:37:57,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:37:57,956 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:37:57,992 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:37:57,997 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:37:58,030 - PDFParser - ERROR - Error in parse_page: Object of type type is not JSON serializable
2025-02-03 13:37:58,041 - PDFParser - ERROR - Error processing page 18: Object of type type is not JSON serializable
2025-02-03 13:37:58,044 - PDFParser - INFO - PDF processing completed
2025-02-03 13:42:20,624 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:42:20,624 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:42:20,630 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:42:20,630 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:42:20,648 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:42:20,648 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:42:20,667 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:42:20,667 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:42:20,669 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:42:20,669 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:42:20,732 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:20,732 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:20,737 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:20,737 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:20,744 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:20,744 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:20,745 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:20,745 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:20,748 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:20,748 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:20,751 - PDFParser - ERROR - Error processing page 1: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:20,751 - PDFParser - ERROR - Error processing page 1: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:20,755 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:42:20,755 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:42:20,968 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:20,968 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:20,981 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:20,981 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,029 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,029 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,031 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,031 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,049 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,049 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,051 - PDFParser - ERROR - Error processing page 2: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,051 - PDFParser - ERROR - Error processing page 2: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,052 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:42:21,052 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:42:21,109 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,109 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,118 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,118 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,138 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,138 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,142 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,142 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,144 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,144 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,154 - PDFParser - ERROR - Error processing page 3: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,154 - PDFParser - ERROR - Error processing page 3: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,156 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:42:21,156 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:42:21,198 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,198 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,206 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,206 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,224 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,224 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,226 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,226 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,229 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,229 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,231 - PDFParser - ERROR - Error processing page 4: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,231 - PDFParser - ERROR - Error processing page 4: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,233 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:42:21,233 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:42:21,242 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,242 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,245 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,245 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,269 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,269 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,275 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,275 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,277 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,277 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,291 - PDFParser - ERROR - Error processing page 5: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,291 - PDFParser - ERROR - Error processing page 5: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,293 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:42:21,293 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:42:21,332 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,332 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,334 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,334 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,342 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,342 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,343 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,343 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,346 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,346 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,347 - PDFParser - ERROR - Error processing page 6: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,347 - PDFParser - ERROR - Error processing page 6: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,354 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:42:21,354 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:42:21,376 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,376 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,379 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,379 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,387 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,387 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,389 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,389 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,390 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,390 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,392 - PDFParser - ERROR - Error processing page 7: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,392 - PDFParser - ERROR - Error processing page 7: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,393 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:42:21,393 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:42:21,401 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,401 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,403 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,403 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,411 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,411 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,412 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,412 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,416 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,416 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,419 - PDFParser - ERROR - Error processing page 8: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,419 - PDFParser - ERROR - Error processing page 8: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,421 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:42:21,421 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:42:21,440 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,440 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,443 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,443 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,458 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,458 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,459 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,459 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,463 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,463 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,466 - PDFParser - ERROR - Error processing page 9: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,466 - PDFParser - ERROR - Error processing page 9: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,469 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:42:21,469 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:42:21,494 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,494 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,497 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,497 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,505 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,505 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,507 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,507 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,510 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,510 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,513 - PDFParser - ERROR - Error processing page 10: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,513 - PDFParser - ERROR - Error processing page 10: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,515 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:42:21,515 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:42:21,535 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,535 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,538 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,538 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,547 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,547 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,549 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,549 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,552 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,552 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,555 - PDFParser - ERROR - Error processing page 11: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,555 - PDFParser - ERROR - Error processing page 11: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,562 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:42:21,562 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:42:21,607 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,607 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,614 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,614 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,666 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,666 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,667 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,667 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,679 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,679 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,684 - PDFParser - ERROR - Error processing page 12: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,684 - PDFParser - ERROR - Error processing page 12: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,696 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:42:21,696 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:42:21,720 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,720 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,729 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,729 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,738 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,738 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,739 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,739 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,748 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,748 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,755 - PDFParser - ERROR - Error processing page 13: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,755 - PDFParser - ERROR - Error processing page 13: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,758 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:42:21,758 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:42:21,804 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,804 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,819 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,819 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,841 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,841 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,842 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,842 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,846 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,846 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,861 - PDFParser - ERROR - Error processing page 14: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,861 - PDFParser - ERROR - Error processing page 14: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,863 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:42:21,863 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:42:21,873 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,873 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,881 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,881 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,889 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,889 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,890 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,890 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,914 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,914 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,915 - PDFParser - ERROR - Error processing page 15: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,915 - PDFParser - ERROR - Error processing page 15: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,917 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:42:21,917 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:42:21,925 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,925 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:21,946 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,946 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:21,971 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,971 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:21,988 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,988 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:21,994 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,994 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,997 - PDFParser - ERROR - Error processing page 16: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,997 - PDFParser - ERROR - Error processing page 16: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:21,999 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:42:21,999 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:42:22,013 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:22,013 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:22,016 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:22,016 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:22,025 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:22,025 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:22,026 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:22,026 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:22,028 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,028 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,030 - PDFParser - ERROR - Error processing page 17: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,030 - PDFParser - ERROR - Error processing page 17: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,032 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:42:22,032 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:42:22,050 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:22,050 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:42:22,063 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:22,063 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:42:22,082 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:22,082 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:42:22,083 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:22,083 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:42:22,085 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,085 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,086 - PDFParser - ERROR - Error processing page 18: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,086 - PDFParser - ERROR - Error processing page 18: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:42:22,097 - PDFParser - INFO - PDF processing completed
2025-02-03 13:42:22,097 - PDFParser - INFO - PDF processing completed
2025-02-03 13:43:34,397 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:43:34,397 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:43:34,400 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:43:34,400 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:43:34,409 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:43:34,409 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:43:34,411 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:43:34,411 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:43:34,413 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:43:34,413 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:43:34,427 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,427 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,429 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,429 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,433 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,433 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,434 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,434 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,435 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,435 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,437 - PDFParser - ERROR - Error processing page 1: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,437 - PDFParser - ERROR - Error processing page 1: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,438 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:43:34,438 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:43:34,491 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,491 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,494 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,494 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,506 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,506 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,510 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,510 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,512 - PDFParser - ERROR - Error processing page 2: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,512 - PDFParser - ERROR - Error processing page 2: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,514 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:43:34,514 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:43:34,524 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,524 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,527 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,527 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,535 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,535 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,536 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,536 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,538 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,538 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,540 - PDFParser - ERROR - Error processing page 3: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,540 - PDFParser - ERROR - Error processing page 3: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,541 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:43:34,541 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:43:34,582 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,582 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,587 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,587 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,593 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,593 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,594 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,594 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,596 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,596 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,598 - PDFParser - ERROR - Error processing page 4: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,598 - PDFParser - ERROR - Error processing page 4: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,599 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:43:34,599 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:43:34,605 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,605 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,608 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,608 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,613 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,613 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,614 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,614 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,616 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,616 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,617 - PDFParser - ERROR - Error processing page 5: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,617 - PDFParser - ERROR - Error processing page 5: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,619 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:43:34,619 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:43:34,641 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,641 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,643 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,643 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,651 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,651 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,652 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,652 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,656 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,656 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,658 - PDFParser - ERROR - Error processing page 6: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,658 - PDFParser - ERROR - Error processing page 6: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,661 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:43:34,661 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:43:34,672 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,672 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,682 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,682 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,685 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,685 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,686 - PDFParser - ERROR - Error processing page 7: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,686 - PDFParser - ERROR - Error processing page 7: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,688 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:43:34,688 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:43:34,694 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,694 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,697 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,697 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,702 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,702 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,703 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,703 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,705 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,705 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,706 - PDFParser - ERROR - Error processing page 8: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,706 - PDFParser - ERROR - Error processing page 8: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,708 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:43:34,708 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:43:34,715 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,715 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,717 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,717 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,723 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,723 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,723 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,723 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,725 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,725 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,727 - PDFParser - ERROR - Error processing page 9: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,727 - PDFParser - ERROR - Error processing page 9: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,728 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:43:34,728 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:43:34,737 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,737 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,739 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,739 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,744 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,744 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,745 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,745 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,747 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,747 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,748 - PDFParser - ERROR - Error processing page 10: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,748 - PDFParser - ERROR - Error processing page 10: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,750 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:43:34,750 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:43:34,758 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,758 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,760 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,760 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,766 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,766 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,767 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,767 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,769 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,769 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,770 - PDFParser - ERROR - Error processing page 11: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,770 - PDFParser - ERROR - Error processing page 11: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,772 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:43:34,772 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:43:34,777 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,777 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,780 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,780 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,785 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,785 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,786 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,786 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,788 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,788 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,789 - PDFParser - ERROR - Error processing page 12: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,789 - PDFParser - ERROR - Error processing page 12: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,791 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:43:34,791 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:43:34,796 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,796 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,805 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,805 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,805 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,805 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,807 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,807 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,809 - PDFParser - ERROR - Error processing page 13: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,809 - PDFParser - ERROR - Error processing page 13: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,810 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:43:34,810 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:43:34,831 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,831 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,833 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,833 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,839 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,839 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,839 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,839 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,841 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,841 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,843 - PDFParser - ERROR - Error processing page 14: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,843 - PDFParser - ERROR - Error processing page 14: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,844 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:43:34,844 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:43:34,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,853 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,853 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,859 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,859 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,859 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,859 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,861 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,861 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,862 - PDFParser - ERROR - Error processing page 15: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,862 - PDFParser - ERROR - Error processing page 15: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,864 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:43:34,864 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:43:34,870 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,870 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,872 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,872 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,878 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,878 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,879 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,879 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,881 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,881 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,882 - PDFParser - ERROR - Error processing page 16: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,882 - PDFParser - ERROR - Error processing page 16: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,884 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:43:34,884 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:43:34,890 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,890 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,892 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,892 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,898 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,898 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,899 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,899 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,900 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,900 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,902 - PDFParser - ERROR - Error processing page 17: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,902 - PDFParser - ERROR - Error processing page 17: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,904 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:43:34,904 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:43:34,916 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,916 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:34,918 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,918 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:34,924 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,924 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:34,925 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,925 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:34,926 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,926 - PDFParser - ERROR - Error in parse_page: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,928 - PDFParser - ERROR - Error processing page 18: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,928 - PDFParser - ERROR - Error processing page 18: You tried to pass a `BaseModel` class to `chat.completions.create()`; You must use `beta.chat.completions.parse()` instead
2025-02-03 13:43:34,931 - PDFParser - INFO - PDF processing completed
2025-02-03 13:43:34,931 - PDFParser - INFO - PDF processing completed
2025-02-03 13:43:44,258 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:43:44,262 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:43:44,298 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:43:44,300 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:43:44,301 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:43:44,360 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:44,366 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:44,391 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:44,392 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:45,777 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:45,778 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:45,779 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:43:45,866 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:45,869 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:45,875 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:45,876 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:47,104 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:47,105 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:47,106 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:43:47,112 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:47,115 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:47,121 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:47,121 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:48,246 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:48,247 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:48,248 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:43:48,277 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:48,281 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:48,287 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:48,287 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:49,386 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:49,387 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:49,388 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:43:49,393 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:49,395 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:49,400 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:49,401 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:50,507 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:50,508 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:50,509 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:43:50,537 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:50,542 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:50,547 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:50,548 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:51,626 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:51,628 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:51,629 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:43:51,638 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:51,641 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:51,649 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:51,650 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:52,818 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:52,819 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:52,820 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:43:52,827 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:52,829 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:52,834 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:52,835 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:54,142 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:54,143 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:54,144 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:43:54,149 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:54,151 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:54,157 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:54,158 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:55,947 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:55,948 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:55,949 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:43:55,984 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:55,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:55,992 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:55,992 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:57,045 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:57,046 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:57,047 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:43:57,058 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:57,063 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:57,071 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:57,072 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:58,202 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:58,203 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:58,204 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:43:58,210 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:58,212 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:58,218 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:58,218 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:43:59,384 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:59,385 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:43:59,386 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:43:59,391 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:43:59,393 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:43:59,399 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:43:59,399 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:44:00,385 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:00,387 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:00,388 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:44:00,411 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:44:00,414 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:44:00,420 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:44:00,420 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:44:01,496 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:01,498 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:01,499 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:44:01,504 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:44:01,505 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:44:01,511 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:44:01,512 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:44:02,573 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:02,574 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:02,575 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:44:02,580 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:44:02,582 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:44:02,588 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:44:02,588 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:44:03,615 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:03,616 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:03,617 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:44:03,622 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:44:03,624 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:44:03,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:44:03,630 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:44:04,629 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:04,630 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:04,631 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:44:04,641 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:44:04,643 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:44:04,649 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:44:04,650 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:44:05,855 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:05,856 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:44:05,858 - PDFParser - INFO - PDF processing completed
2025-02-03 13:49:42,321 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:49:42,325 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:49:42,355 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:49:42,356 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:49:42,357 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:49:42,403 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:49:42,407 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:49:42,419 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:49:42,420 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:49:43,248 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:49:43,249 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:49:43,250 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:49:43,323 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:49:43,327 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:49:43,336 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:49:43,337 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:49:44,478 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:49:44,479 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:49:44,480 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:49:44,486 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:49:44,489 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:49:44,495 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:49:44,496 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:49:45,688 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:49:45,690 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:49:45,692 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:49:45,745 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:49:45,752 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:49:45,760 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:49:45,761 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:24,595 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:51:24,600 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:51:24,655 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:51:24,657 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:51:24,658 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:51:24,702 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:24,707 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:24,722 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:24,723 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:25,508 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:25,509 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:25,510 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:51:25,577 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:25,579 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:25,586 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:25,586 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:26,947 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:26,948 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:26,949 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:51:26,956 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:26,959 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:26,965 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:26,965 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:28,044 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:28,045 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:28,046 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:51:28,086 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:28,091 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:28,097 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:28,097 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:29,135 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:29,136 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:29,137 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:51:29,142 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:29,145 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:29,151 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:29,151 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:30,108 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:30,109 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:30,110 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:51:30,133 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:30,137 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:30,142 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:30,143 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:32,142 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:32,144 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:32,144 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:51:32,151 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:32,153 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:32,159 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:32,160 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:46,471 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:51:46,473 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:51:46,518 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:51:46,520 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:51:46,521 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:51:46,582 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:46,586 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:46,597 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:46,598 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:47,429 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:47,430 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:47,432 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:51:47,498 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:47,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:47,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:47,507 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:51:48,479 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:48,480 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:51:48,481 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:51:48,487 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:51:48,490 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:51:48,496 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:51:48,497 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:24,153 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:52:24,153 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:52:24,155 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:52:24,155 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:52:24,157 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:52:24,157 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:52:24,164 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:52:24,164 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:52:24,166 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:52:24,166 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:52:24,168 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:52:24,168 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:52:24,182 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:24,182 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:24,186 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:24,186 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:24,192 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:24,192 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:24,193 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:24,193 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:24,995 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:24,995 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:24,997 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:24,997 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:24,999 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:52:24,999 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:52:25,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:25,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:25,039 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:25,039 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:25,045 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:25,045 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:25,046 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:25,046 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:26,050 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:26,050 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:26,052 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:26,052 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:26,054 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:52:26,054 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:52:26,061 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:26,061 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:26,065 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:26,065 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:26,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:26,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:26,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:26,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:39,927 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:52:39,927 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:52:39,927 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:52:39,931 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:52:39,931 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:52:39,931 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:52:39,934 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:52:39,934 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:52:39,934 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:52:39,943 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:52:39,943 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:52:39,943 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:52:39,945 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:52:39,945 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:52:39,945 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:52:39,948 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:52:39,948 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:52:39,948 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:52:39,962 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:39,962 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:39,962 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:39,965 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:39,965 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:39,965 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:39,971 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:39,971 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:39,971 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:39,972 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:39,972 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:39,972 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:41,472 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:41,472 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:41,472 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:41,476 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:41,476 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:41,476 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:41,478 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:52:41,478 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:52:41,478 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:52:41,534 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:41,534 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:41,534 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:41,536 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:41,536 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:41,536 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:41,541 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:41,541 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:41,541 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:41,542 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:41,542 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:41,542 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:42,670 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:42,670 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:42,670 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:42,672 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:42,672 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:42,672 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:42,674 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:52:42,674 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:52:42,674 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:52:42,682 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:42,682 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:42,682 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:42,686 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:42,686 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:42,686 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:42,694 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:42,694 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:42,694 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:42,695 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:42,695 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:42,695 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:43,743 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:43,743 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:43,743 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:43,745 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:43,745 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:43,745 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=(), 'required' is required to be supplied and to be an array including every key in properties. Extra required key 'supplements' supplied.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:52:43,748 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:52:43,748 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:52:43,748 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:52:43,779 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:43,779 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:43,779 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:52:43,785 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:43,785 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:43,785 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:52:43,791 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:43,791 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:43,791 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:52:43,793 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:43,793 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:52:43,793 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:05,729 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:55:05,729 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:55:05,729 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:55:05,729 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:55:05,735 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:55:05,735 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:55:05,735 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:55:05,735 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:55:05,738 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:55:05,738 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:55:05,738 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:55:05,738 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:55:05,748 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:55:05,748 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:55:05,748 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:55:05,748 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:55:05,751 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:55:05,751 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:55:05,751 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:55:05,751 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:55:05,754 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:55:05,754 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:55:05,754 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:55:05,754 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:55:05,769 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:05,769 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:05,769 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:05,769 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:05,777 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:05,777 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:05,777 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:05,777 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:05,783 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:05,783 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:05,783 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:05,783 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:05,783 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:05,783 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:05,783 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:05,783 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:06,588 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,588 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,588 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,588 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,591 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,591 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,591 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,591 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:06,594 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:55:06,594 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:55:06,594 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:55:06,594 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:55:06,648 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:06,648 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:06,648 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:06,648 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:06,651 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:06,651 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:06,651 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:06,651 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:06,657 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:06,657 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:06,657 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:06,657 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:06,658 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:06,658 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:06,658 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:06,658 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:07,758 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,758 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,758 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,758 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,762 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,762 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,762 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,762 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:07,766 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:55:07,766 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:55:07,766 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:55:07,766 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:55:07,775 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:07,775 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:07,775 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:07,775 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:07,779 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:07,779 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:07,779 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:07,779 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:07,785 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:07,785 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:07,785 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:07,785 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:07,786 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:07,786 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:07,786 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:07,786 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:08,858 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,858 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,858 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,858 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,862 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,862 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,862 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,862 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:08,866 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:55:08,866 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:55:08,866 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:55:08,866 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:55:08,898 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:08,898 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:08,898 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:08,898 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:08,907 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:08,907 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:08,907 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:08,907 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:08,914 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:08,914 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:08,914 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:08,914 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:08,916 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:08,916 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:08,916 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:08,916 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:09,925 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,925 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,925 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,925 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,928 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,928 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,928 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,928 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:09,932 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:55:09,932 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:55:09,932 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:55:09,932 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:55:09,943 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:09,943 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:09,943 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:09,943 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:09,949 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:09,949 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:09,949 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:09,949 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:09,955 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:09,955 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:09,955 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:09,955 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:09,956 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:09,956 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:09,956 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:09,956 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:10,900 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,900 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,900 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,900 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,903 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,903 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,903 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,903 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:10,906 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:55:10,906 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:55:10,906 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:55:10,906 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:55:10,934 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:10,934 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:10,934 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:10,934 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:10,943 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:10,943 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:10,943 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:10,943 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:10,951 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:10,951 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:10,951 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:10,951 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:10,952 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:10,952 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:10,952 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:10,952 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:11,975 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,975 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,975 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,975 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,978 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,978 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,978 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,978 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:11,981 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:55:11,981 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:55:11,981 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:55:11,981 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:55:11,991 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:11,991 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:11,991 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:11,991 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:11,996 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:11,996 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:11,996 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:11,996 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:12,002 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:12,002 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:12,002 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:12,002 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:12,003 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:12,003 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:12,003 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:12,003 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:13,120 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,120 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,120 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,120 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,123 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,123 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,123 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,123 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:13,126 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:55:13,126 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:55:13,126 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:55:13,126 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:55:13,135 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:13,135 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:13,135 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:13,135 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:13,144 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:13,144 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:13,144 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:13,144 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:13,149 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:13,149 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:13,149 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:13,149 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:13,150 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:13,150 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:13,150 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:13,150 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:14,082 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,082 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,082 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,082 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,086 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,086 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,086 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,086 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:14,089 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:55:14,089 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:55:14,089 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:55:14,089 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:55:14,097 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:14,097 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:14,097 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:14,097 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:14,102 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:14,102 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:14,102 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:14,102 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:14,108 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:14,108 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:14,108 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:14,108 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:14,110 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:14,110 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:14,110 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:14,110 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:15,140 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,140 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,140 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,140 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,143 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,143 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,143 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,143 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:15,146 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:55:15,146 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:55:15,146 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:55:15,146 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:55:15,185 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:15,185 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:15,185 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:15,185 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:15,194 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:15,194 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:15,194 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:15,194 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:15,200 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:15,200 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:15,200 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:15,200 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:15,201 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:15,201 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:15,201 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:15,201 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:16,197 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,197 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,197 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,197 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,200 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,200 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,200 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,200 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:16,203 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:55:16,203 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:55:16,203 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:55:16,203 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:55:16,214 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:16,214 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:16,214 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:16,214 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:16,218 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:16,218 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:16,218 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:16,218 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:16,224 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:16,224 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:16,224 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:16,224 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:16,225 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:16,225 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:16,225 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:16,225 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:17,319 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,319 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,319 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,319 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,322 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,322 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,322 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,322 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:17,325 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:55:17,325 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:55:17,325 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:55:17,325 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:55:17,334 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:17,334 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:17,334 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:17,334 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:17,338 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:17,338 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:17,338 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:17,338 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:17,344 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:17,344 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:17,344 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:17,344 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:17,345 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:17,345 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:17,345 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:17,345 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:18,453 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,453 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,453 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,453 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,456 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,456 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,456 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,456 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:18,459 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:55:18,459 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:55:18,459 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:55:18,459 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:55:18,469 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:18,469 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:18,469 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:18,469 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:18,476 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:18,476 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:18,476 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:18,476 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:18,482 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:18,482 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:18,482 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:18,482 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:18,482 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:18,482 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:18,482 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:18,482 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:19,763 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,763 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,763 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,763 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,766 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,766 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,766 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,766 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:19,770 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:55:19,770 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:55:19,770 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:55:19,770 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:55:19,797 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:19,797 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:19,797 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:19,797 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:19,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:19,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:19,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:19,799 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:19,805 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:19,805 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:19,805 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:19,805 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:19,806 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:19,806 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:19,806 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:19,806 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:20,833 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,833 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,833 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,833 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,837 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,837 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,837 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,837 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:20,840 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:55:20,840 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:55:20,840 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:55:20,840 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:55:20,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:20,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:20,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:20,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:20,857 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:20,857 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:20,857 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:20,857 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:20,863 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:20,863 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:20,863 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:20,863 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:20,864 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:20,864 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:20,864 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:20,864 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:21,918 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,918 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,918 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,918 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,922 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,922 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,922 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,922 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:21,925 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:55:21,925 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:55:21,925 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:55:21,925 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:55:21,932 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:21,932 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:21,932 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:21,932 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:21,938 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:21,938 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:21,938 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:21,938 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:21,944 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:21,944 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:21,944 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:21,944 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:21,945 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:21,945 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:21,945 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:21,945 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:22,929 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,929 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,929 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,929 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,933 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,933 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,933 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,933 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:22,938 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:55:22,938 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:55:22,938 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:55:22,938 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:55:22,951 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:22,951 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:22,951 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:22,951 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:22,962 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:22,962 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:22,962 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:22,962 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:22,969 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:22,969 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:22,969 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:22,969 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:22,970 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:22,970 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:22,970 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:22,970 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:23,979 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,979 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,979 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,979 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,983 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,983 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,983 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,983 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:23,986 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:55:23,986 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:55:23,986 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:55:23,986 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:55:24,002 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:24,002 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:24,002 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:24,002 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:55:24,006 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:24,006 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:24,006 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:24,006 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:55:24,012 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:24,012 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:24,012 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:24,012 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:55:24,013 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:24,013 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:24,013 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:24,013 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:55:25,226 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,226 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,226 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,226 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,230 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,230 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,230 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,230 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:55:25,234 - PDFParser - INFO - PDF processing completed
2025-02-03 13:55:25,234 - PDFParser - INFO - PDF processing completed
2025-02-03 13:55:25,234 - PDFParser - INFO - PDF processing completed
2025-02-03 13:55:25,234 - PDFParser - INFO - PDF processing completed
2025-02-03 13:56:26,931 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:56:26,931 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:56:26,931 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:56:26,931 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:56:26,931 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:56:26,936 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:56:26,936 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:56:26,936 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:56:26,936 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:56:26,936 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:56:26,942 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:56:26,942 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:56:26,942 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:56:26,942 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:56:26,942 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:56:26,952 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:56:26,952 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:56:26,952 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:56:26,952 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:56:26,952 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:56:26,956 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:56:26,956 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:56:26,956 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:56:26,956 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:56:26,956 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:56:26,961 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:56:26,961 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:56:26,961 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:56:26,961 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:56:26,961 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:56:26,979 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:26,979 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:26,979 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:26,979 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:26,979 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:26,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:26,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:26,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:26,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:26,986 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:26,991 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:26,991 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:26,991 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:26,991 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:26,991 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:26,992 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:26,992 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:26,992 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:26,992 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:26,992 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:27,834 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,834 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,834 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,834 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,834 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,838 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,838 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,838 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,838 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,838 - PDFParser - ERROR - Error processing page 1: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:27,841 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:56:27,841 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:56:27,841 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:56:27,841 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:56:27,841 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:56:27,884 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:27,884 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:27,884 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:27,884 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:27,884 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:27,886 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:27,886 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:27,886 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:27,886 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:27,886 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:27,893 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:27,893 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:27,893 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:27,893 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:27,893 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:27,894 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:27,894 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:27,894 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:27,894 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:27,894 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:29,610 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,610 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,610 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,610 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,610 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,614 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,614 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,614 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,614 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,614 - PDFParser - ERROR - Error processing page 2: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:29,620 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:56:29,620 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:56:29,620 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:56:29,620 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:56:29,620 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:56:29,632 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:29,632 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:29,632 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:29,632 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:29,632 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:29,641 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:29,641 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:29,641 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:29,641 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:29,641 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:29,647 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:29,647 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:29,647 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:29,647 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:29,647 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:29,648 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:29,648 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:29,648 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:29,648 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:29,648 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:30,759 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,759 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,759 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,759 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,759 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,763 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,763 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,763 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,763 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,763 - PDFParser - ERROR - Error processing page 3: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:30,767 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:56:30,767 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:56:30,767 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:56:30,767 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:56:30,767 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:56:30,805 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:30,805 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:30,805 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:30,805 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:30,805 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:30,808 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:30,808 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:30,808 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:30,808 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:30,808 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:30,814 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:30,814 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:30,814 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:30,814 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:30,814 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:30,815 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:30,815 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:30,815 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:30,815 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:30,815 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:32,017 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,017 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,017 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,017 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,017 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,021 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,021 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,021 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,021 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,021 - PDFParser - ERROR - Error processing page 4: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:32,025 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:56:32,025 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:56:32,025 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:56:32,025 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:56:32,025 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:56:32,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:32,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:32,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:32,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:32,037 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:32,045 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:32,045 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:32,045 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:32,045 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:32,045 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:32,051 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:32,051 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:32,051 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:32,051 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:32,051 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:32,052 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:32,052 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:32,052 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:32,052 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:32,052 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:33,159 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,159 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,159 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,159 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,159 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,163 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,163 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,163 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,163 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,163 - PDFParser - ERROR - Error processing page 5: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:33,167 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:56:33,167 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:56:33,167 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:56:33,167 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:56:33,167 - PDFParser - INFO - Processing page 6/18
2025-02-03 13:56:33,196 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:33,196 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:33,196 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:33,196 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:33,196 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:33,198 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:33,198 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:33,198 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:33,198 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:33,198 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:33,204 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:33,204 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:33,204 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:33,204 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:33,204 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:33,205 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:33,205 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:33,205 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:33,205 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:33,205 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:34,367 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,367 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,367 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,367 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,367 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,371 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,371 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,371 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,371 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,371 - PDFParser - ERROR - Error processing page 6: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:34,375 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:56:34,375 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:56:34,375 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:56:34,375 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:56:34,375 - PDFParser - INFO - Processing page 7/18
2025-02-03 13:56:34,388 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:34,388 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:34,388 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:34,388 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:34,388 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:34,404 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:34,404 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:34,404 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:34,404 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:34,404 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:34,420 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:34,420 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:34,420 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:34,420 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:34,420 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:34,424 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:34,424 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:34,424 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:34,424 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:34,424 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:35,600 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,600 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,600 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,600 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,600 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,604 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,604 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,604 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,604 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,604 - PDFParser - ERROR - Error processing page 7: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:35,608 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:56:35,608 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:56:35,608 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:56:35,608 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:56:35,608 - PDFParser - INFO - Processing page 8/18
2025-02-03 13:56:35,620 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:35,620 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:35,620 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:35,620 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:35,620 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:35,626 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:35,626 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:35,626 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:35,626 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:35,626 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:35,636 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:35,636 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:35,636 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:35,636 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:35,636 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:35,637 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:35,637 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:35,637 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:35,637 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:35,637 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:36,648 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,648 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,648 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,648 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,648 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,653 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,653 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,653 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,653 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,653 - PDFParser - ERROR - Error processing page 8: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:36,657 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:56:36,657 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:56:36,657 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:56:36,657 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:56:36,657 - PDFParser - INFO - Processing page 9/18
2025-02-03 13:56:36,667 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:36,667 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:36,667 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:36,667 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:36,667 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:36,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:36,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:36,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:36,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:36,675 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:36,681 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:36,681 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:36,681 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:36,681 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:36,681 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:36,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:36,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:36,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:36,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:36,683 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:37,838 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,838 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,838 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,838 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,838 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,842 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,842 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,842 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,842 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,842 - PDFParser - ERROR - Error processing page 9: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:37,845 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:56:37,845 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:56:37,845 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:56:37,845 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:56:37,845 - PDFParser - INFO - Processing page 10/18
2025-02-03 13:56:37,859 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:37,859 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:37,859 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:37,859 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:37,859 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:37,866 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:37,866 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:37,866 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:37,866 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:37,866 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:37,873 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:37,873 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:37,873 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:37,873 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:37,873 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:37,874 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:37,874 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:37,874 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:37,874 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:37,874 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:38,938 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,938 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,938 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,938 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,938 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,942 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,942 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,942 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,942 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,942 - PDFParser - ERROR - Error processing page 10: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:38,946 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:56:38,946 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:56:38,946 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:56:38,946 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:56:38,946 - PDFParser - INFO - Processing page 11/18
2025-02-03 13:56:38,959 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:38,959 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:38,959 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:38,959 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:38,959 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:38,967 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:38,967 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:38,967 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:38,967 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:38,967 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:38,973 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:38,973 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:38,973 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:38,973 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:38,973 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:38,974 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:38,974 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:38,974 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:38,974 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:38,974 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:40,199 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,199 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,199 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,199 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,199 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,203 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,203 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,203 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,203 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,203 - PDFParser - ERROR - Error processing page 11: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:40,207 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:56:40,207 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:56:40,207 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:56:40,207 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:56:40,207 - PDFParser - INFO - Processing page 12/18
2025-02-03 13:56:40,216 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:40,216 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:40,216 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:40,216 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:40,216 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:40,223 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:40,223 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:40,223 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:40,223 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:40,223 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:40,229 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:40,229 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:40,229 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:40,229 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:40,229 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:40,230 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:40,230 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:40,230 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:40,230 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:40,230 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:41,269 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,269 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,269 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,269 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,269 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,273 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,273 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,273 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,273 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,273 - PDFParser - ERROR - Error processing page 12: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:41,277 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:56:41,277 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:56:41,277 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:56:41,277 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:56:41,277 - PDFParser - INFO - Processing page 13/18
2025-02-03 13:56:41,288 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:41,288 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:41,288 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:41,288 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:41,288 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:41,292 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:41,292 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:41,292 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:41,292 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:41,292 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:41,298 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:41,298 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:41,298 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:41,298 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:41,298 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:41,299 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:41,299 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:41,299 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:41,299 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:41,299 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:42,362 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,362 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,362 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,362 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,362 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,366 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,366 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,366 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,366 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,366 - PDFParser - ERROR - Error processing page 13: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:42,370 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:56:42,370 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:56:42,370 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:56:42,370 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:56:42,370 - PDFParser - INFO - Processing page 14/18
2025-02-03 13:56:42,395 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:42,395 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:42,395 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:42,395 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:42,395 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:42,398 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:42,398 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:42,398 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:42,398 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:42,398 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:42,404 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:42,404 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:42,404 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:42,404 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:42,404 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:42,406 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:42,406 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:42,406 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:42,406 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:42,406 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:43,444 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,444 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,444 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,444 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,444 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,448 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,448 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,448 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,448 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,448 - PDFParser - ERROR - Error processing page 14: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:43,452 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:56:43,452 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:56:43,452 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:56:43,452 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:56:43,452 - PDFParser - INFO - Processing page 15/18
2025-02-03 13:56:43,461 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:43,461 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:43,461 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:43,461 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:43,461 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:43,466 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:43,466 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:43,466 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:43,466 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:43,466 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:43,472 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:43,472 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:43,472 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:43,472 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:43,472 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:43,474 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:43,474 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:43,474 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:43,474 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:43,474 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:45,044 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,044 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,044 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,044 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,044 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,048 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,048 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,048 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,048 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,048 - PDFParser - ERROR - Error processing page 15: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:45,052 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:56:45,052 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:56:45,052 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:56:45,052 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:56:45,052 - PDFParser - INFO - Processing page 16/18
2025-02-03 13:56:45,060 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:45,060 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:45,060 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:45,060 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:45,060 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:45,064 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:45,064 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:45,064 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:45,064 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:45,064 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:45,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:45,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:45,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:45,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:45,070 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:45,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:45,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:45,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:45,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:45,071 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:46,084 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,084 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,084 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,084 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,084 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,088 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,088 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,088 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,088 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,088 - PDFParser - ERROR - Error processing page 16: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:46,092 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:56:46,092 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:56:46,092 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:56:46,092 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:56:46,092 - PDFParser - INFO - Processing page 17/18
2025-02-03 13:56:46,101 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:46,101 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:46,101 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:46,101 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:46,101 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:46,106 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:46,106 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:46,106 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:46,106 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:46,106 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:46,112 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:46,112 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:46,112 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:46,112 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:46,112 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:46,113 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:46,113 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:46,113 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:46,113 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:46,113 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:47,175 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,175 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,175 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,175 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,175 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,179 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,179 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,179 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,179 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,179 - PDFParser - ERROR - Error processing page 17: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:47,183 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:56:47,183 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:56:47,183 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:56:47,183 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:56:47,183 - PDFParser - INFO - Processing page 18/18
2025-02-03 13:56:47,195 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:47,195 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:47,195 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:47,195 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:47,195 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:56:47,200 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:47,200 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:47,200 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:47,200 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:47,200 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:56:47,206 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:47,206 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:47,206 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:47,206 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:47,206 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:56:47,207 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:47,207 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:47,207 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:47,207 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:47,207 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:56:48,507 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,507 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,507 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,507 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,507 - PDFParser - ERROR - Error in parse_page: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,510 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,510 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,510 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,510 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,510 - PDFParser - ERROR - Error processing page 18: Error code: 400 - {'error': {'message': "Invalid schema for response_format 'School': In context=('properties', 'requirements'), 'default' is not permitted.", 'type': 'invalid_request_error', 'param': 'response_format', 'code': None}}
2025-02-03 13:56:48,515 - PDFParser - INFO - PDF processing completed
2025-02-03 13:56:48,515 - PDFParser - INFO - PDF processing completed
2025-02-03 13:56:48,515 - PDFParser - INFO - PDF processing completed
2025-02-03 13:56:48,515 - PDFParser - INFO - PDF processing completed
2025-02-03 13:56:48,515 - PDFParser - INFO - PDF processing completed
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,989 - PDFParser - INFO - Starting PDF processing
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:52,997 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,003 - PDFParser - INFO - Initializing PDFParser
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,014 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,022 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,027 - PDFParser - INFO - Processing page 1/18
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,048 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,053 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,058 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:58:53,060 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,895 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,896 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Unknown","courses":[{"name":"IELTS Preparation Course","lessons_per_week":30,"description":"Ideal for those aiming to excel in the IELTS test.","prices":[{"duration":"4 weeks","price":"€1200","currency":"EUR"},{"duration":"8 weeks","price":"€2300","currency":"EUR"}],"requirements":"Proficiency in English at B2 level or higher."}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room with half-board.","supplements":{"investment_summer":"€35 per week in summer"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"cancellation_policy":"14-day notice required for cancellations."}}
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,897 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,902 - PDFParser - INFO - Successfully processed page 1
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,908 - PDFParser - INFO - Processing page 2/18
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,949 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,953 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,959 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:28,960 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,406 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,407 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri from 9:00 to 13:00.","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"},{"duration":"5-11 weeks","price":"315","currency":"EUR"},{"duration":"12-23 weeks","price":"285","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,408 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,414 - PDFParser - INFO - Successfully processed page 2
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,419 - PDFParser - INFO - Processing page 3/18
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,431 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,434 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,441 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:35,442 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,543 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,545 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "Not specified in the document",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay Accommodation",
                    "price_per_week": "€280",
                    "description": "Half board accommodation with single rooms not available for students aged 16-18.",
                    "supplements": null
                },
                {
                    "type": "Single Room Summer Supplement",
                    "price_per_week": "€35",
                    "description": "Applied during June 1st - September 15th for students over 18.",
                    "supplements": null
                },
                {
                    "type": "Special Diet Supplement",
                    "price_per_week": "€35",
                    "description": "For Coeliac, gluten free, lactose free, vegan, and vegetarian.",
                    "supplements": null
                },
                {
                    "type": "Christmas Holidays Homestay Accommodation fee",
                    "price_per_week": "€345",
                    "description": "Available from December 20, 2025, to January 3, 2026.",
                    "supplements": null
                },
                {
                    "type": "Residential Auburn and Crestfield",
                    "price_per_week": "€300 (single room), €265 (shared room)",
                    "description": "18+ years, private residences location, compulsory airport transfer.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Air Transfer": "€85",
                "Insurance": "€130 annually"
            }
        }
    ],
    "terms": {
        "cancellation_policy": "No refund or time given in lieu for public holidays."
    }
}
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,546 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,551 - PDFParser - INFO - Successfully processed page 3
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,557 - PDFParser - INFO - Processing page 4/18
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,592 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,598 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,605 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:45,606 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,827 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"Exact address not provided in the image","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"},{"duration":"24-35 weeks","price":"€200","currency":"EUR"},{"duration":"36+ weeks","price":"€190","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration":"All students must pay a registration fee of €85"}}
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,828 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,834 - PDFParser - INFO - Successfully processed page 4
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,840 - PDFParser - INFO - Processing page 5/18
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,850 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,854 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,861 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 13:59:52,862 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,883 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"€270","description":"Includes breakfast and dinner, additional charges apply for extra nights.","supplements":{"Summer Supplement":"€50/week from May 17 to September 28","Special Diet":"€35/week","Christmas Holidays":"€345/week from December 20 to January 3 2026"}},{"type":"University College Cork Residence","price_per_week":"€285","description":"Individual room, additional charges for extra nights.","supplements":null}],"additional_fees":null}],"terms":{"Accommodation":"Carefully arranged homestays; extra fees for late arrivals, changes, or extended stays.","Insurance":"€130 per year for Medi-PEL.","Tuition Hours":"23.83 contact hours per week for intensive courses.","Examinations":"Exam costs associated with IELTS, Cambridge, etc., are additional.","Text Books":"€28 for digital; full package €45.","Social Activities":"Optional activities; students pay for chosen excursions only.","Policy of Care":"Strict regulation for students aged 16–17.","School Holidays":"Lists provided."}}
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,884 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,890 - PDFParser - INFO - Successfully processed page 5
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,895 - PDFParser - INFO - Processing page 6/18
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,926 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,930 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,937 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:00,938 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,387 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,389 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Not Specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24-35 weeks","price":"$365","currency":"USD"},{"duration":"36+ weeks","price":"$345","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Weekday classes","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24-35 weeks","price":"$400","currency":"USD"},{"duration":"36+ weeks","price":"$375","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"$195"}}],"terms":{"teaching_hours":"45 minutes each","maximum_class_size":"16"}}
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,391 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,402 - PDFParser - INFO - Successfully processed page 6
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,412 - PDFParser - INFO - Processing page 7/18
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,434 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,439 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:16,455 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,777 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - DEBUG - Raw API response content: {
  "name": "Centre of English Studies",
  "locations": [
    {
      "city": "Toronto",
      "country": "Canada",
      "address": "Details not explicitly given",
      "courses": [],
      "accommodations": [
        {
          "type": "Homestay",
          "price_per_week": "from $275 to $365",
          "description": "Full board or half board options in private homes.",
          "supplements": null
        },
        {
          "type": "Residential Self Catering",
          "price_per_week": "$525 to $650",
          "description": "Shared and private rooms, some with AC, for independent living.",
          "supplements": null
        }
      ],
      "additional_fees": {
        "Accommodation Placement Fee": "$275",
        "Airport Transfer": "$150",
        "Custodian Fees": "Up to $200 for minors",
        "Medical Insurance": "$3 per day"
      }
    }
  ],
  "terms": {
    "cancellation": "Strict policies apply.",
    "insurance": "Medical insurance recommendations provided.",
    "arrival_conditions": "Late and on-request arrival policies with fees applied."
  }
}
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,778 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,784 - PDFParser - INFO - Successfully processed page 7
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,790 - PDFParser - INFO - Processing page 8/18
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,799 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,803 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,809 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:25,810 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,254 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,255 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"Vancouver, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Standard English course for general language improvement.","prices":[{"duration":"2-4 weeks","price":"440","currency":"USD"},{"duration":"5-11 weeks","price":"415","currency":"USD"},{"duration":"12-23 weeks","price":"395","currency":"USD"},{"duration":"24 weeks","price":"365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"More intensive general English course.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"},{"duration":"5-11 weeks","price":"445","currency":"USD"},{"duration":"12 weeks","price":"420","currency":"USD"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Most intensive general English course.","prices":[{"duration":"2-4 weeks","price":"500","currency":"USD"}],"requirements":null},{"name":"Intensive IELTS Preparation","lessons_per_week":25,"description":"English preparation for IELTS Exam.","prices":[{"duration":"2-4 weeks","price":"465","currency":"USD"}],"requirements":null},{"name":"Super Intensive IELTS Preparation","lessons_per_week":30,"description":"Comprehensive IELTS preparation course","prices":[{"duration":"1 week","price":"570","currency":"USD"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"340","description":"Shared living accommodation with local","supplements":null}],"additional_fees":{"registration":"195"}}],"terms":{"cancellation":"Required prior to start of the program."}}
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,256 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,262 - PDFParser - INFO - Successfully processed page 8
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,267 - PDFParser - INFO - Processing page 9/18
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,283 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,286 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,293 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:41,295 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,868 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,870 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Vancouver",
            "country": "Canada",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay - Full-Board",
                    "price_per_week": "$375",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$50 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Homestay - Half-Board",
                    "price_per_week": "$360",
                    "description": "Single room, meals included. Summer supplement of $30 in June, July, and August.",
                    "supplements": {
                        "Underage Fee": "$25 per week (for 16-18 years)",
                        "Special Diet": "$45 per week",
                        "Extra Night": "$60 per night"
                    }
                },
                {
                    "type": "Residential - GEC Viva",
                    "price_per_week": "Not available",
                    "description": "Shared room for 18+ adults. Monthly rate of $1600.",
                    "supplements": null
                },
                {
                    "type": "Residential - Casa Canada",
                    "price_per_week": "$600",
                    "description": "Single room for 18+ adults. Monthly rate of $2400.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Registration Fee": "$275",
                "Airport Transfer": "$150 (one-way, upon arrival to accommodation)"
            }
        }
    ],
    "terms": {
        "Accommodation Policy": "Arranged with rules on attendance. See detailed terms.",
        "Medical Insurance": "Recommended coverage for personal losses and tuition fees in case of cancellation or return.",
        "Holiday Dates": "January 1st, February 18...",
        "Late Arrival Fee": "$125 for check-ins outside Saturday/Sunday."
    }
}
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,871 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,877 - PDFParser - INFO - Successfully processed page 9
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,882 - PDFParser - INFO - Processing page 10/18
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,895 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,898 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,905 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:00:51,906 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,520 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,521 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "London",
            "country": "United Kingdom",
            "address": "London, UK",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Lessons in general English for day-to-day use.",
                    "prices": [
                        {
                            "duration": "2-4 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "5-11 weeks",
                            "price": "£265",
                            "currency": "GBP"
                        },
                        {
                            "duration": "36+ weeks",
                            "price": "£240",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£200",
                    "description": "Live with a host family, breakfast and dinner included.",
                    "supplements": {
                        "Summer period": "£50 per week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "£75"
            }
        },
        {
            "city": "Edinburgh",
            "country": "United Kingdom",
            "address": "Edinburgh, UK",
            "courses": [
                {
                    "name": "Cambridge Exam Preparation",
                    "lessons_per_week": 20,
                    "description": "Prepare for Cambridge English examinations.",
                    "prices": [
                        {
                            "duration": "12 weeks",
                            "price": "£500",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Shared Apartment",
                    "price_per_week": "£180",
                    "description": "Shared living in apartment close to the school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "14 days advance notice for full refund"
    }
}
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,522 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,533 - PDFParser - INFO - Successfully processed page 10
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,542 - PDFParser - INFO - Processing page 11/18
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,556 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,558 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,565 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:10,566 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,678 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,680 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"United Kingdom","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£280 to £335","description":"Single and shared rooms, half-board, optional summer supplements.","supplements":{"Summer Supplement":"£35/week (July and August)","Christmas Holidays homestay accommodation fee":"£350/week"}},{"type":"Residential","price_per_week":"£275 to £560","description":"Range of accommodation in Rathbone Apartments, minimum stay 4 weeks.","supplements":{"Accommodation Placement Fee":"£75"}}],"additional_fees":{"Airport Transfer London":"£145 to £155/one way"}}],"terms":{"Accommodation Requirements":"Half board (bed, breakfast, and dinner).","Textbook":"£32"}}
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,681 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,687 - PDFParser - INFO - Successfully processed page 11
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,692 - PDFParser - INFO - Processing page 12/18
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,703 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,706 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,712 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:16,714 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,472 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,473 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"UK","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:30 - 13:00 Monday to Friday.","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12-23 weeks","price":"£255","currency":"GBP"}] ,"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"30 lessons per week, 09:30 - 13:00 Monday to Friday and 14:00 - 16:30 Tuesday to Thursday.","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"}] ,"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":{"cancellation":"Not provided"}}
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,474 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,479 - PDFParser - INFO - Successfully processed page 12
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,485 - PDFParser - INFO - Processing page 13/18
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,496 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,500 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,507 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:24,508 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,981 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,982 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Oxford","country":"United Kingdom","address":"CES Oxford","courses":[],"accommodations":[{"type":"Homestay, Half-Board","price_per_week":"£280","description":"Single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£335","description":"Premium single room","supplements":{"Summer Supplement":"£35/week - July and August"}},{"type":"Homestay, Half-Board","price_per_week":"£235","description":"Shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay, Half-Board","price_per_week":"£275","description":"Premium shared room","supplements":{"Summer Supplement":"£35/week - July and August","Additional Notes":"Applicable for 2 people traveling together."}},{"type":"Homestay","price_per_week":"£350","description":"Christmas Holidays Homestay (20 Dec to 3 Jan 2026)","supplements":{}}],"additional_fees":{"Host Family Add-ons":"Special diet supplement £35/week","Transportation Fee":"From Heathrow, £165 for one passenger, one way."}}],"terms":{"Accommodation":"Arranged in a homestay on request with no absences allowance.","Medical Insurance":"Expected for each student.","Tuition Hours":"45 minutes per teaching hour, 15 teaching hours for Standard Course per week.","Examinations":"IELTS exam costs £220.","Other Supplies":"Digital E-book - £32."}}
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,983 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,989 - PDFParser - INFO - Successfully processed page 13
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:33,995 - PDFParser - INFO - Processing page 14/18
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,021 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,024 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,031 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:34,032 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,794 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,796 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"/","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£255 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£250 p/w","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£375 p/w","currency":"GBP"},{"duration":"5-11 weeks","price":"£360 p/w","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration_fee":"£75"}}],"terms":{"cancellation_policy":"14 day notice required"}}
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,797 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,803 - PDFParser - INFO - Successfully processed page 14
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,809 - PDFParser - INFO - Processing page 15/18
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,818 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,821 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,828 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:40,829 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,461 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,462 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Leeds","country":"United Kingdom","address":"" ,"courses":[],"accommodations":[{"type":"Homestay","price_per_week":"£240 (single room), £215 (shared room)","description":"Half board accommodations for students.","supplements":{"summer_supplement":"£35 per week (July and August)","christmas_supplement":"£350 (20 Dec to 3 Jan 2026)","special_diet_supplement":"£35 per week"}}],"additional_fees":{"airport_transfer_fees_event":"From Leeds Bradford Airport (£100 for one passenger)","examinations":"IELTS exam costs £220."}}],"terms":{"accommodation":"Accommodation is arranged per request. Specific restrictions apply for homestay accommodations.","medical_insurance":"Students are advised to have medical insurance before arrival.","tuition_hours":"Standard course includes 15 tuition hours per week and Intensive course includes 22.","textbook":"Digital E-book at a fee of £32.","school_policies":"Specific rules set for minors and behavior expectations.","holidays":"Holiday periods are specified in advance. No refund for unused holidays."}}
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,463 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,468 - PDFParser - INFO - Successfully processed page 15
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,474 - PDFParser - INFO - Processing page 16/18
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,484 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,487 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,493 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:01:51,494 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,593 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,594 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Worthing","country":"United Kingdom","address":"6th January - 19th December 2025","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:30 - 13:00 Mon to Fri","prices":[{"duration":"2-4 weeks","price":"£245","currency":"GBP"},{"duration":"5-11 weeks","price":"£235","currency":"GBP"},{"duration":"12-23 weeks","price":"£225","currency":"GBP"},{"duration":"24-35 weeks","price":"£220","currency":"GBP"},{"duration":"36+ weeks","price":"£210","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"09:30 - 13:00 Mon to Fri & 14:00 - 16:30 Tue to Thurs","prices":[{"duration":"2-4 weeks","price":"£355","currency":"GBP"},{"duration":"5-11 weeks","price":"£335","currency":"GBP"},{"duration":"12-23 weeks","price":"£325","currency":"GBP"},{"duration":"24-35 weeks","price":"£315","currency":"GBP"},{"duration":"36+ weeks","price":"£305","currency":"GBP"}],"requirements":null},{"name":"Combination Course","lessons_per_week":20,"description":"Group lessons and One-to-One","prices":[{"duration":"2-4 weeks","price":"£585","currency":"GBP"},{"duration":"5-11 weeks","price":"£575","currency":"GBP"},{"duration":"Extra Week","price":"£565","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"Registration Fee":"£75"}}],"terms":{"Registration Policy":"All teaching/tuition hours are 45 minutes. Maximum class size is 14."}}
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,595 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,601 - PDFParser - INFO - Successfully processed page 16
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,607 - PDFParser - INFO - Processing page 17/18
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,618 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,622 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,630 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:01,632 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,758 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,759 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "Location information not explicitly provided in image",
            "courses": [],
            "accommodations": [
                {
                    "type": "Host Family",
                    "price_per_week": "£240",
                    "description": "Single room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week",
                        "Christmas Holidays Supplement": "£350"
                    }
                },
                {
                    "type": "Host Family",
                    "price_per_week": "£215",
                    "description": "Shared room, Half board",
                    "supplements": {
                        "Summer Supplement": "£35/week (July and August)",
                        "Special Diet Supplement": "£35/week"
                    }
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "£75"
            }
        }
    ],
    "terms": {
        "Accommodation": "Arranged in carefully selected homestay on request. Special conditions apply for certain periods.",
        "Insurance": "Travel and medical insurance is strongly advised.",
        "Text Book": "£32",
        "School Holidays": "Several specific dates through 2025-2026",
        "Social Activities": "Optional, fees apply."
    }
}
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,760 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,766 - PDFParser - INFO - Successfully processed page 17
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,772 - PDFParser - INFO - Processing page 18/18
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,787 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,790 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,797 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:08,798 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,335 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,336 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "72 Dame Street, Dublin 2, Ireland",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Toronto",
            "country": "Canada",
            "address": "89 Bloor Street West, Toronto, Ontario, Canada M4W 1A3",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Worthing",
            "country": "United Kingdom",
            "address": "27 South Street, Worthing, West Sussex, BN11 3AR",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Cancellation fees depend on the time of notice provided and conditions of the visa application."
    }
}
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,337 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,342 - PDFParser - INFO - Successfully processed page 18
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 14:02:15,350 - PDFParser - INFO - PDF processing completed
2025-02-03 16:37:21,697 - PDFParser - INFO - Starting PDF processing
2025-02-03 16:37:21,706 - PDFParser - INFO - Initializing PDFProcessor
2025-02-03 16:37:21,708 - PDFParser - INFO - Initializing PDFParser
2025-02-03 16:37:21,850 - PDFParser - INFO - Processing PDF: data/input_files/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-03 16:37:22,339 - PDFParser - INFO - Opened PDF with 18 pages
2025-02-03 16:37:22,340 - PDFParser - INFO - Processing page 1/18
2025-02-03 16:37:22,473 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:37:22,483 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:37:22,629 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:37:22,630 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:37:31,318 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:37:31,319 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Not specified","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English for improving communication skills","prices":[{"duration":"2-4 weeks","price":"355","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"280","description":"Single room, half board","supplements":{"summer":"35/week"}}],"additional_fees":{"registration":"85"}}],"terms":{"cancellation":"14 days notice required"}}
2025-02-03 16:37:31,319 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:37:31,320 - PDFParser - INFO - Successfully processed page 1
2025-02-03 16:37:31,321 - PDFParser - INFO - Processing page 2/18
2025-02-03 16:37:31,426 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:37:31,429 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:37:31,434 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:37:31,435 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:37:42,986 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:37:42,986 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"Ireland","address":"Not provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€355","currency":"EUR"},{"duration":"5-11 weeks","price":"€315","currency":"EUR"},{"duration":"12-23 weeks","price":"€285","currency":"EUR"},{"duration":"24-35 weeks","price":"€265","currency":"EUR"},{"duration":"36+ weeks","price":"€255","currency":"EUR"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":26,"description":"Morning and afternoon classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€425","currency":"EUR"},{"duration":"5-11 weeks","price":"€400","currency":"EUR"},{"duration":"12-23 weeks","price":"€385","currency":"EUR"},{"duration":"24-35 weeks","price":"€345","currency":"EUR"},{"duration":"36+ weeks","price":"€330","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single room, half board","supplements":{"summer_supplement":"€35 per week"}}],"additional_fees":{"registration_fee":"€85"}}],"terms":{"registration_fees_appliy_to_all":"€85","lesson_duration":"55 minutes"}}
2025-02-03 16:37:42,986 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:37:42,987 - PDFParser - INFO - Successfully processed page 2
2025-02-03 16:37:42,988 - PDFParser - INFO - Processing page 3/18
2025-02-03 16:37:42,994 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:37:42,998 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:37:43,004 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:37:43,011 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:37:57,392 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:37:57,392 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "Ireland",
            "address": "N/A",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Includes single room and meals (breakfast and dinner).",
                    "supplements": {
                        "Single Room Summer Supplement": "€35/week from June 1st to September 1st",
                        "Special Diet Supplement": "€35/week",
                        "Christmas Supplement": "€345 for December 20, 2025 to January 3, 2026"
                    }
                },
                {
                    "type": "Residential - Auburn and Crestfield",
                    "price_per_week": "From €300 (Single), €265 (Shared)",
                    "description": "Self-catering, private residences, 5km to city.",
                    "supplements": null
                },
                {
                    "type": "Residential - Heyday",
                    "price_per_week": "€399",
                    "description": "Self-catering, individual room within walking distance.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Airport Transfer": "€85 for one-way"
            }
        }
    ],
    "terms": {
        "accommodation": "Includes homestay and residential options. Meals are conditional on accommodation.",
        "insurance": "Medi insurance and EU EHIC card recommended.",
        "payment": "Non-refundable with exceptions during specified periods."
    }
}
2025-02-03 16:37:57,392 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:37:57,394 - PDFParser - INFO - Successfully processed page 3
2025-02-03 16:37:57,395 - PDFParser - INFO - Processing page 4/18
2025-02-03 16:37:57,438 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:37:57,446 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:37:57,452 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:37:57,452 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:38:06,718 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:38:06,718 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Cork","country":"Ireland","address":".","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"20 lessons per week, 09:00 - 13:00 Monday to Friday","prices":[{"duration":"2-4 weeks","price":"€285","currency":"EUR"},{"duration":"5-11 weeks","price":"€250","currency":"EUR"},{"duration":"12-23 weeks","price":"€225","currency":"EUR"}],"requirements":"Available all year"}],"accommodations":[{"type":"Homestay","price_per_week":"€200","description":"Single room with meal plans included","supplements":{"summer_fee":"€20 per week"}}],"additional_fees":{"registration_fee":"€85 for all students"}}],"terms":{"conditions":"All teaching hours are 55 minutes. Maximum class size is 14 students."}}
2025-02-03 16:38:06,718 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:38:06,720 - PDFParser - INFO - Successfully processed page 4
2025-02-03 16:38:06,721 - PDFParser - INFO - Processing page 5/18
2025-02-03 16:38:06,727 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:38:06,729 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:38:06,739 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:38:06,740 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:38:24,788 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:38:24,788 - PDFParser - DEBUG - Raw API response content: {
    "name": "Centre of English Studies",
    "locations": [
        {
            "city": "Cork",
            "country": "Ireland",
            "address": "Not specified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€270",
                    "description": "Homestay accommodation with meals.",
                    "supplements": {
                        "Christmas Holidays": "€345/week from 20 Dec to 03 Jan",
                        "Single Room Summer": "€50/week from May 17 to September 28",
                        "Special Diet": "€35/week for various diets such as gluten-free or vegetarian"
                    }
                },
                {
                    "type": "Residential",
                    "price_per_week": "€285",
                    "description": "Accommodation at University College Cork.",
                    "supplements": null
                },
                {
                    "type": "Airport pickup",
                    "price_per_week": "€60",
                    "description": "One-way transfer to homestay or residence.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "Accommodation Placement Fee": "€85"
            }
        }
    ],
    "terms": {
        "tuition_hours": "Standard Course is 18.33 hours per week and Intensive Course is 23.83 hours per week.",
        "insurance": "€130 per annum for Medi-PEL",
        "examinations": "IELTS: €215, Cambridge First: €205, Advanced: €210",
        "textbook": "Textbook and e-book fee: €28, IELTS book: €45",
        "policy_of_care": "Care policy for 16 and 17-year-old students in adult courses.",
        "school_holidays": "No classes on January 01, February 03, March 17, April 18, April 21, May 02, June 04, August 27, October 19, December 25 to January 05, 2026."
    }
}
2025-02-03 16:38:24,788 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:38:24,789 - PDFParser - INFO - Successfully processed page 5
2025-02-03 16:38:24,791 - PDFParser - INFO - Processing page 6/18
2025-02-03 16:38:24,839 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:38:24,844 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:38:24,852 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:38:24,853 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:38:33,383 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:38:33,383 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies - Toronto","locations":[{"city":"Toronto","country":"Canada","address":"Unknown","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Monday to Friday, 09:00 to 12:15.","prices":[{"duration":"2-4 weeks","price":"$440","currency":"CAD"},{"duration":"5-11 weeks","price":"$415","currency":"CAD"},{"duration":"12-23 weeks","price":"$395","currency":"CAD"},{"duration":"24-35 weeks","price":"$365","currency":"CAD"},{"duration":"36+ weeks","price":"$345","currency":"CAD"}] ,"requirements":null}], "accommodations":[], "additional_fees":{"registration_fee":"$195"}}],"terms":{"teaching_minutes":"45 minutes","maximum_class_size":"16 trainees"}}
2025-02-03 16:38:33,383 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:38:33,384 - PDFParser - INFO - Successfully processed page 6
2025-02-03 16:38:33,386 - PDFParser - INFO - Processing page 7/18
2025-02-03 16:38:33,395 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:38:33,397 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:38:33,403 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:38:33,404 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:38:43,781 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:38:43,782 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Toronto","country":"Canada","address":"Unavailable","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"350","description":"Full-Board Accommodation (Single)","supplements":{"summer_additional_cost":"30 per week 01 June - 31 Aug"}},{"type":"Residence","price_per_week":"525","description":"Casa Canada (18+ Shared Room, Weekly with Tax)","supplements":{"monthly_discount":"Minimum 4 weeks"}}],"additional_fees":{"accommodation_placement_fee":"275","medical_insurance":"3 per day"}}],"terms":{"accommodation_notice":"Students must arrive at their scheduled time, changes incur extra fees.","medical_insurance":"Strongly recommended. Covers tuition fees and belongings loss due to cancellation."}}
2025-02-03 16:38:43,782 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:38:43,782 - PDFParser - INFO - Successfully processed page 7
2025-02-03 16:38:43,783 - PDFParser - INFO - Processing page 8/18
2025-02-03 16:38:43,794 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:38:43,796 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:38:43,806 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:38:43,807 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:38:52,762 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:38:52,762 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"09:00 to 12:15 Mon-Fri","prices":[{"duration":"2-4 weeks","price":"$440","currency":"USD"},{"duration":"5-11 weeks","price":"$415","currency":"USD"},{"duration":"12-23 weeks","price":"$395","currency":"USD"},{"duration":"24 weeks","price":"$365","currency":"USD"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"09:00 to 14:00 Mon-Thu, 09:00 to 12:15 Fridays","prices":[{"duration":"2-4 weeks","price":"$465","currency":"USD"},{"duration":"5-11 weeks","price":"$445","currency":"USD"},{"duration":"12-23 weeks","price":"$420","currency":"USD"},{"duration":"24 weeks","price":"$400","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"$195"}}],"terms":null}
2025-02-03 16:38:52,762 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:38:52,764 - PDFParser - INFO - Successfully processed page 8
2025-02-03 16:38:52,764 - PDFParser - INFO - Processing page 9/18
2025-02-03 16:38:52,770 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:38:52,777 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:38:52,786 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:38:52,787 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:39:03,638 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:39:03,638 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Vancouver","country":"Canada","address":"","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$375","description":"Full board single room, additional cost during summer.","supplements":{"Special Diet": "$50 p/w","Extra Night": "$60"}},{"type":"Homestay","price_per_week":"$360","description":"Half board single room, additional cost during summer.","supplements":{"Special Diet": "$45 p/w","Extra Night": "$60"}},{"type":"Homestay","price_per_week":"$480","description":"Executive half-board with private bathroom.","supplements":{}},{"type":"Residence","price_per_week":"$600","description":"Economy Downtown." ,"supplements":{"Monthly Rate": "$2400"}}],"additional_fees":{"Accommodation Placement Fee": "$275"}}],"terms":{"Accommodation Policy":"Accommodation is arranged upon request.","Medical Insurance Policy":"Ensure coverage before leaving home.","Tuition Hour Policy":"Standard Course is 15 hours per week, excluding breaks.","Additional Notes":"Late arrival fees apply."}}
2025-02-03 16:39:03,639 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:39:03,639 - PDFParser - INFO - Successfully processed page 9
2025-02-03 16:39:03,640 - PDFParser - INFO - Processing page 10/18
2025-02-03 16:39:03,681 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:39:03,684 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:39:03,690 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:39:03,690 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:39:11,463 - PDFParser - DEBUG - Received response from OpenAI API
2025-02-03 16:39:11,464 - PDFParser - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"England","address":"","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri 9:30-13:00","prices":[{"duration":"2-4 weeks","price":"£275","currency":"GBP"},{"duration":"5-11 weeks","price":"£265","currency":"GBP"},{"duration":"12+ weeks","price":"£255","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":30,"description":"Morning and afternoon classes, Mon-Fri","prices":[{"duration":"2-4 weeks","price":"£390","currency":"GBP"},{"duration":"5-11 weeks","price":"£370","currency":"GBP"},{"duration":"12+ weeks","price":"£365","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"£75"}}],"terms":null}
2025-02-03 16:39:11,464 - PDFParser - INFO - Successfully parsed JSON response
2025-02-03 16:39:11,465 - PDFParser - INFO - Successfully processed page 10
2025-02-03 16:39:11,466 - PDFParser - INFO - Processing page 11/18
2025-02-03 16:39:11,474 - PDFParser - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-03 16:39:11,477 - PDFParser - DEBUG - Converting PIL Image to JPEG bytes
2025-02-03 16:39:11,483 - PDFParser - DEBUG - Encoding image to base64
2025-02-03 16:39:11,484 - PDFParser - INFO - Sending request to OpenAI API
2025-02-03 16:39:34,038 - PDFParser - DEBUG - Received response from OpenAI API
