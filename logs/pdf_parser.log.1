2025-02-05 20:09:00,454 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:09:00,454 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:09:00,454 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:09:00,457 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"London","country":"GB","address":"To Be Confirmed","courses":[{"name":"General English","lessons_per_week":20,"description":"Learn English for everyday use, improving speaking, listening, reading, and writing.","prices":[{"duration":"2 weeks","price":"£450","currency":"GBP"},{"duration":"4 weeks","price":"£860","currency":"GBP"}],"requirements":"Beginner to Advanced learners"},{"name":"IELTS Preparation","lessons_per_week":25,"description":"Specialized course for IELTS test readiness.","prices":[{"duration":"2 weeks","price":"£500","currency":"GBP"}],"requirements":"Intermediate to advanced"},{"name":"Business English","lessons_per_week":20,"description":"Focused on English usage in business contexts.","prices":[{"duration":"4 weeks","price":"£920","currency":"GBP"}],"requirements":"Intermediate level or higher"}],"accommodations":[{"type":"Homestay","price_per_week":"£250","description":"Daily breakfast and dinner, single room.","supplements":{"Summer Supplement":"£30 per week"}},{"type":"Student Residence","price_per_week":"£350","description":"Self-catering, en-suite room.","supplements":null}],"additional_fees":{"Registration Fee":"£50","Materials Fee":"£30"}}],"terms":{"cancellation_policy":"Full refund for cancellations made 2 weeks prior to course start."},"repeat":null}
2025-02-05 20:09:00,457 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"London","country":"GB","address":"To Be Confirmed","courses":[{"name":"General English","lessons_per_week":20,"description":"Learn English for everyday use, improving speaking, listening, reading, and writing.","prices":[{"duration":"2 weeks","price":"£450","currency":"GBP"},{"duration":"4 weeks","price":"£860","currency":"GBP"}],"requirements":"Beginner to Advanced learners"},{"name":"IELTS Preparation","lessons_per_week":25,"description":"Specialized course for IELTS test readiness.","prices":[{"duration":"2 weeks","price":"£500","currency":"GBP"}],"requirements":"Intermediate to advanced"},{"name":"Business English","lessons_per_week":20,"description":"Focused on English usage in business contexts.","prices":[{"duration":"4 weeks","price":"£920","currency":"GBP"}],"requirements":"Intermediate level or higher"}],"accommodations":[{"type":"Homestay","price_per_week":"£250","description":"Daily breakfast and dinner, single room.","supplements":{"Summer Supplement":"£30 per week"}},{"type":"Student Residence","price_per_week":"£350","description":"Self-catering, en-suite room.","supplements":null}],"additional_fees":{"Registration Fee":"£50","Materials Fee":"£30"}}],"terms":{"cancellation_policy":"Full refund for cancellations made 2 weeks prior to course start."},"repeat":null}
2025-02-05 20:09:00,457 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"London","country":"GB","address":"To Be Confirmed","courses":[{"name":"General English","lessons_per_week":20,"description":"Learn English for everyday use, improving speaking, listening, reading, and writing.","prices":[{"duration":"2 weeks","price":"£450","currency":"GBP"},{"duration":"4 weeks","price":"£860","currency":"GBP"}],"requirements":"Beginner to Advanced learners"},{"name":"IELTS Preparation","lessons_per_week":25,"description":"Specialized course for IELTS test readiness.","prices":[{"duration":"2 weeks","price":"£500","currency":"GBP"}],"requirements":"Intermediate to advanced"},{"name":"Business English","lessons_per_week":20,"description":"Focused on English usage in business contexts.","prices":[{"duration":"4 weeks","price":"£920","currency":"GBP"}],"requirements":"Intermediate level or higher"}],"accommodations":[{"type":"Homestay","price_per_week":"£250","description":"Daily breakfast and dinner, single room.","supplements":{"Summer Supplement":"£30 per week"}},{"type":"Student Residence","price_per_week":"£350","description":"Self-catering, en-suite room.","supplements":null}],"additional_fees":{"Registration Fee":"£50","Materials Fee":"£30"}}],"terms":{"cancellation_policy":"Full refund for cancellations made 2 weeks prior to course start."},"repeat":null}
2025-02-05 20:09:00,496 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:09:00,496 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:09:00,496 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:09:00,498 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:09:00,498 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:09:00,498 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:09:00,499 - src.logger - INFO - Processing page 4/24
2025-02-05 20:09:00,499 - src.logger - INFO - Processing page 4/24
2025-02-05 20:09:00,499 - src.logger - INFO - Processing page 4/24
2025-02-05 20:09:00,609 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:09:00,609 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:09:00,609 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:09:00,616 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:09:00,616 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:09:00,616 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:09:00,626 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:09:00,626 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:09:00,626 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:09:00,627 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:09:00,627 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:09:00,627 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:09:00,629 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:09:00,629 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:09:00,629 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:09:00,632 - src.logger - DEBUG - Saved image to logs/image_1738768140.jpg
2025-02-05 20:09:00,632 - src.logger - DEBUG - Saved image to logs/image_1738768140.jpg
2025-02-05 20:09:00,632 - src.logger - DEBUG - Saved image to logs/image_1738768140.jpg
2025-02-05 20:16:30,047 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:16:30,047 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:16:30,047 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:16:30,047 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"London","country":"GB","address":"167 Queensway, London W2 4SB","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English lessons focusing on improving speaking, listening, reading, and writing","prices":[{"duration":"1 to 11 weeks","price":"360","currency":"GBP"},{"duration":"12 to 23 weeks","price":"325","currency":"GBP"},{"duration":"24+ weeks","price":"285","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"An intensive English course for quicker progression","prices":[{"duration":"1 to 11 weeks","price":"405","currency":"GBP"},{"duration":"12 to 23 weeks","price":"360","currency":"GBP"},{"duration":"24+ weeks","price":"315","currency":"GBP"}],"requirements":null},{"name":"Super Intensive English","lessons_per_week":30,"description":"Super-intensive English for fast track improvement","prices":[{"duration":"1 to 11 weeks","price":"450","currency":"GBP"},{"duration":"12 to 23 weeks","price":"405","currency":"GBP"},{"duration":"24+ weeks","price":"360","currency":"GBP"}],"requirements":null},{"name":"Family English - Young Learner","lessons_per_week":20,"description":"Courses designed for young learners","prices":[{"duration":"1+ weeks","price":"360","currency":"GBP"}],"requirements":null},{"name":"Family English - Parent & Child","lessons_per_week":20,"description":"Courses designed for families","prices":[{"duration":"1+ weeks","price":"650","currency":"GBP"}],"requirements":null},{"name":"Family English - Day Camp","lessons_per_week":20,"description":"Day Camp for children aged 12-17","prices":[{"duration":"1+ weeks","price":"565","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Standard","lessons_per_week":20,"description":"Preparation for Cambridge Exams at Standard level","prices":[{"duration":"8 weeks","price":"2880","currency":"GBP"},{"duration":"10 weeks","price":"3600","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Intensive","lessons_per_week":25,"description":"Preparation for Cambridge Exams at Intensive level","prices":[{"duration":"8 weeks","price":"3240","currency":"GBP"},{"duration":"10 weeks","price":"4500","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Super Intensive","lessons_per_week":30,"description":"Preparation for Cambridge Exams at Super Intensive level","prices":[{"duration":"8 weeks","price":"3600","currency":"GBP"},{"duration":"10 weeks","price":"4500","currency":"GBP"}],"requirements":null},{"name":"Professional - Digital Marketing","lessons_per_week":-1,"description":"Digital marketing course to enhance your professional skills","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - International Business Management","lessons_per_week":-1,"description":"Business management course for the international market","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - Luxury Brand Management","lessons_per_week":-1,"description":"Training course focusing on managing luxury brands","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - Customer Experience Management","lessons_per_week":-1,"description":"Improving professional skills in managing customer experiences","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Premium Package","lessons_per_week":30,"description":"Combined Professional and English courses for comprehensive training","prices":[{"duration":"8 weeks","price":"3310","currency":"GBP"},{"duration":"12 weeks","price":"4530","currency":"GBP"},{"duration":"24 weeks","price":"8000","currency":"GBP"},{"duration":"36 weeks","price":"11430","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:16:30,047 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"London","country":"GB","address":"167 Queensway, London W2 4SB","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English lessons focusing on improving speaking, listening, reading, and writing","prices":[{"duration":"1 to 11 weeks","price":"360","currency":"GBP"},{"duration":"12 to 23 weeks","price":"325","currency":"GBP"},{"duration":"24+ weeks","price":"285","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"An intensive English course for quicker progression","prices":[{"duration":"1 to 11 weeks","price":"405","currency":"GBP"},{"duration":"12 to 23 weeks","price":"360","currency":"GBP"},{"duration":"24+ weeks","price":"315","currency":"GBP"}],"requirements":null},{"name":"Super Intensive English","lessons_per_week":30,"description":"Super-intensive English for fast track improvement","prices":[{"duration":"1 to 11 weeks","price":"450","currency":"GBP"},{"duration":"12 to 23 weeks","price":"405","currency":"GBP"},{"duration":"24+ weeks","price":"360","currency":"GBP"}],"requirements":null},{"name":"Family English - Young Learner","lessons_per_week":20,"description":"Courses designed for young learners","prices":[{"duration":"1+ weeks","price":"360","currency":"GBP"}],"requirements":null},{"name":"Family English - Parent & Child","lessons_per_week":20,"description":"Courses designed for families","prices":[{"duration":"1+ weeks","price":"650","currency":"GBP"}],"requirements":null},{"name":"Family English - Day Camp","lessons_per_week":20,"description":"Day Camp for children aged 12-17","prices":[{"duration":"1+ weeks","price":"565","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Standard","lessons_per_week":20,"description":"Preparation for Cambridge Exams at Standard level","prices":[{"duration":"8 weeks","price":"2880","currency":"GBP"},{"duration":"10 weeks","price":"3600","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Intensive","lessons_per_week":25,"description":"Preparation for Cambridge Exams at Intensive level","prices":[{"duration":"8 weeks","price":"3240","currency":"GBP"},{"duration":"10 weeks","price":"4500","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Super Intensive","lessons_per_week":30,"description":"Preparation for Cambridge Exams at Super Intensive level","prices":[{"duration":"8 weeks","price":"3600","currency":"GBP"},{"duration":"10 weeks","price":"4500","currency":"GBP"}],"requirements":null},{"name":"Professional - Digital Marketing","lessons_per_week":-1,"description":"Digital marketing course to enhance your professional skills","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - International Business Management","lessons_per_week":-1,"description":"Business management course for the international market","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - Luxury Brand Management","lessons_per_week":-1,"description":"Training course focusing on managing luxury brands","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - Customer Experience Management","lessons_per_week":-1,"description":"Improving professional skills in managing customer experiences","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Premium Package","lessons_per_week":30,"description":"Combined Professional and English courses for comprehensive training","prices":[{"duration":"8 weeks","price":"3310","currency":"GBP"},{"duration":"12 weeks","price":"4530","currency":"GBP"},{"duration":"24 weeks","price":"8000","currency":"GBP"},{"duration":"36 weeks","price":"11430","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:16:30,047 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"London","country":"GB","address":"167 Queensway, London W2 4SB","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English lessons focusing on improving speaking, listening, reading, and writing","prices":[{"duration":"1 to 11 weeks","price":"360","currency":"GBP"},{"duration":"12 to 23 weeks","price":"325","currency":"GBP"},{"duration":"24+ weeks","price":"285","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"An intensive English course for quicker progression","prices":[{"duration":"1 to 11 weeks","price":"405","currency":"GBP"},{"duration":"12 to 23 weeks","price":"360","currency":"GBP"},{"duration":"24+ weeks","price":"315","currency":"GBP"}],"requirements":null},{"name":"Super Intensive English","lessons_per_week":30,"description":"Super-intensive English for fast track improvement","prices":[{"duration":"1 to 11 weeks","price":"450","currency":"GBP"},{"duration":"12 to 23 weeks","price":"405","currency":"GBP"},{"duration":"24+ weeks","price":"360","currency":"GBP"}],"requirements":null},{"name":"Family English - Young Learner","lessons_per_week":20,"description":"Courses designed for young learners","prices":[{"duration":"1+ weeks","price":"360","currency":"GBP"}],"requirements":null},{"name":"Family English - Parent & Child","lessons_per_week":20,"description":"Courses designed for families","prices":[{"duration":"1+ weeks","price":"650","currency":"GBP"}],"requirements":null},{"name":"Family English - Day Camp","lessons_per_week":20,"description":"Day Camp for children aged 12-17","prices":[{"duration":"1+ weeks","price":"565","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Standard","lessons_per_week":20,"description":"Preparation for Cambridge Exams at Standard level","prices":[{"duration":"8 weeks","price":"2880","currency":"GBP"},{"duration":"10 weeks","price":"3600","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Intensive","lessons_per_week":25,"description":"Preparation for Cambridge Exams at Intensive level","prices":[{"duration":"8 weeks","price":"3240","currency":"GBP"},{"duration":"10 weeks","price":"4500","currency":"GBP"}],"requirements":null},{"name":"Cambridge Exam Preparation - Super Intensive","lessons_per_week":30,"description":"Preparation for Cambridge Exams at Super Intensive level","prices":[{"duration":"8 weeks","price":"3600","currency":"GBP"},{"duration":"10 weeks","price":"4500","currency":"GBP"}],"requirements":null},{"name":"Professional - Digital Marketing","lessons_per_week":-1,"description":"Digital marketing course to enhance your professional skills","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - International Business Management","lessons_per_week":-1,"description":"Business management course for the international market","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - Luxury Brand Management","lessons_per_week":-1,"description":"Training course focusing on managing luxury brands","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Professional - Customer Experience Management","lessons_per_week":-1,"description":"Improving professional skills in managing customer experiences","prices":[{"duration":"4 weeks","price":"2100","currency":"GBP"}],"requirements":"Level 5 (Bayswater)/ B1+ (CEFR)"},{"name":"Premium Package","lessons_per_week":30,"description":"Combined Professional and English courses for comprehensive training","prices":[{"duration":"8 weeks","price":"3310","currency":"GBP"},{"duration":"12 weeks","price":"4530","currency":"GBP"},{"duration":"24 weeks","price":"8000","currency":"GBP"},{"duration":"36 weeks","price":"11430","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:16:30,048 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:16:30,048 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:16:30,048 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:16:30,050 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:16:30,050 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:16:30,050 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:16:30,052 - src.logger - INFO - Processing page 5/24
2025-02-05 20:16:30,052 - src.logger - INFO - Processing page 5/24
2025-02-05 20:16:30,052 - src.logger - INFO - Processing page 5/24
2025-02-05 20:16:30,193 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:16:30,193 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:16:30,193 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:16:30,201 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:16:30,201 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:16:30,201 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:16:30,210 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:16:30,210 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:16:30,210 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:16:30,212 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:16:30,212 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:16:30,212 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:16:30,214 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:16:30,214 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:16:30,214 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:16:30,217 - src.logger - DEBUG - Saved image to logs/image_1738768590.jpg
2025-02-05 20:16:30,217 - src.logger - DEBUG - Saved image to logs/image_1738768590.jpg
2025-02-05 20:16:30,217 - src.logger - DEBUG - Saved image to logs/image_1738768590.jpg
2025-02-05 20:16:47,306 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:16:47,306 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:16:47,306 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:16:47,307 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater",
    "locations": [
        {
            "city": "London",
            "country": "GB",
            "address": "167 Queensway, London W2 4SB",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "from £230",
                    "description": "Single or twin rooms, shared bathroom",
                    "supplements": {
                        "Summer Supplement": "£30/week",
                        "Christmas Supplement": "£50/week",
                        "Private Bathroom (where available)": "£45/week",
                        "Dietary Supplement": "£25-45/week",
                        "Under 18 Supplement": "£20/week"
                    }
                },
                {
                    "type": "Residences Age 18+",
                    "price_per_week": "from £425",
                    "description": "Standard and premium studio or en-suite",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "registration": "£95",
                "accommodation booking fee": "£50",
                "bank charges": "£12",
                "exam fees": "from £225",
                "professional course materials": "£28",
                "work placement programme fee": "£1,000"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:16:47,307 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater",
    "locations": [
        {
            "city": "London",
            "country": "GB",
            "address": "167 Queensway, London W2 4SB",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "from £230",
                    "description": "Single or twin rooms, shared bathroom",
                    "supplements": {
                        "Summer Supplement": "£30/week",
                        "Christmas Supplement": "£50/week",
                        "Private Bathroom (where available)": "£45/week",
                        "Dietary Supplement": "£25-45/week",
                        "Under 18 Supplement": "£20/week"
                    }
                },
                {
                    "type": "Residences Age 18+",
                    "price_per_week": "from £425",
                    "description": "Standard and premium studio or en-suite",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "registration": "£95",
                "accommodation booking fee": "£50",
                "bank charges": "£12",
                "exam fees": "from £225",
                "professional course materials": "£28",
                "work placement programme fee": "£1,000"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:16:47,307 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater",
    "locations": [
        {
            "city": "London",
            "country": "GB",
            "address": "167 Queensway, London W2 4SB",
            "courses": [],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "from £230",
                    "description": "Single or twin rooms, shared bathroom",
                    "supplements": {
                        "Summer Supplement": "£30/week",
                        "Christmas Supplement": "£50/week",
                        "Private Bathroom (where available)": "£45/week",
                        "Dietary Supplement": "£25-45/week",
                        "Under 18 Supplement": "£20/week"
                    }
                },
                {
                    "type": "Residences Age 18+",
                    "price_per_week": "from £425",
                    "description": "Standard and premium studio or en-suite",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "registration": "£95",
                "accommodation booking fee": "£50",
                "bank charges": "£12",
                "exam fees": "from £225",
                "professional course materials": "£28",
                "work placement programme fee": "£1,000"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:16:47,307 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:16:47,307 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:16:47,307 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:16:47,310 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:16:47,310 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:16:47,310 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:16:47,311 - src.logger - INFO - Processing page 6/24
2025-02-05 20:16:47,311 - src.logger - INFO - Processing page 6/24
2025-02-05 20:16:47,311 - src.logger - INFO - Processing page 6/24
2025-02-05 20:16:47,425 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:16:47,425 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:16:47,425 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:16:47,432 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:16:47,432 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:16:47,432 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:16:47,441 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:16:47,441 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:16:47,441 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:16:47,443 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:16:47,443 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:16:47,443 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:16:47,444 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:16:47,444 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:16:47,444 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:16:47,446 - src.logger - DEBUG - Saved image to logs/image_1738768607.jpg
2025-02-05 20:16:47,446 - src.logger - DEBUG - Saved image to logs/image_1738768607.jpg
2025-02-05 20:16:47,446 - src.logger - DEBUG - Saved image to logs/image_1738768607.jpg
2025-02-05 20:17:06,357 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:06,357 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:06,357 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:06,357 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater",
    "locations": [
        {
            "city": "Liverpool",
            "country": "UK",
            "address": "42-46 Whitechapel, Liverpool L1 6DS",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "General English classes focused on core language skills.",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "12 to 23 weeks",
                            "price": "£250",
                            "currency": "GBP"
                        },
                        {
                            "duration": "24+ weeks",
                            "price": "£230",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Comprehensive English language studies.",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "£305",
                            "currency": "GBP"
                        },
                        {
                            "duration": "12 to 23 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "24+ weeks",
                            "price": "£250",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Professional Course: Digital Marketing",
                    "lessons_per_week": 0,
                    "description": "Specialist digital marketing course.",
                    "prices": [
                        {
                            "duration": "4 weeks",
                            "price": "£2100",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": "Level B1+/B2 in English"
                },
                {
                    "name": "Premium Package",
                    "lessons_per_week": 0,
                    "description": "Combined English and professional courses.",
                    "prices": [
                        {
                            "duration": "8 weeks",
                            "price": "£3310",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£150",
                    "description": "Single room, half board.",
                    "supplements": {
                        "Summer Fee": "£25/week"
                    }
                }
            ],
            "additional_fees": {
                "registration_fee": "£50"
            }
        }
    ],
    "terms": {
        "cancellation": "Cancellation must be made in writing."
    },
    "repeat": false
}
2025-02-05 20:17:06,357 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater",
    "locations": [
        {
            "city": "Liverpool",
            "country": "UK",
            "address": "42-46 Whitechapel, Liverpool L1 6DS",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "General English classes focused on core language skills.",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "12 to 23 weeks",
                            "price": "£250",
                            "currency": "GBP"
                        },
                        {
                            "duration": "24+ weeks",
                            "price": "£230",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Comprehensive English language studies.",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "£305",
                            "currency": "GBP"
                        },
                        {
                            "duration": "12 to 23 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "24+ weeks",
                            "price": "£250",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Professional Course: Digital Marketing",
                    "lessons_per_week": 0,
                    "description": "Specialist digital marketing course.",
                    "prices": [
                        {
                            "duration": "4 weeks",
                            "price": "£2100",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": "Level B1+/B2 in English"
                },
                {
                    "name": "Premium Package",
                    "lessons_per_week": 0,
                    "description": "Combined English and professional courses.",
                    "prices": [
                        {
                            "duration": "8 weeks",
                            "price": "£3310",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£150",
                    "description": "Single room, half board.",
                    "supplements": {
                        "Summer Fee": "£25/week"
                    }
                }
            ],
            "additional_fees": {
                "registration_fee": "£50"
            }
        }
    ],
    "terms": {
        "cancellation": "Cancellation must be made in writing."
    },
    "repeat": false
}
2025-02-05 20:17:06,357 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater",
    "locations": [
        {
            "city": "Liverpool",
            "country": "UK",
            "address": "42-46 Whitechapel, Liverpool L1 6DS",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "General English classes focused on core language skills.",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "12 to 23 weeks",
                            "price": "£250",
                            "currency": "GBP"
                        },
                        {
                            "duration": "24+ weeks",
                            "price": "£230",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Comprehensive English language studies.",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "£305",
                            "currency": "GBP"
                        },
                        {
                            "duration": "12 to 23 weeks",
                            "price": "£275",
                            "currency": "GBP"
                        },
                        {
                            "duration": "24+ weeks",
                            "price": "£250",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Professional Course: Digital Marketing",
                    "lessons_per_week": 0,
                    "description": "Specialist digital marketing course.",
                    "prices": [
                        {
                            "duration": "4 weeks",
                            "price": "£2100",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": "Level B1+/B2 in English"
                },
                {
                    "name": "Premium Package",
                    "lessons_per_week": 0,
                    "description": "Combined English and professional courses.",
                    "prices": [
                        {
                            "duration": "8 weeks",
                            "price": "£3310",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "£150",
                    "description": "Single room, half board.",
                    "supplements": {
                        "Summer Fee": "£25/week"
                    }
                }
            ],
            "additional_fees": {
                "registration_fee": "£50"
            }
        }
    ],
    "terms": {
        "cancellation": "Cancellation must be made in writing."
    },
    "repeat": false
}
2025-02-05 20:17:06,357 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:06,357 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:06,357 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:06,360 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:17:06,360 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:17:06,360 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:17:06,361 - src.logger - INFO - Processing page 7/24
2025-02-05 20:17:06,361 - src.logger - INFO - Processing page 7/24
2025-02-05 20:17:06,361 - src.logger - INFO - Processing page 7/24
2025-02-05 20:17:06,488 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:06,488 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:06,488 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:06,495 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:06,495 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:06,495 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:06,505 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:06,505 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:06,505 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:06,507 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:06,507 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:06,507 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:06,508 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:06,508 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:06,508 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:06,509 - src.logger - DEBUG - Saved image to logs/image_1738768626.jpg
2025-02-05 20:17:06,509 - src.logger - DEBUG - Saved image to logs/image_1738768626.jpg
2025-02-05 20:17:06,509 - src.logger - DEBUG - Saved image to logs/image_1738768626.jpg
2025-02-05 20:17:13,729 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:13,729 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:13,729 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:13,730 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater College","locations":[{"city":"Liverpool","country":"GB","address":"42-46 Whitechapel, Liverpool L1 6DS","courses":[],"accommodations":[{"type":"Homestay 16+","price_per_week":"£175-£200","description":"Single room with shared bathroom, varying meal plans.","supplements":{"Summer":"£30/week","Christmas":"£50/week","Private Bathroom":"£45/week","Dietary":"£35/week","Under 18":"£20/week"}},{"type":"Residences 18+","price_per_week":"£165-£205","description":"Different options like Budget, Standard, and Premium Single En Suites.","supplements":null}],"additional_fees":{"registration":"£95","accommodation_booking":"£50","bank_charges":"£12","professional_materials":"£28/4 weeks","work_placement":"£1000","materials_fee":"£7/week","insurance":"£8/week"}}],"terms":{"cancellation":"No specific cancellation terms observed in the image."},"repeat":false}
2025-02-05 20:17:13,730 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater College","locations":[{"city":"Liverpool","country":"GB","address":"42-46 Whitechapel, Liverpool L1 6DS","courses":[],"accommodations":[{"type":"Homestay 16+","price_per_week":"£175-£200","description":"Single room with shared bathroom, varying meal plans.","supplements":{"Summer":"£30/week","Christmas":"£50/week","Private Bathroom":"£45/week","Dietary":"£35/week","Under 18":"£20/week"}},{"type":"Residences 18+","price_per_week":"£165-£205","description":"Different options like Budget, Standard, and Premium Single En Suites.","supplements":null}],"additional_fees":{"registration":"£95","accommodation_booking":"£50","bank_charges":"£12","professional_materials":"£28/4 weeks","work_placement":"£1000","materials_fee":"£7/week","insurance":"£8/week"}}],"terms":{"cancellation":"No specific cancellation terms observed in the image."},"repeat":false}
2025-02-05 20:17:13,730 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater College","locations":[{"city":"Liverpool","country":"GB","address":"42-46 Whitechapel, Liverpool L1 6DS","courses":[],"accommodations":[{"type":"Homestay 16+","price_per_week":"£175-£200","description":"Single room with shared bathroom, varying meal plans.","supplements":{"Summer":"£30/week","Christmas":"£50/week","Private Bathroom":"£45/week","Dietary":"£35/week","Under 18":"£20/week"}},{"type":"Residences 18+","price_per_week":"£165-£205","description":"Different options like Budget, Standard, and Premium Single En Suites.","supplements":null}],"additional_fees":{"registration":"£95","accommodation_booking":"£50","bank_charges":"£12","professional_materials":"£28/4 weeks","work_placement":"£1000","materials_fee":"£7/week","insurance":"£8/week"}}],"terms":{"cancellation":"No specific cancellation terms observed in the image."},"repeat":false}
2025-02-05 20:17:13,730 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:13,730 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:13,730 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:13,733 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:17:13,733 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:17:13,733 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:17:13,734 - src.logger - INFO - Processing page 8/24
2025-02-05 20:17:13,734 - src.logger - INFO - Processing page 8/24
2025-02-05 20:17:13,734 - src.logger - INFO - Processing page 8/24
2025-02-05 20:17:13,864 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:13,864 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:13,864 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:13,871 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:13,871 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:13,871 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:13,881 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:13,881 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:13,881 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:13,883 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:13,883 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:13,883 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:13,884 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:13,884 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:13,884 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:13,887 - src.logger - DEBUG - Saved image to logs/image_1738768633.jpg
2025-02-05 20:17:13,887 - src.logger - DEBUG - Saved image to logs/image_1738768633.jpg
2025-02-05 20:17:13,887 - src.logger - DEBUG - Saved image to logs/image_1738768633.jpg
2025-02-05 20:17:24,893 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:24,893 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:24,893 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:24,893 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Brighton","country":"GB","address":"61 Western Rd, Hove BN3 1JD","courses":[{"name":"General English - Standard","lessons_per_week":20,"description":"Standard English lessons.","prices":[{"duration":"1 to 11 weeks","price":"£330","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£295","currency":"GBP"},{"duration":"24+ weeks","price":"£255","currency":"GBP"}],"requirements":"Minimum age 16"},{"name":"Cambridge Exam Preparation - Standard","lessons_per_week":20,"description":"Preparation for Cambridge exam.","prices":[{"duration":"4 weeks","price":"£1,200","currency":"GBP"},{"duration":"10 weeks","price":"£3,000","currency":"GBP"}],"requirements":"Level B2 (Baywater 8)"}],"accommodations":[{"type":"Homestay","price_per_week":"£200","description":"Single room, half-board","supplements":null}],"additional_fees":{"registration":"£50","books":"£30"}}],"terms":{"cancellation_policy":"7 days notice required."},"repeat":false}
2025-02-05 20:17:24,893 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Brighton","country":"GB","address":"61 Western Rd, Hove BN3 1JD","courses":[{"name":"General English - Standard","lessons_per_week":20,"description":"Standard English lessons.","prices":[{"duration":"1 to 11 weeks","price":"£330","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£295","currency":"GBP"},{"duration":"24+ weeks","price":"£255","currency":"GBP"}],"requirements":"Minimum age 16"},{"name":"Cambridge Exam Preparation - Standard","lessons_per_week":20,"description":"Preparation for Cambridge exam.","prices":[{"duration":"4 weeks","price":"£1,200","currency":"GBP"},{"duration":"10 weeks","price":"£3,000","currency":"GBP"}],"requirements":"Level B2 (Baywater 8)"}],"accommodations":[{"type":"Homestay","price_per_week":"£200","description":"Single room, half-board","supplements":null}],"additional_fees":{"registration":"£50","books":"£30"}}],"terms":{"cancellation_policy":"7 days notice required."},"repeat":false}
2025-02-05 20:17:24,893 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Brighton","country":"GB","address":"61 Western Rd, Hove BN3 1JD","courses":[{"name":"General English - Standard","lessons_per_week":20,"description":"Standard English lessons.","prices":[{"duration":"1 to 11 weeks","price":"£330","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£295","currency":"GBP"},{"duration":"24+ weeks","price":"£255","currency":"GBP"}],"requirements":"Minimum age 16"},{"name":"Cambridge Exam Preparation - Standard","lessons_per_week":20,"description":"Preparation for Cambridge exam.","prices":[{"duration":"4 weeks","price":"£1,200","currency":"GBP"},{"duration":"10 weeks","price":"£3,000","currency":"GBP"}],"requirements":"Level B2 (Baywater 8)"}],"accommodations":[{"type":"Homestay","price_per_week":"£200","description":"Single room, half-board","supplements":null}],"additional_fees":{"registration":"£50","books":"£30"}}],"terms":{"cancellation_policy":"7 days notice required."},"repeat":false}
2025-02-05 20:17:24,893 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:24,893 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:24,893 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:24,896 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:17:24,896 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:17:24,896 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:17:24,897 - src.logger - INFO - Processing page 9/24
2025-02-05 20:17:24,897 - src.logger - INFO - Processing page 9/24
2025-02-05 20:17:24,897 - src.logger - INFO - Processing page 9/24
2025-02-05 20:17:25,033 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:25,033 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:25,033 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:25,040 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:25,040 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:25,040 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:25,050 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:25,050 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:25,050 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:25,052 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:25,052 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:25,052 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:25,053 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:25,053 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:25,053 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:25,055 - src.logger - DEBUG - Saved image to logs/image_1738768645.jpg
2025-02-05 20:17:25,055 - src.logger - DEBUG - Saved image to logs/image_1738768645.jpg
2025-02-05 20:17:25,055 - src.logger - DEBUG - Saved image to logs/image_1738768645.jpg
2025-02-05 20:17:36,060 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:36,060 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:36,060 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:36,060 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Brighton Language School","locations":[{"city":"Brighton","country":"GB","address":"61 Western Rd, Hove BN3 1JD","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course for improving everyday language skills.","prices":[{"duration":"1-11 weeks","price":"£350","currency":"GBP"},{"duration":"12+ weeks","price":"£325","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"£165 (B&B), £210 (Half Board)","description":"Single room shared bathroom, bus transfer available.","supplements":{"Summer Supplement":"£30/week","Private Bathroom":"£80/week"}},{"type":"Residence","price_per_week":"£350 (1-11 weeks), £325 (12+ weeks)","description":"Single ensuite room, within walking distance.","supplements":{"Cleaning Supplement":"£22.50/week"}}],"additional_fees":{"registration":"£95","accommodation_booking_fee":"£50"}},{"city":"Brighton (Summer Accommodation)","country":"GB","address":"Brighton Summer Accommodation, Specific to course location","courses":[{"name":"Summer English Programme","lessons_per_week":20,"description":"English improvement course during summer seasons.","prices":[{"duration":"Summer only","price":"£350","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Residence","price_per_week":"£350 (1-11 weeks)","description":"Summer availability residence standard single ensuite.","supplements":null}],"additional_fees":{"material_fee":"£7"}}],"terms":{"cancellation":"14 days notice required prior to arrival date."},"repeat":false}
2025-02-05 20:17:36,060 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Brighton Language School","locations":[{"city":"Brighton","country":"GB","address":"61 Western Rd, Hove BN3 1JD","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course for improving everyday language skills.","prices":[{"duration":"1-11 weeks","price":"£350","currency":"GBP"},{"duration":"12+ weeks","price":"£325","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"£165 (B&B), £210 (Half Board)","description":"Single room shared bathroom, bus transfer available.","supplements":{"Summer Supplement":"£30/week","Private Bathroom":"£80/week"}},{"type":"Residence","price_per_week":"£350 (1-11 weeks), £325 (12+ weeks)","description":"Single ensuite room, within walking distance.","supplements":{"Cleaning Supplement":"£22.50/week"}}],"additional_fees":{"registration":"£95","accommodation_booking_fee":"£50"}},{"city":"Brighton (Summer Accommodation)","country":"GB","address":"Brighton Summer Accommodation, Specific to course location","courses":[{"name":"Summer English Programme","lessons_per_week":20,"description":"English improvement course during summer seasons.","prices":[{"duration":"Summer only","price":"£350","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Residence","price_per_week":"£350 (1-11 weeks)","description":"Summer availability residence standard single ensuite.","supplements":null}],"additional_fees":{"material_fee":"£7"}}],"terms":{"cancellation":"14 days notice required prior to arrival date."},"repeat":false}
2025-02-05 20:17:36,060 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Brighton Language School","locations":[{"city":"Brighton","country":"GB","address":"61 Western Rd, Hove BN3 1JD","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course for improving everyday language skills.","prices":[{"duration":"1-11 weeks","price":"£350","currency":"GBP"},{"duration":"12+ weeks","price":"£325","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"£165 (B&B), £210 (Half Board)","description":"Single room shared bathroom, bus transfer available.","supplements":{"Summer Supplement":"£30/week","Private Bathroom":"£80/week"}},{"type":"Residence","price_per_week":"£350 (1-11 weeks), £325 (12+ weeks)","description":"Single ensuite room, within walking distance.","supplements":{"Cleaning Supplement":"£22.50/week"}}],"additional_fees":{"registration":"£95","accommodation_booking_fee":"£50"}},{"city":"Brighton (Summer Accommodation)","country":"GB","address":"Brighton Summer Accommodation, Specific to course location","courses":[{"name":"Summer English Programme","lessons_per_week":20,"description":"English improvement course during summer seasons.","prices":[{"duration":"Summer only","price":"£350","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Residence","price_per_week":"£350 (1-11 weeks)","description":"Summer availability residence standard single ensuite.","supplements":null}],"additional_fees":{"material_fee":"£7"}}],"terms":{"cancellation":"14 days notice required prior to arrival date."},"repeat":false}
2025-02-05 20:17:36,060 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:36,060 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:36,060 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:36,062 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:17:36,062 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:17:36,062 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:17:36,064 - src.logger - INFO - Processing page 10/24
2025-02-05 20:17:36,064 - src.logger - INFO - Processing page 10/24
2025-02-05 20:17:36,064 - src.logger - INFO - Processing page 10/24
2025-02-05 20:17:36,148 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:36,148 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:36,148 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:36,155 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:36,155 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:36,155 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:36,168 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:36,168 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:36,168 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:36,169 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:36,169 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:36,169 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:36,171 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:36,171 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:36,171 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:36,173 - src.logger - DEBUG - Saved image to logs/image_1738768656.jpg
2025-02-05 20:17:36,173 - src.logger - DEBUG - Saved image to logs/image_1738768656.jpg
2025-02-05 20:17:36,173 - src.logger - DEBUG - Saved image to logs/image_1738768656.jpg
2025-02-05 20:17:48,954 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:48,954 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:48,954 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:48,954 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Bournemouth","locations":[{"city":"Bournemouth","country":"GB","address":"St Peters Quarter, Bournemouth BH1 2AD","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course with 20 lessons per week, starting every Monday.","prices":[{"duration":"1 to 11 weeks","price":"£275","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£250","currency":"GBP"},{"duration":"24+ weeks","price":"£230","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Intensive General English course with additional lessons.","prices":[{"duration":"1 to 11 weeks","price":"£305","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£275","currency":"GBP"},{"duration":"24+ weeks","price":"£250","currency":"GBP"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Super intensive English course for quicker progress.","prices":[{"duration":"1 to 11 weeks","price":"£345","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£330","currency":"GBP"},{"duration":"24+ weeks","price":"£295","currency":"GBP"}],"requirements":null},{"name":"Professional Course: International Business Management","lessons_per_week":0,"description":"A professional course focusing on international business management.","prices":[{"duration":"4 weeks","price":"£2,100","currency":"GBP"}],"requirements":"Minimum B1+"},{"name":"Professional Course: Customer Experience Management","lessons_per_week":0,"description":"A professional course focused on customer experience management.","prices":[{"duration":"4 weeks","price":"£2,100","currency":"GBP"}],"requirements":"Minimum B1+"}],"accommodations":[{"type":"Homestay","price_per_week":"£155-£200","description":"Single room with half board; availability on request.","supplements":null}],"additional_fees":{"registration_fee":"£85"}}],"terms":{"cancellation_policy":"Terms apply, inquire with the school for full details."},"repeat":false}
2025-02-05 20:17:48,954 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Bournemouth","locations":[{"city":"Bournemouth","country":"GB","address":"St Peters Quarter, Bournemouth BH1 2AD","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course with 20 lessons per week, starting every Monday.","prices":[{"duration":"1 to 11 weeks","price":"£275","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£250","currency":"GBP"},{"duration":"24+ weeks","price":"£230","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Intensive General English course with additional lessons.","prices":[{"duration":"1 to 11 weeks","price":"£305","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£275","currency":"GBP"},{"duration":"24+ weeks","price":"£250","currency":"GBP"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Super intensive English course for quicker progress.","prices":[{"duration":"1 to 11 weeks","price":"£345","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£330","currency":"GBP"},{"duration":"24+ weeks","price":"£295","currency":"GBP"}],"requirements":null},{"name":"Professional Course: International Business Management","lessons_per_week":0,"description":"A professional course focusing on international business management.","prices":[{"duration":"4 weeks","price":"£2,100","currency":"GBP"}],"requirements":"Minimum B1+"},{"name":"Professional Course: Customer Experience Management","lessons_per_week":0,"description":"A professional course focused on customer experience management.","prices":[{"duration":"4 weeks","price":"£2,100","currency":"GBP"}],"requirements":"Minimum B1+"}],"accommodations":[{"type":"Homestay","price_per_week":"£155-£200","description":"Single room with half board; availability on request.","supplements":null}],"additional_fees":{"registration_fee":"£85"}}],"terms":{"cancellation_policy":"Terms apply, inquire with the school for full details."},"repeat":false}
2025-02-05 20:17:48,954 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Bournemouth","locations":[{"city":"Bournemouth","country":"GB","address":"St Peters Quarter, Bournemouth BH1 2AD","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course with 20 lessons per week, starting every Monday.","prices":[{"duration":"1 to 11 weeks","price":"£275","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£250","currency":"GBP"},{"duration":"24+ weeks","price":"£230","currency":"GBP"}],"requirements":null},{"name":"Intensive General English","lessons_per_week":25,"description":"Intensive General English course with additional lessons.","prices":[{"duration":"1 to 11 weeks","price":"£305","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£275","currency":"GBP"},{"duration":"24+ weeks","price":"£250","currency":"GBP"}],"requirements":null},{"name":"Super Intensive General English","lessons_per_week":30,"description":"Super intensive English course for quicker progress.","prices":[{"duration":"1 to 11 weeks","price":"£345","currency":"GBP"},{"duration":"12 to 23 weeks","price":"£330","currency":"GBP"},{"duration":"24+ weeks","price":"£295","currency":"GBP"}],"requirements":null},{"name":"Professional Course: International Business Management","lessons_per_week":0,"description":"A professional course focusing on international business management.","prices":[{"duration":"4 weeks","price":"£2,100","currency":"GBP"}],"requirements":"Minimum B1+"},{"name":"Professional Course: Customer Experience Management","lessons_per_week":0,"description":"A professional course focused on customer experience management.","prices":[{"duration":"4 weeks","price":"£2,100","currency":"GBP"}],"requirements":"Minimum B1+"}],"accommodations":[{"type":"Homestay","price_per_week":"£155-£200","description":"Single room with half board; availability on request.","supplements":null}],"additional_fees":{"registration_fee":"£85"}}],"terms":{"cancellation_policy":"Terms apply, inquire with the school for full details."},"repeat":false}
2025-02-05 20:17:48,954 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:48,954 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:48,954 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:48,957 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:17:48,957 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:17:48,957 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:17:48,959 - src.logger - INFO - Processing page 11/24
2025-02-05 20:17:48,959 - src.logger - INFO - Processing page 11/24
2025-02-05 20:17:48,959 - src.logger - INFO - Processing page 11/24
2025-02-05 20:17:49,092 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:49,092 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:49,092 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:49,100 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:49,100 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:49,100 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:49,112 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:49,112 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:49,112 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:49,113 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:49,113 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:49,113 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:49,115 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:49,115 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:49,115 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:49,117 - src.logger - DEBUG - Saved image to logs/image_1738768669.jpg
2025-02-05 20:17:49,117 - src.logger - DEBUG - Saved image to logs/image_1738768669.jpg
2025-02-05 20:17:49,117 - src.logger - DEBUG - Saved image to logs/image_1738768669.jpg
2025-02-05 20:17:56,225 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:56,225 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:56,225 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:17:56,225 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Bournemouth Language School","locations":[{"city":"Bournemouth","country":"GB","address":"51-65 Holdenhurst Rd, Bournemouth BH8 8GN","courses":[],"accommodations":[{"type":"Homestay (Single, Shared Bathroom)","price_per_week":"£160-£190 (Bed & Breakfast/Half Board)","description":"Includes private rooms at local residences.","supplements":{"Special Supplements":"£25-£45/week (Special Diets, Private Bathrooms)"}},{"type":"Residences (Single Ensuire)","price_per_week":"£240-£275","description":"Room and breakfast accommodation in the residence","supplements":{"Summer Supplement":"£40/week for packed lunch"}}],"additional_fees":{"registration_fee":"£95","accommodation_booking_fee":"£50","transfer_fees":"£65-£290"}}],"terms":{"notice_period":"14 days required for cancellation"},"repeat":false}
2025-02-05 20:17:56,225 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Bournemouth Language School","locations":[{"city":"Bournemouth","country":"GB","address":"51-65 Holdenhurst Rd, Bournemouth BH8 8GN","courses":[],"accommodations":[{"type":"Homestay (Single, Shared Bathroom)","price_per_week":"£160-£190 (Bed & Breakfast/Half Board)","description":"Includes private rooms at local residences.","supplements":{"Special Supplements":"£25-£45/week (Special Diets, Private Bathrooms)"}},{"type":"Residences (Single Ensuire)","price_per_week":"£240-£275","description":"Room and breakfast accommodation in the residence","supplements":{"Summer Supplement":"£40/week for packed lunch"}}],"additional_fees":{"registration_fee":"£95","accommodation_booking_fee":"£50","transfer_fees":"£65-£290"}}],"terms":{"notice_period":"14 days required for cancellation"},"repeat":false}
2025-02-05 20:17:56,225 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Bournemouth Language School","locations":[{"city":"Bournemouth","country":"GB","address":"51-65 Holdenhurst Rd, Bournemouth BH8 8GN","courses":[],"accommodations":[{"type":"Homestay (Single, Shared Bathroom)","price_per_week":"£160-£190 (Bed & Breakfast/Half Board)","description":"Includes private rooms at local residences.","supplements":{"Special Supplements":"£25-£45/week (Special Diets, Private Bathrooms)"}},{"type":"Residences (Single Ensuire)","price_per_week":"£240-£275","description":"Room and breakfast accommodation in the residence","supplements":{"Summer Supplement":"£40/week for packed lunch"}}],"additional_fees":{"registration_fee":"£95","accommodation_booking_fee":"£50","transfer_fees":"£65-£290"}}],"terms":{"notice_period":"14 days required for cancellation"},"repeat":false}
2025-02-05 20:17:56,225 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:56,225 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:56,225 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:17:56,227 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:17:56,227 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:17:56,227 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:17:56,228 - src.logger - INFO - Processing page 12/24
2025-02-05 20:17:56,228 - src.logger - INFO - Processing page 12/24
2025-02-05 20:17:56,228 - src.logger - INFO - Processing page 12/24
2025-02-05 20:17:56,376 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:56,376 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:56,376 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:17:56,384 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:56,384 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:56,384 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:17:56,396 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:56,396 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:56,396 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:17:56,398 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:56,398 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:56,398 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:17:56,400 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:56,400 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:56,400 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:17:56,439 - src.logger - DEBUG - Saved image to logs/image_1738768676.jpg
2025-02-05 20:17:56,439 - src.logger - DEBUG - Saved image to logs/image_1738768676.jpg
2025-02-05 20:17:56,439 - src.logger - DEBUG - Saved image to logs/image_1738768676.jpg
2025-02-05 20:18:09,639 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:09,639 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:09,639 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:09,640 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater Vancouver",
    "locations": [
        {
            "city": "Vancouver",
            "country": "CA",
            "address": "549 Howe Street, 9th Floor, Vancouver, BC, Canada, V6C 2C2",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "General English course covering a variety of language skills.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "390", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "370", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "330", "currency": "USD"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Intensive language learning classes.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "440", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "425", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "390", "currency": "USD"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "A super intensive course for fast-paced learning.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "485", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "470", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "430", "currency": "USD"}
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Minimum 14 days notice required for cancellation."
    },
    "repeat": false
}
2025-02-05 20:18:09,640 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater Vancouver",
    "locations": [
        {
            "city": "Vancouver",
            "country": "CA",
            "address": "549 Howe Street, 9th Floor, Vancouver, BC, Canada, V6C 2C2",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "General English course covering a variety of language skills.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "390", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "370", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "330", "currency": "USD"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Intensive language learning classes.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "440", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "425", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "390", "currency": "USD"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "A super intensive course for fast-paced learning.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "485", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "470", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "430", "currency": "USD"}
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Minimum 14 days notice required for cancellation."
    },
    "repeat": false
}
2025-02-05 20:18:09,640 - src.logger - DEBUG - Raw API response content: {
    "name": "Bayswater Vancouver",
    "locations": [
        {
            "city": "Vancouver",
            "country": "CA",
            "address": "549 Howe Street, 9th Floor, Vancouver, BC, Canada, V6C 2C2",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "General English course covering a variety of language skills.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "390", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "370", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "330", "currency": "USD"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive General English",
                    "lessons_per_week": 25,
                    "description": "Intensive language learning classes.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "440", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "425", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "390", "currency": "USD"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Super Intensive General English",
                    "lessons_per_week": 30,
                    "description": "A super intensive course for fast-paced learning.",
                    "prices": [
                        {"duration": "1 to 11 weeks", "price": "485", "currency": "USD"},
                        {"duration": "12 to 23 weeks", "price": "470", "currency": "USD"},
                        {"duration": "24+ weeks", "price": "430", "currency": "USD"}
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Minimum 14 days notice required for cancellation."
    },
    "repeat": false
}
2025-02-05 20:18:09,640 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:09,640 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:09,640 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:09,642 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:18:09,642 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:18:09,642 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:18:09,644 - src.logger - INFO - Processing page 13/24
2025-02-05 20:18:09,644 - src.logger - INFO - Processing page 13/24
2025-02-05 20:18:09,644 - src.logger - INFO - Processing page 13/24
2025-02-05 20:18:09,777 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:09,777 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:09,777 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:09,784 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:09,784 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:09,784 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:09,794 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:09,794 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:09,794 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:09,795 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:09,795 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:09,795 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:09,797 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:09,797 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:09,797 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:09,798 - src.logger - DEBUG - Saved image to logs/image_1738768689.jpg
2025-02-05 20:18:09,798 - src.logger - DEBUG - Saved image to logs/image_1738768689.jpg
2025-02-05 20:18:09,798 - src.logger - DEBUG - Saved image to logs/image_1738768689.jpg
2025-02-05 20:18:21,115 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:21,115 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:21,115 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:21,115 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Vancouver","country":"CA","address":"549 Howe Street, 9th Floor, Vancouver, British Columbia, V6C 2C2","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$330","description":"Single Room, Shared Bathroom, Off site, Half Board or Full Board options","supplements":{"Summer Supplement (Jun 01-Aug 30)": "+$50/week","Dietary Supplement": "+$30/week","Minor Fee for under 19s": "+$60/week"}},{"type":"Residence","price_per_week":"$330-$550","description":"Shared/Private Bathroom, Twin/Single Room, Self-catering.","supplements":{"Security Deposit Standard Room (Refundable)": "$330","Security Deposit Premium Room (Refundable)": "$400","Amenities Fee Standard Room (Non-refundable)": "$84","Amenities Fee Premium Room (Non-refundable)": "$210"}},{"type":"Airport Transfer","price_per_week":"$175","description":"Airport pickup any time (Vancouver International)","supplements":null}],"additional_fees":{"registration":"$190","diploma_registration_fee":"$175","accommodation_booking_fee":"$275","bank_charges":"$35","exam_fees":"$365","work_placement_programme_fee":"$1500","professional_course_material_fee":"$40","insurance":"$25/week","materials_fee":"$10/week"}}],"terms":{"cancellation":"Conditions apply"},"repeat":false}
2025-02-05 20:18:21,115 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Vancouver","country":"CA","address":"549 Howe Street, 9th Floor, Vancouver, British Columbia, V6C 2C2","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$330","description":"Single Room, Shared Bathroom, Off site, Half Board or Full Board options","supplements":{"Summer Supplement (Jun 01-Aug 30)": "+$50/week","Dietary Supplement": "+$30/week","Minor Fee for under 19s": "+$60/week"}},{"type":"Residence","price_per_week":"$330-$550","description":"Shared/Private Bathroom, Twin/Single Room, Self-catering.","supplements":{"Security Deposit Standard Room (Refundable)": "$330","Security Deposit Premium Room (Refundable)": "$400","Amenities Fee Standard Room (Non-refundable)": "$84","Amenities Fee Premium Room (Non-refundable)": "$210"}},{"type":"Airport Transfer","price_per_week":"$175","description":"Airport pickup any time (Vancouver International)","supplements":null}],"additional_fees":{"registration":"$190","diploma_registration_fee":"$175","accommodation_booking_fee":"$275","bank_charges":"$35","exam_fees":"$365","work_placement_programme_fee":"$1500","professional_course_material_fee":"$40","insurance":"$25/week","materials_fee":"$10/week"}}],"terms":{"cancellation":"Conditions apply"},"repeat":false}
2025-02-05 20:18:21,115 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Vancouver","country":"CA","address":"549 Howe Street, 9th Floor, Vancouver, British Columbia, V6C 2C2","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$330","description":"Single Room, Shared Bathroom, Off site, Half Board or Full Board options","supplements":{"Summer Supplement (Jun 01-Aug 30)": "+$50/week","Dietary Supplement": "+$30/week","Minor Fee for under 19s": "+$60/week"}},{"type":"Residence","price_per_week":"$330-$550","description":"Shared/Private Bathroom, Twin/Single Room, Self-catering.","supplements":{"Security Deposit Standard Room (Refundable)": "$330","Security Deposit Premium Room (Refundable)": "$400","Amenities Fee Standard Room (Non-refundable)": "$84","Amenities Fee Premium Room (Non-refundable)": "$210"}},{"type":"Airport Transfer","price_per_week":"$175","description":"Airport pickup any time (Vancouver International)","supplements":null}],"additional_fees":{"registration":"$190","diploma_registration_fee":"$175","accommodation_booking_fee":"$275","bank_charges":"$35","exam_fees":"$365","work_placement_programme_fee":"$1500","professional_course_material_fee":"$40","insurance":"$25/week","materials_fee":"$10/week"}}],"terms":{"cancellation":"Conditions apply"},"repeat":false}
2025-02-05 20:18:21,115 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:21,115 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:21,115 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:21,117 - src.logger - INFO - Successfully processed page 13
2025-02-05 20:18:21,117 - src.logger - INFO - Successfully processed page 13
2025-02-05 20:18:21,117 - src.logger - INFO - Successfully processed page 13
2025-02-05 20:18:21,119 - src.logger - INFO - Processing page 14/24
2025-02-05 20:18:21,119 - src.logger - INFO - Processing page 14/24
2025-02-05 20:18:21,119 - src.logger - INFO - Processing page 14/24
2025-02-05 20:18:21,229 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:21,229 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:21,229 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:21,237 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:21,237 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:21,237 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:21,247 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:21,247 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:21,247 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:21,249 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:21,249 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:21,249 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:21,250 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:21,250 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:21,250 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:21,251 - src.logger - DEBUG - Saved image to logs/image_1738768701.jpg
2025-02-05 20:18:21,251 - src.logger - DEBUG - Saved image to logs/image_1738768701.jpg
2025-02-05 20:18:21,251 - src.logger - DEBUG - Saved image to logs/image_1738768701.jpg
2025-02-05 20:18:46,731 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:46,731 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:46,731 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:46,731 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater - Toronto","locations":[{"city":"Toronto","country":"CA","address":"5 Park Home Ave, 6th floor, North York, Toronto ON M2N 6L4","courses":[{"name":"General English: Standard","lessons_per_week":20,"description":"Standard general English course.","prices":[{"duration":"1 to 11 weeks","price":"$390","currency":"USD"},{"duration":"12 to 23 weeks","price":"$370","currency":"USD"},{"duration":"24+ weeks","price":"$330","currency":"USD"}],"requirements":null},{"name":"General English: Intensive","lessons_per_week":25,"description":"Intensive general English course.","prices":[{"duration":"1 to 11 weeks","price":"$440","currency":"USD"},{"duration":"12 to 23 weeks","price":"$425","currency":"USD"},{"duration":"24+ weeks","price":"$390","currency":"USD"}],"requirements":null},{"name":"General English: Super Intensive","lessons_per_week":30,"description":"Super intensive general English course.","prices":[{"duration":"1 to 11 weeks","price":"$485","currency":"USD"},{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"University Pathway Program","lessons_per_week":30,"description":"Preparation program for university admission.","prices":[{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"Cambridge Exam Intensive","lessons_per_week":25,"description":"Preparation for Cambridge exams FCE/CAE.","prices":[{"duration":"8 weeks","price":"$3,520","currency":"USD"},{"duration":"11 weeks","price":"$4,840","currency":"USD"},{"duration":"12 weeks","price":"$5,100","currency":"USD"}],"requirements":"Minimum level for FIRST: B2 (Bayswater), and Advanced level: C1 (Bayswater)."},{"name":"Cambridge Exam Super Intensive","lessons_per_week":30,"description":"Super intensive preparation for Cambridge exams FCE/CAE.","prices":[{"duration":"8 weeks","price":"$3,880","currency":"USD"},{"duration":"11 weeks","price":"$5,335","currency":"USD"},{"duration":"12 weeks","price":"$5,640","currency":"USD"}],"requirements":"Minimum level for FIRST: B2 (Bayswater), and Advanced level: C1 (Bayswater)."},{"name":"Professional - International Business Management","lessons_per_week":0,"description":"Specialized course on business management.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"},{"name":"Professional - Digital Marketing","lessons_per_week":0,"description":"Specialized course on digital marketing.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"},{"name":"Professional - Project Management","lessons_per_week":0,"description":"Specialized course on project management.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"}],"accommodations":[],"additional_fees":{}},{"city":"Toronto - Summer Camp","country":"CA","address":"Bayswater Toronto Summer Camp offered.","courses":[{"name":"Young Learners","lessons_per_week":20,"description":"Course for learners aged 12+.","prices":[{"duration":"1+ weeks","price":"$390","currency":"USD"}],"requirements":"Must be 12 years or older."},{"name":"Parent & Child","lessons_per_week":20,"description":"Course for parents and their children aged 12+.","prices":[{"duration":"1+ weeks","price":"$740","currency":"USD"}],"requirements":"Parents study along with their children."}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Courses are subject to change. Contact the schools for more details."},"repeat":false}
2025-02-05 20:18:46,731 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater - Toronto","locations":[{"city":"Toronto","country":"CA","address":"5 Park Home Ave, 6th floor, North York, Toronto ON M2N 6L4","courses":[{"name":"General English: Standard","lessons_per_week":20,"description":"Standard general English course.","prices":[{"duration":"1 to 11 weeks","price":"$390","currency":"USD"},{"duration":"12 to 23 weeks","price":"$370","currency":"USD"},{"duration":"24+ weeks","price":"$330","currency":"USD"}],"requirements":null},{"name":"General English: Intensive","lessons_per_week":25,"description":"Intensive general English course.","prices":[{"duration":"1 to 11 weeks","price":"$440","currency":"USD"},{"duration":"12 to 23 weeks","price":"$425","currency":"USD"},{"duration":"24+ weeks","price":"$390","currency":"USD"}],"requirements":null},{"name":"General English: Super Intensive","lessons_per_week":30,"description":"Super intensive general English course.","prices":[{"duration":"1 to 11 weeks","price":"$485","currency":"USD"},{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"University Pathway Program","lessons_per_week":30,"description":"Preparation program for university admission.","prices":[{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"Cambridge Exam Intensive","lessons_per_week":25,"description":"Preparation for Cambridge exams FCE/CAE.","prices":[{"duration":"8 weeks","price":"$3,520","currency":"USD"},{"duration":"11 weeks","price":"$4,840","currency":"USD"},{"duration":"12 weeks","price":"$5,100","currency":"USD"}],"requirements":"Minimum level for FIRST: B2 (Bayswater), and Advanced level: C1 (Bayswater)."},{"name":"Cambridge Exam Super Intensive","lessons_per_week":30,"description":"Super intensive preparation for Cambridge exams FCE/CAE.","prices":[{"duration":"8 weeks","price":"$3,880","currency":"USD"},{"duration":"11 weeks","price":"$5,335","currency":"USD"},{"duration":"12 weeks","price":"$5,640","currency":"USD"}],"requirements":"Minimum level for FIRST: B2 (Bayswater), and Advanced level: C1 (Bayswater)."},{"name":"Professional - International Business Management","lessons_per_week":0,"description":"Specialized course on business management.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"},{"name":"Professional - Digital Marketing","lessons_per_week":0,"description":"Specialized course on digital marketing.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"},{"name":"Professional - Project Management","lessons_per_week":0,"description":"Specialized course on project management.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"}],"accommodations":[],"additional_fees":{}},{"city":"Toronto - Summer Camp","country":"CA","address":"Bayswater Toronto Summer Camp offered.","courses":[{"name":"Young Learners","lessons_per_week":20,"description":"Course for learners aged 12+.","prices":[{"duration":"1+ weeks","price":"$390","currency":"USD"}],"requirements":"Must be 12 years or older."},{"name":"Parent & Child","lessons_per_week":20,"description":"Course for parents and their children aged 12+.","prices":[{"duration":"1+ weeks","price":"$740","currency":"USD"}],"requirements":"Parents study along with their children."}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Courses are subject to change. Contact the schools for more details."},"repeat":false}
2025-02-05 20:18:46,731 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater - Toronto","locations":[{"city":"Toronto","country":"CA","address":"5 Park Home Ave, 6th floor, North York, Toronto ON M2N 6L4","courses":[{"name":"General English: Standard","lessons_per_week":20,"description":"Standard general English course.","prices":[{"duration":"1 to 11 weeks","price":"$390","currency":"USD"},{"duration":"12 to 23 weeks","price":"$370","currency":"USD"},{"duration":"24+ weeks","price":"$330","currency":"USD"}],"requirements":null},{"name":"General English: Intensive","lessons_per_week":25,"description":"Intensive general English course.","prices":[{"duration":"1 to 11 weeks","price":"$440","currency":"USD"},{"duration":"12 to 23 weeks","price":"$425","currency":"USD"},{"duration":"24+ weeks","price":"$390","currency":"USD"}],"requirements":null},{"name":"General English: Super Intensive","lessons_per_week":30,"description":"Super intensive general English course.","prices":[{"duration":"1 to 11 weeks","price":"$485","currency":"USD"},{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"University Pathway Program","lessons_per_week":30,"description":"Preparation program for university admission.","prices":[{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"Cambridge Exam Intensive","lessons_per_week":25,"description":"Preparation for Cambridge exams FCE/CAE.","prices":[{"duration":"8 weeks","price":"$3,520","currency":"USD"},{"duration":"11 weeks","price":"$4,840","currency":"USD"},{"duration":"12 weeks","price":"$5,100","currency":"USD"}],"requirements":"Minimum level for FIRST: B2 (Bayswater), and Advanced level: C1 (Bayswater)."},{"name":"Cambridge Exam Super Intensive","lessons_per_week":30,"description":"Super intensive preparation for Cambridge exams FCE/CAE.","prices":[{"duration":"8 weeks","price":"$3,880","currency":"USD"},{"duration":"11 weeks","price":"$5,335","currency":"USD"},{"duration":"12 weeks","price":"$5,640","currency":"USD"}],"requirements":"Minimum level for FIRST: B2 (Bayswater), and Advanced level: C1 (Bayswater)."},{"name":"Professional - International Business Management","lessons_per_week":0,"description":"Specialized course on business management.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"},{"name":"Professional - Digital Marketing","lessons_per_week":0,"description":"Specialized course on digital marketing.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"},{"name":"Professional - Project Management","lessons_per_week":0,"description":"Specialized course on project management.","prices":[{"duration":"4 weeks","price":"$2,360","currency":"USD"}],"requirements":"Level 5 (Bayswater) and B1+"}],"accommodations":[],"additional_fees":{}},{"city":"Toronto - Summer Camp","country":"CA","address":"Bayswater Toronto Summer Camp offered.","courses":[{"name":"Young Learners","lessons_per_week":20,"description":"Course for learners aged 12+.","prices":[{"duration":"1+ weeks","price":"$390","currency":"USD"}],"requirements":"Must be 12 years or older."},{"name":"Parent & Child","lessons_per_week":20,"description":"Course for parents and their children aged 12+.","prices":[{"duration":"1+ weeks","price":"$740","currency":"USD"}],"requirements":"Parents study along with their children."}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Courses are subject to change. Contact the schools for more details."},"repeat":false}
2025-02-05 20:18:46,731 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:46,731 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:46,731 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:46,734 - src.logger - INFO - Successfully processed page 14
2025-02-05 20:18:46,734 - src.logger - INFO - Successfully processed page 14
2025-02-05 20:18:46,734 - src.logger - INFO - Successfully processed page 14
2025-02-05 20:18:46,735 - src.logger - INFO - Processing page 15/24
2025-02-05 20:18:46,735 - src.logger - INFO - Processing page 15/24
2025-02-05 20:18:46,735 - src.logger - INFO - Processing page 15/24
2025-02-05 20:18:46,832 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:46,832 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:46,832 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:46,839 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:46,839 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:46,839 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:46,849 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:46,849 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:46,849 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:46,850 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:46,850 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:46,850 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:46,852 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:46,852 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:46,852 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:46,853 - src.logger - DEBUG - Saved image to logs/image_1738768726.jpg
2025-02-05 20:18:46,853 - src.logger - DEBUG - Saved image to logs/image_1738768726.jpg
2025-02-05 20:18:46,853 - src.logger - DEBUG - Saved image to logs/image_1738768726.jpg
2025-02-05 20:18:57,769 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:57,769 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:57,769 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:18:57,769 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Toronto","country":"CA","address":"5 Park Home Avenue, 6th floor, Toronto, ON M2N 6L4","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$320","description":"Single Room, Shared Bathroom, Full Board","supplements":{"Summer":"$50/week","Minor Fee":"$60/week"}},{"type":"Residences","price_per_week":"$600","description":"Standard Single Room, Private Bathroom","supplements":{"Summer Bedding Fee":"$150"}}],"additional_fees":{"registration":"$190","accommodation_booking_fee":"$275","exam_fee_Cambridge":"$450","exam_fee_IELTS":"$400"}}],"terms":null,"repeat":null}
2025-02-05 20:18:57,769 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Toronto","country":"CA","address":"5 Park Home Avenue, 6th floor, Toronto, ON M2N 6L4","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$320","description":"Single Room, Shared Bathroom, Full Board","supplements":{"Summer":"$50/week","Minor Fee":"$60/week"}},{"type":"Residences","price_per_week":"$600","description":"Standard Single Room, Private Bathroom","supplements":{"Summer Bedding Fee":"$150"}}],"additional_fees":{"registration":"$190","accommodation_booking_fee":"$275","exam_fee_Cambridge":"$450","exam_fee_IELTS":"$400"}}],"terms":null,"repeat":null}
2025-02-05 20:18:57,769 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Toronto","country":"CA","address":"5 Park Home Avenue, 6th floor, Toronto, ON M2N 6L4","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"$320","description":"Single Room, Shared Bathroom, Full Board","supplements":{"Summer":"$50/week","Minor Fee":"$60/week"}},{"type":"Residences","price_per_week":"$600","description":"Standard Single Room, Private Bathroom","supplements":{"Summer Bedding Fee":"$150"}}],"additional_fees":{"registration":"$190","accommodation_booking_fee":"$275","exam_fee_Cambridge":"$450","exam_fee_IELTS":"$400"}}],"terms":null,"repeat":null}
2025-02-05 20:18:57,770 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:57,770 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:57,770 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:18:57,772 - src.logger - INFO - Successfully processed page 15
2025-02-05 20:18:57,772 - src.logger - INFO - Successfully processed page 15
2025-02-05 20:18:57,772 - src.logger - INFO - Successfully processed page 15
2025-02-05 20:18:57,774 - src.logger - INFO - Processing page 16/24
2025-02-05 20:18:57,774 - src.logger - INFO - Processing page 16/24
2025-02-05 20:18:57,774 - src.logger - INFO - Processing page 16/24
2025-02-05 20:18:57,846 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:57,846 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:57,846 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:18:57,854 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:57,854 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:57,854 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:18:57,864 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:57,864 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:57,864 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:18:57,866 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:57,866 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:57,866 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:18:57,867 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:57,867 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:57,867 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:18:57,869 - src.logger - DEBUG - Saved image to logs/image_1738768737.jpg
2025-02-05 20:18:57,869 - src.logger - DEBUG - Saved image to logs/image_1738768737.jpg
2025-02-05 20:18:57,869 - src.logger - DEBUG - Saved image to logs/image_1738768737.jpg
2025-02-05 20:19:09,851 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:09,851 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:09,851 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:09,851 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Calgary","country":"CA","address":"#100, 840 6 Ave SW, Calgary, AB T2P 3E5, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course with 15 hours per week focusing on standard lessons.","prices":[{"duration":"1 to 11 weeks","price":"$390","currency":"USD"},{"duration":"12 to 23 weeks","price":"$370","currency":"USD"},{"duration":"24+ weeks","price":"$330","currency":"USD"}],"requirements":null},{"name":"Intensive","lessons_per_week":25,"description":"General English with additional lessons adding up to 18.75 hours per week.","prices":[{"duration":"1 to 11 weeks","price":"$440","currency":"USD"},{"duration":"12 to 23 weeks","price":"$425","currency":"USD"},{"duration":"24+ weeks","price":"$390","currency":"USD"}],"requirements":null},{"name":"Super Intensive","lessons_per_week":30,"description":"General English encompassing a full workload of 22.5 hours per week.","prices":[{"duration":"1 to 11 weeks","price":"$485","currency":"USD"},{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"University Preparation - Pathway Program","lessons_per_week":30,"description":"Specialized program preparing students for university-level preparation.","prices":[{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Course schedules are subject to change and availability.","minimum_age":"Minimum age: 16.","minimum_stay":"Minimum stay: 1 week.","start_dates":"Courses start every Monday.","capacity":"Class size: Max 15, Average 12."},"repeat":false}
2025-02-05 20:19:09,851 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Calgary","country":"CA","address":"#100, 840 6 Ave SW, Calgary, AB T2P 3E5, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course with 15 hours per week focusing on standard lessons.","prices":[{"duration":"1 to 11 weeks","price":"$390","currency":"USD"},{"duration":"12 to 23 weeks","price":"$370","currency":"USD"},{"duration":"24+ weeks","price":"$330","currency":"USD"}],"requirements":null},{"name":"Intensive","lessons_per_week":25,"description":"General English with additional lessons adding up to 18.75 hours per week.","prices":[{"duration":"1 to 11 weeks","price":"$440","currency":"USD"},{"duration":"12 to 23 weeks","price":"$425","currency":"USD"},{"duration":"24+ weeks","price":"$390","currency":"USD"}],"requirements":null},{"name":"Super Intensive","lessons_per_week":30,"description":"General English encompassing a full workload of 22.5 hours per week.","prices":[{"duration":"1 to 11 weeks","price":"$485","currency":"USD"},{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"University Preparation - Pathway Program","lessons_per_week":30,"description":"Specialized program preparing students for university-level preparation.","prices":[{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Course schedules are subject to change and availability.","minimum_age":"Minimum age: 16.","minimum_stay":"Minimum stay: 1 week.","start_dates":"Courses start every Monday.","capacity":"Class size: Max 15, Average 12."},"repeat":false}
2025-02-05 20:19:09,851 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Calgary","country":"CA","address":"#100, 840 6 Ave SW, Calgary, AB T2P 3E5, Canada","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course with 15 hours per week focusing on standard lessons.","prices":[{"duration":"1 to 11 weeks","price":"$390","currency":"USD"},{"duration":"12 to 23 weeks","price":"$370","currency":"USD"},{"duration":"24+ weeks","price":"$330","currency":"USD"}],"requirements":null},{"name":"Intensive","lessons_per_week":25,"description":"General English with additional lessons adding up to 18.75 hours per week.","prices":[{"duration":"1 to 11 weeks","price":"$440","currency":"USD"},{"duration":"12 to 23 weeks","price":"$425","currency":"USD"},{"duration":"24+ weeks","price":"$390","currency":"USD"}],"requirements":null},{"name":"Super Intensive","lessons_per_week":30,"description":"General English encompassing a full workload of 22.5 hours per week.","prices":[{"duration":"1 to 11 weeks","price":"$485","currency":"USD"},{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null},{"name":"University Preparation - Pathway Program","lessons_per_week":30,"description":"Specialized program preparing students for university-level preparation.","prices":[{"duration":"12 to 23 weeks","price":"$470","currency":"USD"},{"duration":"24+ weeks","price":"$430","currency":"USD"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Course schedules are subject to change and availability.","minimum_age":"Minimum age: 16.","minimum_stay":"Minimum stay: 1 week.","start_dates":"Courses start every Monday.","capacity":"Class size: Max 15, Average 12."},"repeat":false}
2025-02-05 20:19:09,852 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:09,852 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:09,852 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:09,854 - src.logger - INFO - Successfully processed page 16
2025-02-05 20:19:09,854 - src.logger - INFO - Successfully processed page 16
2025-02-05 20:19:09,854 - src.logger - INFO - Successfully processed page 16
2025-02-05 20:19:09,855 - src.logger - INFO - Processing page 17/24
2025-02-05 20:19:09,855 - src.logger - INFO - Processing page 17/24
2025-02-05 20:19:09,855 - src.logger - INFO - Processing page 17/24
2025-02-05 20:19:09,984 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:09,984 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:09,984 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:09,991 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:09,991 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:09,991 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:10,001 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:10,001 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:10,001 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:10,003 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:10,003 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:10,003 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:10,004 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:10,004 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:10,004 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:10,006 - src.logger - DEBUG - Saved image to logs/image_1738768750.jpg
2025-02-05 20:19:10,006 - src.logger - DEBUG - Saved image to logs/image_1738768750.jpg
2025-02-05 20:19:10,006 - src.logger - DEBUG - Saved image to logs/image_1738768750.jpg
2025-02-05 20:19:21,638 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:21,638 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:21,638 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:21,638 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Calgary","locations":[{"city":"Calgary","country":"CA","address":"#100, 840 6 Ave SW, Calgary, AB T2P 3E5, Canada","courses":[],"accommodations":[{"type":"Homestay Age 16+","price_per_week":"$325 Full Board / $300 Half Board","description":"Single Room, Shared Bathroom","supplements":{"Summer":"$50/week (01 Jun - 30 Aug)","Minor Fee (Students under 18 years old)":"$60 per week","Dietary Supplement":"$70 per week"}},{"type":"Student Residences Age 18+","price_per_week":"$330 (2-11 weeks stays)/$300 (12+ weeks stays)","description":"Standard Single Room with Shared Bathroom","supplements":{"Refundable Security Deposit":"$200","Laundry Card":"$2 per load"}}],"additional_fees":{"Registration Fee":"$190","Accommodation Booking Fee":"$225","Bank Charges":"$35","IELTS Exam Fee":"$365","Custodianship":"$150","Professional Courses Materials Fee":"$40","Work Placement Programme Fee":"$1500","Weekly Fees":". Materials: $10, Insurance: $25"}}],"terms":null,"repeat":false}
2025-02-05 20:19:21,638 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Calgary","locations":[{"city":"Calgary","country":"CA","address":"#100, 840 6 Ave SW, Calgary, AB T2P 3E5, Canada","courses":[],"accommodations":[{"type":"Homestay Age 16+","price_per_week":"$325 Full Board / $300 Half Board","description":"Single Room, Shared Bathroom","supplements":{"Summer":"$50/week (01 Jun - 30 Aug)","Minor Fee (Students under 18 years old)":"$60 per week","Dietary Supplement":"$70 per week"}},{"type":"Student Residences Age 18+","price_per_week":"$330 (2-11 weeks stays)/$300 (12+ weeks stays)","description":"Standard Single Room with Shared Bathroom","supplements":{"Refundable Security Deposit":"$200","Laundry Card":"$2 per load"}}],"additional_fees":{"Registration Fee":"$190","Accommodation Booking Fee":"$225","Bank Charges":"$35","IELTS Exam Fee":"$365","Custodianship":"$150","Professional Courses Materials Fee":"$40","Work Placement Programme Fee":"$1500","Weekly Fees":". Materials: $10, Insurance: $25"}}],"terms":null,"repeat":false}
2025-02-05 20:19:21,638 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Calgary","locations":[{"city":"Calgary","country":"CA","address":"#100, 840 6 Ave SW, Calgary, AB T2P 3E5, Canada","courses":[],"accommodations":[{"type":"Homestay Age 16+","price_per_week":"$325 Full Board / $300 Half Board","description":"Single Room, Shared Bathroom","supplements":{"Summer":"$50/week (01 Jun - 30 Aug)","Minor Fee (Students under 18 years old)":"$60 per week","Dietary Supplement":"$70 per week"}},{"type":"Student Residences Age 18+","price_per_week":"$330 (2-11 weeks stays)/$300 (12+ weeks stays)","description":"Standard Single Room with Shared Bathroom","supplements":{"Refundable Security Deposit":"$200","Laundry Card":"$2 per load"}}],"additional_fees":{"Registration Fee":"$190","Accommodation Booking Fee":"$225","Bank Charges":"$35","IELTS Exam Fee":"$365","Custodianship":"$150","Professional Courses Materials Fee":"$40","Work Placement Programme Fee":"$1500","Weekly Fees":". Materials: $10, Insurance: $25"}}],"terms":null,"repeat":false}
2025-02-05 20:19:21,639 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:21,639 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:21,639 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:21,641 - src.logger - INFO - Successfully processed page 17
2025-02-05 20:19:21,641 - src.logger - INFO - Successfully processed page 17
2025-02-05 20:19:21,641 - src.logger - INFO - Successfully processed page 17
2025-02-05 20:19:21,642 - src.logger - INFO - Processing page 18/24
2025-02-05 20:19:21,642 - src.logger - INFO - Processing page 18/24
2025-02-05 20:19:21,642 - src.logger - INFO - Processing page 18/24
2025-02-05 20:19:21,748 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:21,748 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:21,748 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:21,756 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:21,756 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:21,756 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:21,765 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:21,765 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:21,765 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:21,766 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:21,766 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:21,766 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:21,767 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:21,767 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:21,767 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:21,770 - src.logger - DEBUG - Saved image to logs/image_1738768761.jpg
2025-02-05 20:19:21,770 - src.logger - DEBUG - Saved image to logs/image_1738768761.jpg
2025-02-05 20:19:21,770 - src.logger - DEBUG - Saved image to logs/image_1738768761.jpg
2025-02-05 20:19:36,785 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:36,785 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:36,785 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:36,785 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Paris","country":"FR","address":"13 Passage Dauphine, 75006 Paris, France","courses":[{"name":"Standard General French","lessons_per_week":20,"description":"General French course with 20 lessons per week.","prices":[{"duration":"1 to 11 weeks","price":"€350","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€310","currency":"EUR"},{"duration":"24+ weeks","price":"€260","currency":"EUR"}],"requirements":null},{"name":"Intensive General French","lessons_per_week":25,"description":"Intensive General French course with 25 lessons per week.","prices":[{"duration":"1 to 11 weeks","price":"€399","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€360","currency":"EUR"},{"duration":"24+ weeks","price":"€310","currency":"EUR"}],"requirements":null},{"name":"French Plus Add-ons (One-to-One Lessons)","lessons_per_week":5,"description":"Additional one-to-one lessons to complement your course.","prices":[{"duration":"Custom Packages","price":"€375","currency":"EUR"}],"requirements":null},{"name":"Family Options - Young Learner (age 10+)","lessons_per_week":0,"description":"For young learners aged 10+.","prices":[{"duration":"1+ weeks","price":"€350","currency":"EUR"}],"requirements":null},{"name":"Family Options - Parent & Child (age 10+)","lessons_per_week":0,"description":"For parents and children aged 10+","prices":[{"duration":"1+ weeks","price":"€620","currency":"EUR"}],"requirements":null},{"name":"DELF/DALF Exam Preparation","lessons_per_week":25,"description":"Exam preparation module for DELF/DALF.","prices":[{"duration":"2 to 4 weeks","price":"€399","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"€85"}}],"terms":{"cancellation":"Subject to specific conditions. Contact school for details."},"repeat":false}
2025-02-05 20:19:36,785 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Paris","country":"FR","address":"13 Passage Dauphine, 75006 Paris, France","courses":[{"name":"Standard General French","lessons_per_week":20,"description":"General French course with 20 lessons per week.","prices":[{"duration":"1 to 11 weeks","price":"€350","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€310","currency":"EUR"},{"duration":"24+ weeks","price":"€260","currency":"EUR"}],"requirements":null},{"name":"Intensive General French","lessons_per_week":25,"description":"Intensive General French course with 25 lessons per week.","prices":[{"duration":"1 to 11 weeks","price":"€399","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€360","currency":"EUR"},{"duration":"24+ weeks","price":"€310","currency":"EUR"}],"requirements":null},{"name":"French Plus Add-ons (One-to-One Lessons)","lessons_per_week":5,"description":"Additional one-to-one lessons to complement your course.","prices":[{"duration":"Custom Packages","price":"€375","currency":"EUR"}],"requirements":null},{"name":"Family Options - Young Learner (age 10+)","lessons_per_week":0,"description":"For young learners aged 10+.","prices":[{"duration":"1+ weeks","price":"€350","currency":"EUR"}],"requirements":null},{"name":"Family Options - Parent & Child (age 10+)","lessons_per_week":0,"description":"For parents and children aged 10+","prices":[{"duration":"1+ weeks","price":"€620","currency":"EUR"}],"requirements":null},{"name":"DELF/DALF Exam Preparation","lessons_per_week":25,"description":"Exam preparation module for DELF/DALF.","prices":[{"duration":"2 to 4 weeks","price":"€399","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"€85"}}],"terms":{"cancellation":"Subject to specific conditions. Contact school for details."},"repeat":false}
2025-02-05 20:19:36,785 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Paris","country":"FR","address":"13 Passage Dauphine, 75006 Paris, France","courses":[{"name":"Standard General French","lessons_per_week":20,"description":"General French course with 20 lessons per week.","prices":[{"duration":"1 to 11 weeks","price":"€350","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€310","currency":"EUR"},{"duration":"24+ weeks","price":"€260","currency":"EUR"}],"requirements":null},{"name":"Intensive General French","lessons_per_week":25,"description":"Intensive General French course with 25 lessons per week.","prices":[{"duration":"1 to 11 weeks","price":"€399","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€360","currency":"EUR"},{"duration":"24+ weeks","price":"€310","currency":"EUR"}],"requirements":null},{"name":"French Plus Add-ons (One-to-One Lessons)","lessons_per_week":5,"description":"Additional one-to-one lessons to complement your course.","prices":[{"duration":"Custom Packages","price":"€375","currency":"EUR"}],"requirements":null},{"name":"Family Options - Young Learner (age 10+)","lessons_per_week":0,"description":"For young learners aged 10+.","prices":[{"duration":"1+ weeks","price":"€350","currency":"EUR"}],"requirements":null},{"name":"Family Options - Parent & Child (age 10+)","lessons_per_week":0,"description":"For parents and children aged 10+","prices":[{"duration":"1+ weeks","price":"€620","currency":"EUR"}],"requirements":null},{"name":"DELF/DALF Exam Preparation","lessons_per_week":25,"description":"Exam preparation module for DELF/DALF.","prices":[{"duration":"2 to 4 weeks","price":"€399","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":{"registration":"€85"}}],"terms":{"cancellation":"Subject to specific conditions. Contact school for details."},"repeat":false}
2025-02-05 20:19:36,785 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:36,785 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:36,785 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:36,788 - src.logger - INFO - Successfully processed page 18
2025-02-05 20:19:36,788 - src.logger - INFO - Successfully processed page 18
2025-02-05 20:19:36,788 - src.logger - INFO - Successfully processed page 18
2025-02-05 20:19:36,789 - src.logger - INFO - Processing page 19/24
2025-02-05 20:19:36,789 - src.logger - INFO - Processing page 19/24
2025-02-05 20:19:36,789 - src.logger - INFO - Processing page 19/24
2025-02-05 20:19:36,907 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:36,907 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:36,907 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:36,913 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:36,913 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:36,913 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:36,925 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:36,925 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:36,925 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:36,927 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:36,927 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:36,927 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:36,928 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:36,928 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:36,928 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:36,929 - src.logger - DEBUG - Saved image to logs/image_1738768776.jpg
2025-02-05 20:19:36,929 - src.logger - DEBUG - Saved image to logs/image_1738768776.jpg
2025-02-05 20:19:36,929 - src.logger - DEBUG - Saved image to logs/image_1738768776.jpg
2025-02-05 20:19:50,508 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:50,508 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:50,508 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:19:50,508 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Paris","country":"FR","address":"13 Passage Dauphine, 75006 Paris, France","courses":[{"name":"Standard Language Course","lessons_per_week":20,"description":"Standard course for language learners.","prices":[{"duration":"1 to 4 weeks","price":"€350","currency":"EUR"},{"duration":"5+ weeks","price":"€325","currency":"EUR"}],"requirements":"Minimum age 16"},{"name":"Premium Language Course","lessons_per_week":25,"description":"Premium course with additional lessons for better immersion.","prices":[{"duration":"1 to 4 weeks","price":"€745","currency":"EUR"},{"duration":"5+ weeks","price":"€545","currency":"EUR"}],"requirements":"Minimum age 16"}],"accommodations":[{"type":"Homestay","price_per_week":"€295 to €390","description":"Available in various board types like bed & breakfast, semi board, and half board with supplements available.","supplements":{"Dietary Supplement":"€55-75/week","Private Bathroom Supplement":"€75/week"}},{"type":"Residence","price_per_week":"€350 to €745","description":"Studio apartments with self-catering options.","supplements":null}],"additional_fees":{"registration_fee":"€95","exam_fees":"€225 to €280","materials_fee":"€7","airport_transfers":"€90-115"}}],"terms":{"cancellation":"Fees are non-refundable after start date, 14-day notice required for cancellation."},"repeat":false}
2025-02-05 20:19:50,508 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Paris","country":"FR","address":"13 Passage Dauphine, 75006 Paris, France","courses":[{"name":"Standard Language Course","lessons_per_week":20,"description":"Standard course for language learners.","prices":[{"duration":"1 to 4 weeks","price":"€350","currency":"EUR"},{"duration":"5+ weeks","price":"€325","currency":"EUR"}],"requirements":"Minimum age 16"},{"name":"Premium Language Course","lessons_per_week":25,"description":"Premium course with additional lessons for better immersion.","prices":[{"duration":"1 to 4 weeks","price":"€745","currency":"EUR"},{"duration":"5+ weeks","price":"€545","currency":"EUR"}],"requirements":"Minimum age 16"}],"accommodations":[{"type":"Homestay","price_per_week":"€295 to €390","description":"Available in various board types like bed & breakfast, semi board, and half board with supplements available.","supplements":{"Dietary Supplement":"€55-75/week","Private Bathroom Supplement":"€75/week"}},{"type":"Residence","price_per_week":"€350 to €745","description":"Studio apartments with self-catering options.","supplements":null}],"additional_fees":{"registration_fee":"€95","exam_fees":"€225 to €280","materials_fee":"€7","airport_transfers":"€90-115"}}],"terms":{"cancellation":"Fees are non-refundable after start date, 14-day notice required for cancellation."},"repeat":false}
2025-02-05 20:19:50,508 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Paris","country":"FR","address":"13 Passage Dauphine, 75006 Paris, France","courses":[{"name":"Standard Language Course","lessons_per_week":20,"description":"Standard course for language learners.","prices":[{"duration":"1 to 4 weeks","price":"€350","currency":"EUR"},{"duration":"5+ weeks","price":"€325","currency":"EUR"}],"requirements":"Minimum age 16"},{"name":"Premium Language Course","lessons_per_week":25,"description":"Premium course with additional lessons for better immersion.","prices":[{"duration":"1 to 4 weeks","price":"€745","currency":"EUR"},{"duration":"5+ weeks","price":"€545","currency":"EUR"}],"requirements":"Minimum age 16"}],"accommodations":[{"type":"Homestay","price_per_week":"€295 to €390","description":"Available in various board types like bed & breakfast, semi board, and half board with supplements available.","supplements":{"Dietary Supplement":"€55-75/week","Private Bathroom Supplement":"€75/week"}},{"type":"Residence","price_per_week":"€350 to €745","description":"Studio apartments with self-catering options.","supplements":null}],"additional_fees":{"registration_fee":"€95","exam_fees":"€225 to €280","materials_fee":"€7","airport_transfers":"€90-115"}}],"terms":{"cancellation":"Fees are non-refundable after start date, 14-day notice required for cancellation."},"repeat":false}
2025-02-05 20:19:50,509 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:50,509 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:50,509 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:19:50,511 - src.logger - INFO - Successfully processed page 19
2025-02-05 20:19:50,511 - src.logger - INFO - Successfully processed page 19
2025-02-05 20:19:50,511 - src.logger - INFO - Successfully processed page 19
2025-02-05 20:19:50,513 - src.logger - INFO - Processing page 20/24
2025-02-05 20:19:50,513 - src.logger - INFO - Processing page 20/24
2025-02-05 20:19:50,513 - src.logger - INFO - Processing page 20/24
2025-02-05 20:19:50,628 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:50,628 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:50,628 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:19:50,636 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:50,636 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:50,636 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:19:50,645 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:50,645 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:50,645 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:19:50,647 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:50,647 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:50,647 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:19:50,648 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:50,648 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:50,648 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:19:50,651 - src.logger - DEBUG - Saved image to logs/image_1738768790.jpg
2025-02-05 20:19:50,651 - src.logger - DEBUG - Saved image to logs/image_1738768790.jpg
2025-02-05 20:19:50,651 - src.logger - DEBUG - Saved image to logs/image_1738768790.jpg
2025-02-05 20:20:05,458 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:05,458 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:05,458 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:05,458 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Cape Town","country":"ZA","address":"40 Shortmarket Street, Leadership House Building, 1st Floor, Cape Town, 8001, South Africa","courses":[{"name":"Standard English","lessons_per_week":20,"description":"General English and IELTS Preparation, morning classes","prices":[{"duration":"1-11 weeks","price":"€275","currency":"EUR"},{"duration":"12-23 weeks","price":"€235","currency":"EUR"},{"duration":"24+ weeks","price":"€215","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Intensive English","lessons_per_week":25,"description":"General English and IELTS Preparation, intensive study","prices":[{"duration":"1-11 weeks","price":"€330","currency":"EUR"},{"duration":"12-23 weeks","price":"€285","currency":"EUR"},{"duration":"24+ weeks","price":"€250","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Super Intensive English","lessons_per_week":30,"description":"General English and IELTS Preparation, super-intensive study","prices":[{"duration":"1-11 weeks","price":"€370","currency":"EUR"},{"duration":"12-23 weeks","price":"€330","currency":"EUR"},{"duration":"24+ weeks","price":"€285","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Cambridge Exam Preparation (Intensive)","lessons_per_week":25,"description":"First (FCE) and Advanced (CAE) preparation course","prices":[{"duration":"10 weeks","price":"€3,300","currency":"EUR"},{"duration":"12 weeks","price":"€3,420","currency":"EUR"}],"requirements":"Minimum B2 Level for FCE, C1 Level for CAE"}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single Room, Half-Board, all-year available","supplements":null},{"type":"Student Residence","price_per_week":"€300","description":"Full board, shared accommodation","supplements":null}],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":false}
2025-02-05 20:20:05,458 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Cape Town","country":"ZA","address":"40 Shortmarket Street, Leadership House Building, 1st Floor, Cape Town, 8001, South Africa","courses":[{"name":"Standard English","lessons_per_week":20,"description":"General English and IELTS Preparation, morning classes","prices":[{"duration":"1-11 weeks","price":"€275","currency":"EUR"},{"duration":"12-23 weeks","price":"€235","currency":"EUR"},{"duration":"24+ weeks","price":"€215","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Intensive English","lessons_per_week":25,"description":"General English and IELTS Preparation, intensive study","prices":[{"duration":"1-11 weeks","price":"€330","currency":"EUR"},{"duration":"12-23 weeks","price":"€285","currency":"EUR"},{"duration":"24+ weeks","price":"€250","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Super Intensive English","lessons_per_week":30,"description":"General English and IELTS Preparation, super-intensive study","prices":[{"duration":"1-11 weeks","price":"€370","currency":"EUR"},{"duration":"12-23 weeks","price":"€330","currency":"EUR"},{"duration":"24+ weeks","price":"€285","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Cambridge Exam Preparation (Intensive)","lessons_per_week":25,"description":"First (FCE) and Advanced (CAE) preparation course","prices":[{"duration":"10 weeks","price":"€3,300","currency":"EUR"},{"duration":"12 weeks","price":"€3,420","currency":"EUR"}],"requirements":"Minimum B2 Level for FCE, C1 Level for CAE"}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single Room, Half-Board, all-year available","supplements":null},{"type":"Student Residence","price_per_week":"€300","description":"Full board, shared accommodation","supplements":null}],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":false}
2025-02-05 20:20:05,458 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Cape Town","country":"ZA","address":"40 Shortmarket Street, Leadership House Building, 1st Floor, Cape Town, 8001, South Africa","courses":[{"name":"Standard English","lessons_per_week":20,"description":"General English and IELTS Preparation, morning classes","prices":[{"duration":"1-11 weeks","price":"€275","currency":"EUR"},{"duration":"12-23 weeks","price":"€235","currency":"EUR"},{"duration":"24+ weeks","price":"€215","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Intensive English","lessons_per_week":25,"description":"General English and IELTS Preparation, intensive study","prices":[{"duration":"1-11 weeks","price":"€330","currency":"EUR"},{"duration":"12-23 weeks","price":"€285","currency":"EUR"},{"duration":"24+ weeks","price":"€250","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Super Intensive English","lessons_per_week":30,"description":"General English and IELTS Preparation, super-intensive study","prices":[{"duration":"1-11 weeks","price":"€370","currency":"EUR"},{"duration":"12-23 weeks","price":"€330","currency":"EUR"},{"duration":"24+ weeks","price":"€285","currency":"EUR"}],"requirements":"Minimum age: 16"},{"name":"Cambridge Exam Preparation (Intensive)","lessons_per_week":25,"description":"First (FCE) and Advanced (CAE) preparation course","prices":[{"duration":"10 weeks","price":"€3,300","currency":"EUR"},{"duration":"12 weeks","price":"€3,420","currency":"EUR"}],"requirements":"Minimum B2 Level for FCE, C1 Level for CAE"}],"accommodations":[{"type":"Homestay","price_per_week":"€280","description":"Single Room, Half-Board, all-year available","supplements":null},{"type":"Student Residence","price_per_week":"€300","description":"Full board, shared accommodation","supplements":null}],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":false}
2025-02-05 20:20:05,458 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:05,458 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:05,458 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:05,460 - src.logger - INFO - Successfully processed page 20
2025-02-05 20:20:05,460 - src.logger - INFO - Successfully processed page 20
2025-02-05 20:20:05,460 - src.logger - INFO - Successfully processed page 20
2025-02-05 20:20:05,461 - src.logger - INFO - Processing page 21/24
2025-02-05 20:20:05,461 - src.logger - INFO - Processing page 21/24
2025-02-05 20:20:05,461 - src.logger - INFO - Processing page 21/24
2025-02-05 20:20:05,571 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:05,571 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:05,571 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:05,578 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:05,578 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:05,578 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:05,588 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:05,588 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:05,588 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:05,589 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:05,589 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:05,589 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:05,591 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:05,591 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:05,591 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:05,592 - src.logger - DEBUG - Saved image to logs/image_1738768805.jpg
2025-02-05 20:20:05,592 - src.logger - DEBUG - Saved image to logs/image_1738768805.jpg
2025-02-05 20:20:05,592 - src.logger - DEBUG - Saved image to logs/image_1738768805.jpg
2025-02-05 20:20:12,520 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:12,520 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:12,520 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:12,520 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Cape Town","country":"ZA","address":"106 Adderley St, Cape Town, City Centre, Cape Town, 8001","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course for all levels.","prices":[{"duration":"1 week","price":"€250","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€215","description":"Single Room with Shared Bathroom, Half Board","supplements":{"Dietary Supplement":"€50 per week"}},{"type":"Residences","price_per_week":"€300","description":"Premium Single En suite, Self-catering","supplements":null}],"additional_fees":{"registration":"€75","accommodation_booking_fee":"€55","bank_charges":"€12"}}],"terms":null,"repeat":null}
2025-02-05 20:20:12,520 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Cape Town","country":"ZA","address":"106 Adderley St, Cape Town, City Centre, Cape Town, 8001","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course for all levels.","prices":[{"duration":"1 week","price":"€250","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€215","description":"Single Room with Shared Bathroom, Half Board","supplements":{"Dietary Supplement":"€50 per week"}},{"type":"Residences","price_per_week":"€300","description":"Premium Single En suite, Self-catering","supplements":null}],"additional_fees":{"registration":"€75","accommodation_booking_fee":"€55","bank_charges":"€12"}}],"terms":null,"repeat":null}
2025-02-05 20:20:12,520 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"Cape Town","country":"ZA","address":"106 Adderley St, Cape Town, City Centre, Cape Town, 8001","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"General English course for all levels.","prices":[{"duration":"1 week","price":"€250","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€215","description":"Single Room with Shared Bathroom, Half Board","supplements":{"Dietary Supplement":"€50 per week"}},{"type":"Residences","price_per_week":"€300","description":"Premium Single En suite, Self-catering","supplements":null}],"additional_fees":{"registration":"€75","accommodation_booking_fee":"€55","bank_charges":"€12"}}],"terms":null,"repeat":null}
2025-02-05 20:20:12,520 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:12,520 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:12,520 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:12,523 - src.logger - INFO - Successfully processed page 21
2025-02-05 20:20:12,523 - src.logger - INFO - Successfully processed page 21
2025-02-05 20:20:12,523 - src.logger - INFO - Successfully processed page 21
2025-02-05 20:20:12,524 - src.logger - INFO - Processing page 22/24
2025-02-05 20:20:12,524 - src.logger - INFO - Processing page 22/24
2025-02-05 20:20:12,524 - src.logger - INFO - Processing page 22/24
2025-02-05 20:20:12,636 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:12,636 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:12,636 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:12,644 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:12,644 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:12,644 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:12,654 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:12,654 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:12,654 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:12,655 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:12,655 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:12,655 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:12,656 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:12,656 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:12,656 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:12,658 - src.logger - DEBUG - Saved image to logs/image_1738768812.jpg
2025-02-05 20:20:12,658 - src.logger - DEBUG - Saved image to logs/image_1738768812.jpg
2025-02-05 20:20:12,658 - src.logger - DEBUG - Saved image to logs/image_1738768812.jpg
2025-02-05 20:20:25,937 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:25,937 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:25,937 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:25,937 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Limassol","country":"CY","address":"138 Vasileos Constantinou, Limassol, 3080","courses":[{"name":"Standard English","lessons_per_week":20,"description":"General English classes","prices":[{"duration":"1 to 11 weeks","price":"€270","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€225","currency":"EUR"},{"duration":"24+ weeks","price":"€190","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"An intensive English course","prices":[{"duration":"1 to 11 weeks","price":"€325","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€260","currency":"EUR"},{"duration":"24+ weeks","price":"€220","currency":"EUR"}],"requirements":"Minimum level B2 (CEFR)"},{"name":"Combination Course","lessons_per_week":30,"description":"A mix of courses for comprehensive learning","prices":[{"duration":"1 to 11 weeks","price":"€600","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€535","currency":"EUR"},{"duration":"24+ weeks","price":"€495","currency":"EUR"}],"requirements":"Combination of Standard English with specific modules"}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Notice required as per school policy"},"repeat":false}
2025-02-05 20:20:25,937 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Limassol","country":"CY","address":"138 Vasileos Constantinou, Limassol, 3080","courses":[{"name":"Standard English","lessons_per_week":20,"description":"General English classes","prices":[{"duration":"1 to 11 weeks","price":"€270","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€225","currency":"EUR"},{"duration":"24+ weeks","price":"€190","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"An intensive English course","prices":[{"duration":"1 to 11 weeks","price":"€325","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€260","currency":"EUR"},{"duration":"24+ weeks","price":"€220","currency":"EUR"}],"requirements":"Minimum level B2 (CEFR)"},{"name":"Combination Course","lessons_per_week":30,"description":"A mix of courses for comprehensive learning","prices":[{"duration":"1 to 11 weeks","price":"€600","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€535","currency":"EUR"},{"duration":"24+ weeks","price":"€495","currency":"EUR"}],"requirements":"Combination of Standard English with specific modules"}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Notice required as per school policy"},"repeat":false}
2025-02-05 20:20:25,937 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Language School","locations":[{"city":"Limassol","country":"CY","address":"138 Vasileos Constantinou, Limassol, 3080","courses":[{"name":"Standard English","lessons_per_week":20,"description":"General English classes","prices":[{"duration":"1 to 11 weeks","price":"€270","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€225","currency":"EUR"},{"duration":"24+ weeks","price":"€190","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"An intensive English course","prices":[{"duration":"1 to 11 weeks","price":"€325","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€260","currency":"EUR"},{"duration":"24+ weeks","price":"€220","currency":"EUR"}],"requirements":"Minimum level B2 (CEFR)"},{"name":"Combination Course","lessons_per_week":30,"description":"A mix of courses for comprehensive learning","prices":[{"duration":"1 to 11 weeks","price":"€600","currency":"EUR"},{"duration":"12 to 23 weeks","price":"€535","currency":"EUR"},{"duration":"24+ weeks","price":"€495","currency":"EUR"}],"requirements":"Combination of Standard English with specific modules"}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Notice required as per school policy"},"repeat":false}
2025-02-05 20:20:25,938 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:25,938 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:25,938 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:25,941 - src.logger - INFO - Successfully processed page 22
2025-02-05 20:20:25,941 - src.logger - INFO - Successfully processed page 22
2025-02-05 20:20:25,941 - src.logger - INFO - Successfully processed page 22
2025-02-05 20:20:25,942 - src.logger - INFO - Processing page 23/24
2025-02-05 20:20:25,942 - src.logger - INFO - Processing page 23/24
2025-02-05 20:20:25,942 - src.logger - INFO - Processing page 23/24
2025-02-05 20:20:26,076 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:26,076 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:26,076 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:26,085 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:26,085 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:26,085 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:26,097 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:26,097 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:26,097 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:26,099 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:26,099 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:26,099 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:26,101 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:26,101 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:26,101 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:26,103 - src.logger - DEBUG - Saved image to logs/image_1738768826.jpg
2025-02-05 20:20:26,103 - src.logger - DEBUG - Saved image to logs/image_1738768826.jpg
2025-02-05 20:20:26,103 - src.logger - DEBUG - Saved image to logs/image_1738768826.jpg
2025-02-05 20:20:38,123 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:38,123 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:38,123 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:38,123 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Cyprus","locations":[{"city":"Limassol","country":"CY","address":"138 Vasileos Constantinou, Limassol, Cyprus","courses":[],"accommodations":[{"type":"Hotel Age 18+","price_per_week":"€380 (Winter); €490 (Summer)","description":"Standard Single En Suite BB","supplements":null},{"type":"Apartment Age 18+","price_per_week":"€440 (Winter); €525 (Summer)","description":"Standard Single En Suite SC","supplements":null},{"type":"Homestay Age 16+","price_per_week":"€220 (B&B); €270 (HB)","description":"Single room shared bathroom","supplements":{"Summer Supplement (1 Jun-31 Aug)":"€45","Dietary Supplement":"€30"}},{"type":"Summer Standard Residence Age 18+","price_per_week":"€310","description":"1 Bed-studio SC","supplements":null}],"additional_fees":{"registration":"€75","accommodation_booking_fee":"€55","bayswater_cyprus_shuttle_bus_per_week":"€110 (3-4 people); €90 (1-2 people)","credit_card_fee":"1.5%","materials_fee":"€7"}}],"terms":{"cancellation":"Subject to prior notice as per the institution's policies."},"repeat":false}
2025-02-05 20:20:38,123 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Cyprus","locations":[{"city":"Limassol","country":"CY","address":"138 Vasileos Constantinou, Limassol, Cyprus","courses":[],"accommodations":[{"type":"Hotel Age 18+","price_per_week":"€380 (Winter); €490 (Summer)","description":"Standard Single En Suite BB","supplements":null},{"type":"Apartment Age 18+","price_per_week":"€440 (Winter); €525 (Summer)","description":"Standard Single En Suite SC","supplements":null},{"type":"Homestay Age 16+","price_per_week":"€220 (B&B); €270 (HB)","description":"Single room shared bathroom","supplements":{"Summer Supplement (1 Jun-31 Aug)":"€45","Dietary Supplement":"€30"}},{"type":"Summer Standard Residence Age 18+","price_per_week":"€310","description":"1 Bed-studio SC","supplements":null}],"additional_fees":{"registration":"€75","accommodation_booking_fee":"€55","bayswater_cyprus_shuttle_bus_per_week":"€110 (3-4 people); €90 (1-2 people)","credit_card_fee":"1.5%","materials_fee":"€7"}}],"terms":{"cancellation":"Subject to prior notice as per the institution's policies."},"repeat":false}
2025-02-05 20:20:38,123 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Cyprus","locations":[{"city":"Limassol","country":"CY","address":"138 Vasileos Constantinou, Limassol, Cyprus","courses":[],"accommodations":[{"type":"Hotel Age 18+","price_per_week":"€380 (Winter); €490 (Summer)","description":"Standard Single En Suite BB","supplements":null},{"type":"Apartment Age 18+","price_per_week":"€440 (Winter); €525 (Summer)","description":"Standard Single En Suite SC","supplements":null},{"type":"Homestay Age 16+","price_per_week":"€220 (B&B); €270 (HB)","description":"Single room shared bathroom","supplements":{"Summer Supplement (1 Jun-31 Aug)":"€45","Dietary Supplement":"€30"}},{"type":"Summer Standard Residence Age 18+","price_per_week":"€310","description":"1 Bed-studio SC","supplements":null}],"additional_fees":{"registration":"€75","accommodation_booking_fee":"€55","bayswater_cyprus_shuttle_bus_per_week":"€110 (3-4 people); €90 (1-2 people)","credit_card_fee":"1.5%","materials_fee":"€7"}}],"terms":{"cancellation":"Subject to prior notice as per the institution's policies."},"repeat":false}
2025-02-05 20:20:38,123 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:38,123 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:38,123 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:38,126 - src.logger - INFO - Successfully processed page 23
2025-02-05 20:20:38,126 - src.logger - INFO - Successfully processed page 23
2025-02-05 20:20:38,126 - src.logger - INFO - Successfully processed page 23
2025-02-05 20:20:38,128 - src.logger - INFO - Processing page 24/24
2025-02-05 20:20:38,128 - src.logger - INFO - Processing page 24/24
2025-02-05 20:20:38,128 - src.logger - INFO - Processing page 24/24
2025-02-05 20:20:38,159 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:38,159 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:38,159 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:38,166 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:38,166 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:38,166 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:38,176 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:38,176 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:38,176 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:38,177 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:38,177 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:38,177 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:38,179 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:38,179 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:38,179 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:38,181 - src.logger - DEBUG - Saved image to logs/image_1738768838.jpg
2025-02-05 20:20:38,181 - src.logger - DEBUG - Saved image to logs/image_1738768838.jpg
2025-02-05 20:20:38,181 - src.logger - DEBUG - Saved image to logs/image_1738768838.jpg
2025-02-05 20:20:41,705 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:41,705 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:41,705 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:41,706 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater College","locations":[{"city":"London","country":"GB","address":"167 Queensway, London W2 4SB","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:20:41,706 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater College","locations":[{"city":"London","country":"GB","address":"167 Queensway, London W2 4SB","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:20:41,706 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater College","locations":[{"city":"London","country":"GB","address":"167 Queensway, London W2 4SB","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:20:41,706 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:41,706 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:41,706 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:41,708 - src.logger - INFO - Successfully processed page 24
2025-02-05 20:20:41,708 - src.logger - INFO - Successfully processed page 24
2025-02-05 20:20:41,708 - src.logger - INFO - Successfully processed page 24
2025-02-05 20:20:41,709 - src.logger - INFO - PDF processing completed
2025-02-05 20:20:41,709 - src.logger - INFO - PDF processing completed
2025-02-05 20:20:41,709 - src.logger - INFO - PDF processing completed
2025-02-05 20:20:41,710 - src.logger - INFO - Starting merge of 24 results
2025-02-05 20:20:41,710 - src.logger - INFO - Starting merge of 24 results
2025-02-05 20:20:41,710 - src.logger - INFO - Starting merge of 24 results
2025-02-05 20:20:41,711 - src.logger - DEBUG - Merging result 1/24
2025-02-05 20:20:41,711 - src.logger - DEBUG - Merging result 1/24
2025-02-05 20:20:41,711 - src.logger - DEBUG - Merging result 1/24
2025-02-05 20:20:41,711 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,711 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,711 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,712 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:20:41,712 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:20:41,712 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:20:41,713 - src.logger - DEBUG - Merging result 2/24
2025-02-05 20:20:41,713 - src.logger - DEBUG - Merging result 2/24
2025-02-05 20:20:41,713 - src.logger - DEBUG - Merging result 2/24
2025-02-05 20:20:41,713 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,713 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,713 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,714 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:20:41,714 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:20:41,714 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:20:41,715 - src.logger - DEBUG - Processing location: London, UK
2025-02-05 20:20:41,715 - src.logger - DEBUG - Processing location: London, UK
2025-02-05 20:20:41,715 - src.logger - DEBUG - Processing location: London, UK
2025-02-05 20:20:41,715 - src.logger - DEBUG - Finding location: London, UK
2025-02-05 20:20:41,715 - src.logger - DEBUG - Finding location: London, UK
2025-02-05 20:20:41,715 - src.logger - DEBUG - Finding location: London, UK
2025-02-05 20:20:41,715 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,715 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,715 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,715 - src.logger - INFO - Merging 1 courses with 1 courses
2025-02-05 20:20:41,715 - src.logger - INFO - Merging 1 courses with 1 courses
2025-02-05 20:20:41,715 - src.logger - INFO - Merging 1 courses with 1 courses
2025-02-05 20:20:41,717 - src.logger - DEBUG - Processing course: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - Processing course: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - Processing course: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - Finding course: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - Finding course: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - Finding course: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - New course found: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - New course found: Advanced Professional Skills
2025-02-05 20:20:41,717 - src.logger - DEBUG - New course found: Advanced Professional Skills
2025-02-05 20:20:41,718 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,718 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,718 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,719 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:20:41,719 - src.logger - DEBUG - Processing accommodation type: Student Apartment
2025-02-05 20:20:41,719 - src.logger - DEBUG - Processing accommodation type: Student Apartment
2025-02-05 20:20:41,719 - src.logger - DEBUG - Processing accommodation type: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - Finding accommodation type: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - Finding accommodation type: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - Finding accommodation type: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - New accommodation type found: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - New accommodation type found: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - New accommodation type found: Student Apartment
2025-02-05 20:20:41,720 - src.logger - DEBUG - Merging result 3/24
2025-02-05 20:20:41,720 - src.logger - DEBUG - Merging result 3/24
2025-02-05 20:20:41,720 - src.logger - DEBUG - Merging result 3/24
2025-02-05 20:20:41,720 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,720 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,720 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,721 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:20:41,721 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:20:41,721 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:20:41,722 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,722 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,722 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,722 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,722 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,722 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,722 - src.logger - DEBUG - New location found: London
2025-02-05 20:20:41,722 - src.logger - DEBUG - New location found: London
2025-02-05 20:20:41,722 - src.logger - DEBUG - New location found: London
2025-02-05 20:20:41,722 - src.logger - DEBUG - Merging result 4/24
2025-02-05 20:20:41,722 - src.logger - DEBUG - Merging result 4/24
2025-02-05 20:20:41,722 - src.logger - DEBUG - Merging result 4/24
2025-02-05 20:20:41,723 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,723 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,723 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,724 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,724 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,724 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,725 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,725 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,725 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,725 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,725 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,725 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,726 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,726 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,726 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,726 - src.logger - INFO - Merging 3 courses with 14 courses
2025-02-05 20:20:41,726 - src.logger - INFO - Merging 3 courses with 14 courses
2025-02-05 20:20:41,726 - src.logger - INFO - Merging 3 courses with 14 courses
2025-02-05 20:20:41,727 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Processing course: Intensive English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Processing course: Intensive English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Processing course: Intensive English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Finding course: Intensive English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Finding course: Intensive English
2025-02-05 20:20:41,727 - src.logger - DEBUG - Finding course: Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Finding course: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Finding course: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Finding course: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Super Intensive English
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - Finding course: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - Finding course: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - Finding course: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - New course found: Family English - Young Learner
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Family English - Parent & Child
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Family English - Parent & Child
2025-02-05 20:20:41,728 - src.logger - DEBUG - Processing course: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Family English - Parent & Child
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Family English - Day Camp
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Standard
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,729 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Cambridge Exam Preparation - Super Intensive
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - Finding course: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - New course found: Professional - Digital Marketing
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Professional - International Business Management
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Professional - International Business Management
2025-02-05 20:20:41,730 - src.logger - DEBUG - Processing course: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - International Business Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Processing course: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Processing course: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Processing course: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - Luxury Brand Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Processing course: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Processing course: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Processing course: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - Finding course: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - Customer Experience Management
2025-02-05 20:20:41,731 - src.logger - DEBUG - New course found: Professional - Customer Experience Management
2025-02-05 20:20:41,732 - src.logger - DEBUG - Processing course: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - Processing course: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - Processing course: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - Finding course: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - Finding course: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - Finding course: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - New course found: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - New course found: Premium Package
2025-02-05 20:20:41,732 - src.logger - DEBUG - New course found: Premium Package
2025-02-05 20:20:41,732 - src.logger - INFO - Merging 2 accommodations with 0 accommodations
2025-02-05 20:20:41,732 - src.logger - INFO - Merging 2 accommodations with 0 accommodations
2025-02-05 20:20:41,732 - src.logger - INFO - Merging 2 accommodations with 0 accommodations
2025-02-05 20:20:41,734 - src.logger - DEBUG - Merging result 5/24
2025-02-05 20:20:41,734 - src.logger - DEBUG - Merging result 5/24
2025-02-05 20:20:41,734 - src.logger - DEBUG - Merging result 5/24
2025-02-05 20:20:41,734 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,734 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,734 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,736 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,736 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,736 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,738 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,738 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,738 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,738 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,738 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,738 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,738 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,738 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,738 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,738 - src.logger - INFO - Merging 17 courses with 0 courses
2025-02-05 20:20:41,738 - src.logger - INFO - Merging 17 courses with 0 courses
2025-02-05 20:20:41,738 - src.logger - INFO - Merging 17 courses with 0 courses
2025-02-05 20:20:41,740 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:20:41,740 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:20:41,740 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:20:41,741 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,741 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,742 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,742 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,742 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,742 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,742 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,742 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,742 - src.logger - DEBUG - Processing accommodation type: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - Processing accommodation type: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - Processing accommodation type: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - Finding accommodation type: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - Finding accommodation type: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - Finding accommodation type: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - New accommodation type found: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - New accommodation type found: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - New accommodation type found: Residences Age 18+
2025-02-05 20:20:41,742 - src.logger - DEBUG - Merging result 6/24
2025-02-05 20:20:41,742 - src.logger - DEBUG - Merging result 6/24
2025-02-05 20:20:41,742 - src.logger - DEBUG - Merging result 6/24
2025-02-05 20:20:41,742 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,742 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,742 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,744 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,744 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,744 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:20:41,746 - src.logger - DEBUG - Processing location: Liverpool, UK
2025-02-05 20:20:41,746 - src.logger - DEBUG - Processing location: Liverpool, UK
2025-02-05 20:20:41,746 - src.logger - DEBUG - Processing location: Liverpool, UK
2025-02-05 20:20:41,746 - src.logger - DEBUG - Finding location: Liverpool, UK
2025-02-05 20:20:41,746 - src.logger - DEBUG - Finding location: Liverpool, UK
2025-02-05 20:20:41,746 - src.logger - DEBUG - Finding location: Liverpool, UK
2025-02-05 20:20:41,746 - src.logger - DEBUG - New location found: Liverpool
2025-02-05 20:20:41,746 - src.logger - DEBUG - New location found: Liverpool
2025-02-05 20:20:41,746 - src.logger - DEBUG - New location found: Liverpool
2025-02-05 20:20:41,746 - src.logger - DEBUG - Merging result 7/24
2025-02-05 20:20:41,746 - src.logger - DEBUG - Merging result 7/24
2025-02-05 20:20:41,746 - src.logger - DEBUG - Merging result 7/24
2025-02-05 20:20:41,746 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,746 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,746 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,748 - src.logger - INFO - Merging 3 locations with 1 locations
2025-02-05 20:20:41,748 - src.logger - INFO - Merging 3 locations with 1 locations
2025-02-05 20:20:41,748 - src.logger - INFO - Merging 3 locations with 1 locations
2025-02-05 20:20:41,749 - src.logger - DEBUG - Processing location: Liverpool, GB
2025-02-05 20:20:41,749 - src.logger - DEBUG - Processing location: Liverpool, GB
2025-02-05 20:20:41,749 - src.logger - DEBUG - Processing location: Liverpool, GB
2025-02-05 20:20:41,750 - src.logger - DEBUG - Finding location: Liverpool, GB
2025-02-05 20:20:41,750 - src.logger - DEBUG - Finding location: Liverpool, GB
2025-02-05 20:20:41,750 - src.logger - DEBUG - Finding location: Liverpool, GB
2025-02-05 20:20:41,750 - src.logger - DEBUG - New location found: Liverpool
2025-02-05 20:20:41,750 - src.logger - DEBUG - New location found: Liverpool
2025-02-05 20:20:41,750 - src.logger - DEBUG - New location found: Liverpool
2025-02-05 20:20:41,750 - src.logger - DEBUG - Merging result 8/24
2025-02-05 20:20:41,750 - src.logger - DEBUG - Merging result 8/24
2025-02-05 20:20:41,750 - src.logger - DEBUG - Merging result 8/24
2025-02-05 20:20:41,750 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,750 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,750 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,752 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:20:41,752 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:20:41,752 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:20:41,754 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:41,754 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:41,754 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:41,754 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:41,754 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:41,754 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:41,754 - src.logger - DEBUG - New location found: Brighton
2025-02-05 20:20:41,754 - src.logger - DEBUG - New location found: Brighton
2025-02-05 20:20:41,754 - src.logger - DEBUG - New location found: Brighton
2025-02-05 20:20:41,755 - src.logger - DEBUG - Merging result 9/24
2025-02-05 20:20:41,755 - src.logger - DEBUG - Merging result 9/24
2025-02-05 20:20:41,755 - src.logger - DEBUG - Merging result 9/24
2025-02-05 20:20:41,755 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,755 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,755 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,757 - src.logger - INFO - Merging 5 locations with 2 locations
2025-02-05 20:20:41,757 - src.logger - INFO - Merging 5 locations with 2 locations
2025-02-05 20:20:41,757 - src.logger - INFO - Merging 5 locations with 2 locations
2025-02-05 20:20:41,758 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:41,758 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:41,758 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:41,758 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:41,758 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:41,758 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:41,759 - src.logger - DEBUG - Merging location details for Brighton
2025-02-05 20:20:41,759 - src.logger - DEBUG - Merging location details for Brighton
2025-02-05 20:20:41,759 - src.logger - DEBUG - Merging location details for Brighton
2025-02-05 20:20:41,759 - src.logger - INFO - Merging 2 courses with 1 courses
2025-02-05 20:20:41,759 - src.logger - INFO - Merging 2 courses with 1 courses
2025-02-05 20:20:41,759 - src.logger - INFO - Merging 2 courses with 1 courses
2025-02-05 20:20:41,760 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,760 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,760 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,760 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,760 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,761 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,761 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,761 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,762 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,762 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,762 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,762 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,762 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,762 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,762 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,762 - src.logger - DEBUG - Processing location: Brighton (Summer Accommodation), GB
2025-02-05 20:20:41,762 - src.logger - DEBUG - Processing location: Brighton (Summer Accommodation), GB
2025-02-05 20:20:41,762 - src.logger - DEBUG - Processing location: Brighton (Summer Accommodation), GB
2025-02-05 20:20:41,763 - src.logger - DEBUG - Finding location: Brighton (Summer Accommodation), GB
2025-02-05 20:20:41,763 - src.logger - DEBUG - Finding location: Brighton (Summer Accommodation), GB
2025-02-05 20:20:41,763 - src.logger - DEBUG - Finding location: Brighton (Summer Accommodation), GB
2025-02-05 20:20:41,763 - src.logger - DEBUG - New location found: Brighton (Summer Accommodation)
2025-02-05 20:20:41,763 - src.logger - DEBUG - New location found: Brighton (Summer Accommodation)
2025-02-05 20:20:41,763 - src.logger - DEBUG - New location found: Brighton (Summer Accommodation)
2025-02-05 20:20:41,763 - src.logger - DEBUG - Merging result 10/24
2025-02-05 20:20:41,763 - src.logger - DEBUG - Merging result 10/24
2025-02-05 20:20:41,763 - src.logger - DEBUG - Merging result 10/24
2025-02-05 20:20:41,763 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,763 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,763 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,765 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:20:41,765 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:20:41,765 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:20:41,767 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:20:41,767 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:20:41,767 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:20:41,768 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:20:41,768 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:20:41,768 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:20:41,768 - src.logger - DEBUG - New location found: Bournemouth
2025-02-05 20:20:41,768 - src.logger - DEBUG - New location found: Bournemouth
2025-02-05 20:20:41,768 - src.logger - DEBUG - New location found: Bournemouth
2025-02-05 20:20:41,768 - src.logger - DEBUG - Merging result 11/24
2025-02-05 20:20:41,768 - src.logger - DEBUG - Merging result 11/24
2025-02-05 20:20:41,768 - src.logger - DEBUG - Merging result 11/24
2025-02-05 20:20:41,768 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,768 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,768 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,770 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:20:41,770 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:20:41,770 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:20:41,772 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:20:41,772 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:20:41,772 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:20:41,773 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:20:41,773 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:20:41,773 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:20:41,773 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:20:41,773 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:20:41,773 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:20:41,773 - src.logger - INFO - Merging 5 courses with 0 courses
2025-02-05 20:20:41,773 - src.logger - INFO - Merging 5 courses with 0 courses
2025-02-05 20:20:41,773 - src.logger - INFO - Merging 5 courses with 0 courses
2025-02-05 20:20:41,774 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,774 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,774 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:20:41,775 - src.logger - DEBUG - Processing accommodation type: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Processing accommodation type: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Processing accommodation type: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Finding accommodation type: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Finding accommodation type: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Finding accommodation type: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - New accommodation type found: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - New accommodation type found: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - New accommodation type found: Homestay (Single, Shared Bathroom)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Processing accommodation type: Residences (Single Ensuire)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Processing accommodation type: Residences (Single Ensuire)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Processing accommodation type: Residences (Single Ensuire)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Finding accommodation type: Residences (Single Ensuire)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Finding accommodation type: Residences (Single Ensuire)
2025-02-05 20:20:41,775 - src.logger - DEBUG - Finding accommodation type: Residences (Single Ensuire)
2025-02-05 20:20:41,776 - src.logger - DEBUG - New accommodation type found: Residences (Single Ensuire)
2025-02-05 20:20:41,776 - src.logger - DEBUG - New accommodation type found: Residences (Single Ensuire)
2025-02-05 20:20:41,776 - src.logger - DEBUG - New accommodation type found: Residences (Single Ensuire)
2025-02-05 20:20:41,776 - src.logger - DEBUG - Merging result 12/24
2025-02-05 20:20:41,776 - src.logger - DEBUG - Merging result 12/24
2025-02-05 20:20:41,776 - src.logger - DEBUG - Merging result 12/24
2025-02-05 20:20:41,776 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,776 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,776 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,778 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:20:41,778 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:20:41,778 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:20:41,780 - src.logger - DEBUG - Processing location: Vancouver, CA
2025-02-05 20:20:41,780 - src.logger - DEBUG - Processing location: Vancouver, CA
2025-02-05 20:20:41,780 - src.logger - DEBUG - Processing location: Vancouver, CA
2025-02-05 20:20:41,780 - src.logger - DEBUG - Finding location: Vancouver, CA
2025-02-05 20:20:41,780 - src.logger - DEBUG - Finding location: Vancouver, CA
2025-02-05 20:20:41,780 - src.logger - DEBUG - Finding location: Vancouver, CA
2025-02-05 20:20:41,780 - src.logger - DEBUG - New location found: Vancouver
2025-02-05 20:20:41,780 - src.logger - DEBUG - New location found: Vancouver
2025-02-05 20:20:41,780 - src.logger - DEBUG - New location found: Vancouver
2025-02-05 20:20:41,780 - src.logger - DEBUG - Merging result 13/24
2025-02-05 20:20:41,780 - src.logger - DEBUG - Merging result 13/24
2025-02-05 20:20:41,780 - src.logger - DEBUG - Merging result 13/24
2025-02-05 20:20:41,780 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,780 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,780 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,784 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:20:41,784 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:20:41,784 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:20:41,786 - src.logger - DEBUG - Processing location: Vancouver, CA
2025-02-05 20:20:41,786 - src.logger - DEBUG - Processing location: Vancouver, CA
2025-02-05 20:20:41,786 - src.logger - DEBUG - Processing location: Vancouver, CA
2025-02-05 20:20:41,786 - src.logger - DEBUG - Finding location: Vancouver, CA
2025-02-05 20:20:41,786 - src.logger - DEBUG - Finding location: Vancouver, CA
2025-02-05 20:20:41,786 - src.logger - DEBUG - Finding location: Vancouver, CA
2025-02-05 20:20:41,786 - src.logger - DEBUG - Merging location details for Vancouver
2025-02-05 20:20:41,786 - src.logger - DEBUG - Merging location details for Vancouver
2025-02-05 20:20:41,786 - src.logger - DEBUG - Merging location details for Vancouver
2025-02-05 20:20:41,787 - src.logger - INFO - Merging 3 courses with 0 courses
2025-02-05 20:20:41,787 - src.logger - INFO - Merging 3 courses with 0 courses
2025-02-05 20:20:41,787 - src.logger - INFO - Merging 3 courses with 0 courses
2025-02-05 20:20:41,788 - src.logger - INFO - Merging 0 accommodations with 3 accommodations
2025-02-05 20:20:41,788 - src.logger - INFO - Merging 0 accommodations with 3 accommodations
2025-02-05 20:20:41,788 - src.logger - INFO - Merging 0 accommodations with 3 accommodations
2025-02-05 20:20:41,789 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,789 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,790 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,790 - src.logger - DEBUG - Processing accommodation type: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - Processing accommodation type: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - Processing accommodation type: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - Finding accommodation type: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - Finding accommodation type: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - Finding accommodation type: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - New accommodation type found: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - New accommodation type found: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - New accommodation type found: Airport Transfer
2025-02-05 20:20:41,790 - src.logger - DEBUG - Merging result 14/24
2025-02-05 20:20:41,790 - src.logger - DEBUG - Merging result 14/24
2025-02-05 20:20:41,790 - src.logger - DEBUG - Merging result 14/24
2025-02-05 20:20:41,790 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,790 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,790 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,792 - src.logger - INFO - Merging 8 locations with 2 locations
2025-02-05 20:20:41,792 - src.logger - INFO - Merging 8 locations with 2 locations
2025-02-05 20:20:41,792 - src.logger - INFO - Merging 8 locations with 2 locations
2025-02-05 20:20:41,794 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:20:41,794 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:20:41,794 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - New location found: Toronto
2025-02-05 20:20:41,795 - src.logger - DEBUG - New location found: Toronto
2025-02-05 20:20:41,795 - src.logger - DEBUG - New location found: Toronto
2025-02-05 20:20:41,795 - src.logger - DEBUG - Processing location: Toronto - Summer Camp, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Processing location: Toronto - Summer Camp, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Processing location: Toronto - Summer Camp, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Finding location: Toronto - Summer Camp, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Finding location: Toronto - Summer Camp, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - Finding location: Toronto - Summer Camp, CA
2025-02-05 20:20:41,795 - src.logger - DEBUG - New location found: Toronto - Summer Camp
2025-02-05 20:20:41,795 - src.logger - DEBUG - New location found: Toronto - Summer Camp
2025-02-05 20:20:41,795 - src.logger - DEBUG - New location found: Toronto - Summer Camp
2025-02-05 20:20:41,795 - src.logger - DEBUG - Merging result 15/24
2025-02-05 20:20:41,795 - src.logger - DEBUG - Merging result 15/24
2025-02-05 20:20:41,795 - src.logger - DEBUG - Merging result 15/24
2025-02-05 20:20:41,796 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,796 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,796 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,798 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:20:41,798 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:20:41,798 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:20:41,801 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:20:41,801 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:20:41,801 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:20:41,802 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:20:41,802 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:20:41,802 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:20:41,802 - src.logger - DEBUG - Merging location details for Toronto
2025-02-05 20:20:41,802 - src.logger - DEBUG - Merging location details for Toronto
2025-02-05 20:20:41,802 - src.logger - DEBUG - Merging location details for Toronto
2025-02-05 20:20:41,802 - src.logger - INFO - Merging 9 courses with 0 courses
2025-02-05 20:20:41,802 - src.logger - INFO - Merging 9 courses with 0 courses
2025-02-05 20:20:41,802 - src.logger - INFO - Merging 9 courses with 0 courses
2025-02-05 20:20:41,804 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,804 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,804 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,805 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,805 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,805 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,806 - src.logger - DEBUG - Processing accommodation type: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - Processing accommodation type: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - Processing accommodation type: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - Finding accommodation type: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - Finding accommodation type: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - Finding accommodation type: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - New accommodation type found: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - New accommodation type found: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - New accommodation type found: Residences
2025-02-05 20:20:41,806 - src.logger - DEBUG - Merging result 16/24
2025-02-05 20:20:41,806 - src.logger - DEBUG - Merging result 16/24
2025-02-05 20:20:41,806 - src.logger - DEBUG - Merging result 16/24
2025-02-05 20:20:41,806 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,806 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,806 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,809 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:20:41,809 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:20:41,809 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:20:41,811 - src.logger - DEBUG - Processing location: Calgary, CA
2025-02-05 20:20:41,811 - src.logger - DEBUG - Processing location: Calgary, CA
2025-02-05 20:20:41,811 - src.logger - DEBUG - Processing location: Calgary, CA
2025-02-05 20:20:41,811 - src.logger - DEBUG - Finding location: Calgary, CA
2025-02-05 20:20:41,811 - src.logger - DEBUG - Finding location: Calgary, CA
2025-02-05 20:20:41,811 - src.logger - DEBUG - Finding location: Calgary, CA
2025-02-05 20:20:41,812 - src.logger - DEBUG - New location found: Calgary
2025-02-05 20:20:41,812 - src.logger - DEBUG - New location found: Calgary
2025-02-05 20:20:41,812 - src.logger - DEBUG - New location found: Calgary
2025-02-05 20:20:41,812 - src.logger - DEBUG - Merging result 17/24
2025-02-05 20:20:41,812 - src.logger - DEBUG - Merging result 17/24
2025-02-05 20:20:41,812 - src.logger - DEBUG - Merging result 17/24
2025-02-05 20:20:41,812 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,812 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,812 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,814 - src.logger - INFO - Merging 11 locations with 1 locations
2025-02-05 20:20:41,814 - src.logger - INFO - Merging 11 locations with 1 locations
2025-02-05 20:20:41,814 - src.logger - INFO - Merging 11 locations with 1 locations
2025-02-05 20:20:41,817 - src.logger - DEBUG - Processing location: Calgary, CA
2025-02-05 20:20:41,817 - src.logger - DEBUG - Processing location: Calgary, CA
2025-02-05 20:20:41,817 - src.logger - DEBUG - Processing location: Calgary, CA
2025-02-05 20:20:41,817 - src.logger - DEBUG - Finding location: Calgary, CA
2025-02-05 20:20:41,817 - src.logger - DEBUG - Finding location: Calgary, CA
2025-02-05 20:20:41,817 - src.logger - DEBUG - Finding location: Calgary, CA
2025-02-05 20:20:41,817 - src.logger - DEBUG - Merging location details for Calgary
2025-02-05 20:20:41,817 - src.logger - DEBUG - Merging location details for Calgary
2025-02-05 20:20:41,817 - src.logger - DEBUG - Merging location details for Calgary
2025-02-05 20:20:41,817 - src.logger - INFO - Merging 4 courses with 0 courses
2025-02-05 20:20:41,817 - src.logger - INFO - Merging 4 courses with 0 courses
2025-02-05 20:20:41,817 - src.logger - INFO - Merging 4 courses with 0 courses
2025-02-05 20:20:41,819 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,819 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,819 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,820 - src.logger - DEBUG - Processing accommodation type: Homestay Age 16+
2025-02-05 20:20:41,820 - src.logger - DEBUG - Processing accommodation type: Homestay Age 16+
2025-02-05 20:20:41,820 - src.logger - DEBUG - Processing accommodation type: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Finding accommodation type: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Finding accommodation type: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Finding accommodation type: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - New accommodation type found: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - New accommodation type found: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - New accommodation type found: Homestay Age 16+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Processing accommodation type: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Processing accommodation type: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Processing accommodation type: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Finding accommodation type: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Finding accommodation type: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Finding accommodation type: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - New accommodation type found: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - New accommodation type found: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - New accommodation type found: Student Residences Age 18+
2025-02-05 20:20:41,821 - src.logger - DEBUG - Merging result 18/24
2025-02-05 20:20:41,821 - src.logger - DEBUG - Merging result 18/24
2025-02-05 20:20:41,821 - src.logger - DEBUG - Merging result 18/24
2025-02-05 20:20:41,822 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,822 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,822 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,824 - src.logger - INFO - Merging 11 locations with 1 locations
2025-02-05 20:20:41,824 - src.logger - INFO - Merging 11 locations with 1 locations
2025-02-05 20:20:41,824 - src.logger - INFO - Merging 11 locations with 1 locations
2025-02-05 20:20:41,826 - src.logger - DEBUG - Processing location: Paris, FR
2025-02-05 20:20:41,826 - src.logger - DEBUG - Processing location: Paris, FR
2025-02-05 20:20:41,826 - src.logger - DEBUG - Processing location: Paris, FR
2025-02-05 20:20:41,826 - src.logger - DEBUG - Finding location: Paris, FR
2025-02-05 20:20:41,826 - src.logger - DEBUG - Finding location: Paris, FR
2025-02-05 20:20:41,826 - src.logger - DEBUG - Finding location: Paris, FR
2025-02-05 20:20:41,826 - src.logger - DEBUG - New location found: Paris
2025-02-05 20:20:41,826 - src.logger - DEBUG - New location found: Paris
2025-02-05 20:20:41,826 - src.logger - DEBUG - New location found: Paris
2025-02-05 20:20:41,826 - src.logger - DEBUG - Merging result 19/24
2025-02-05 20:20:41,826 - src.logger - DEBUG - Merging result 19/24
2025-02-05 20:20:41,826 - src.logger - DEBUG - Merging result 19/24
2025-02-05 20:20:41,827 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,827 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,827 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,829 - src.logger - INFO - Merging 12 locations with 1 locations
2025-02-05 20:20:41,829 - src.logger - INFO - Merging 12 locations with 1 locations
2025-02-05 20:20:41,829 - src.logger - INFO - Merging 12 locations with 1 locations
2025-02-05 20:20:41,831 - src.logger - DEBUG - Processing location: Paris, FR
2025-02-05 20:20:41,831 - src.logger - DEBUG - Processing location: Paris, FR
2025-02-05 20:20:41,831 - src.logger - DEBUG - Processing location: Paris, FR
2025-02-05 20:20:41,831 - src.logger - DEBUG - Finding location: Paris, FR
2025-02-05 20:20:41,831 - src.logger - DEBUG - Finding location: Paris, FR
2025-02-05 20:20:41,831 - src.logger - DEBUG - Finding location: Paris, FR
2025-02-05 20:20:41,831 - src.logger - DEBUG - Merging location details for Paris
2025-02-05 20:20:41,831 - src.logger - DEBUG - Merging location details for Paris
2025-02-05 20:20:41,831 - src.logger - DEBUG - Merging location details for Paris
2025-02-05 20:20:41,831 - src.logger - INFO - Merging 6 courses with 2 courses
2025-02-05 20:20:41,831 - src.logger - INFO - Merging 6 courses with 2 courses
2025-02-05 20:20:41,831 - src.logger - INFO - Merging 6 courses with 2 courses
2025-02-05 20:20:41,832 - src.logger - DEBUG - Processing course: Standard Language Course
2025-02-05 20:20:41,832 - src.logger - DEBUG - Processing course: Standard Language Course
2025-02-05 20:20:41,832 - src.logger - DEBUG - Processing course: Standard Language Course
2025-02-05 20:20:41,833 - src.logger - DEBUG - Finding course: Standard Language Course
2025-02-05 20:20:41,833 - src.logger - DEBUG - Finding course: Standard Language Course
2025-02-05 20:20:41,833 - src.logger - DEBUG - Finding course: Standard Language Course
2025-02-05 20:20:41,833 - src.logger - DEBUG - New course found: Standard Language Course
2025-02-05 20:20:41,833 - src.logger - DEBUG - New course found: Standard Language Course
2025-02-05 20:20:41,833 - src.logger - DEBUG - New course found: Standard Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - Processing course: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - Processing course: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - Processing course: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - Finding course: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - Finding course: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - Finding course: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - New course found: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - New course found: Premium Language Course
2025-02-05 20:20:41,834 - src.logger - DEBUG - New course found: Premium Language Course
2025-02-05 20:20:41,835 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,835 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,835 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:20:41,836 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:20:41,836 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,836 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:20:41,837 - src.logger - DEBUG - Merging result 20/24
2025-02-05 20:20:41,837 - src.logger - DEBUG - Merging result 20/24
2025-02-05 20:20:41,837 - src.logger - DEBUG - Merging result 20/24
2025-02-05 20:20:41,837 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,837 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,837 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,839 - src.logger - INFO - Merging 12 locations with 1 locations
2025-02-05 20:20:41,839 - src.logger - INFO - Merging 12 locations with 1 locations
2025-02-05 20:20:41,839 - src.logger - INFO - Merging 12 locations with 1 locations
2025-02-05 20:20:41,842 - src.logger - DEBUG - Processing location: Cape Town, ZA
2025-02-05 20:20:41,842 - src.logger - DEBUG - Processing location: Cape Town, ZA
2025-02-05 20:20:41,842 - src.logger - DEBUG - Processing location: Cape Town, ZA
2025-02-05 20:20:41,842 - src.logger - DEBUG - Finding location: Cape Town, ZA
2025-02-05 20:20:41,842 - src.logger - DEBUG - Finding location: Cape Town, ZA
2025-02-05 20:20:41,842 - src.logger - DEBUG - Finding location: Cape Town, ZA
2025-02-05 20:20:41,842 - src.logger - DEBUG - New location found: Cape Town
2025-02-05 20:20:41,842 - src.logger - DEBUG - New location found: Cape Town
2025-02-05 20:20:41,842 - src.logger - DEBUG - New location found: Cape Town
2025-02-05 20:20:41,842 - src.logger - DEBUG - Merging result 21/24
2025-02-05 20:20:41,842 - src.logger - DEBUG - Merging result 21/24
2025-02-05 20:20:41,842 - src.logger - DEBUG - Merging result 21/24
2025-02-05 20:20:41,843 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,843 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,843 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,845 - src.logger - INFO - Merging 13 locations with 1 locations
2025-02-05 20:20:41,845 - src.logger - INFO - Merging 13 locations with 1 locations
2025-02-05 20:20:41,845 - src.logger - INFO - Merging 13 locations with 1 locations
2025-02-05 20:20:41,849 - src.logger - DEBUG - Processing location: Cape Town, ZA
2025-02-05 20:20:41,849 - src.logger - DEBUG - Processing location: Cape Town, ZA
2025-02-05 20:20:41,849 - src.logger - DEBUG - Processing location: Cape Town, ZA
2025-02-05 20:20:41,849 - src.logger - DEBUG - Finding location: Cape Town, ZA
2025-02-05 20:20:41,849 - src.logger - DEBUG - Finding location: Cape Town, ZA
2025-02-05 20:20:41,849 - src.logger - DEBUG - Finding location: Cape Town, ZA
2025-02-05 20:20:41,849 - src.logger - DEBUG - Merging location details for Cape Town
2025-02-05 20:20:41,849 - src.logger - DEBUG - Merging location details for Cape Town
2025-02-05 20:20:41,849 - src.logger - DEBUG - Merging location details for Cape Town
2025-02-05 20:20:41,849 - src.logger - INFO - Merging 4 courses with 1 courses
2025-02-05 20:20:41,849 - src.logger - INFO - Merging 4 courses with 1 courses
2025-02-05 20:20:41,849 - src.logger - INFO - Merging 4 courses with 1 courses
2025-02-05 20:20:41,851 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - Processing course: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - Finding course: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,851 - src.logger - DEBUG - New course found: Standard General English
2025-02-05 20:20:41,852 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:20:41,852 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:20:41,852 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:20:41,853 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,853 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,853 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:20:41,854 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,854 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,854 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:20:41,855 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,855 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,855 - src.logger - DEBUG - Updating description
2025-02-05 20:20:41,855 - src.logger - DEBUG - Processing accommodation type: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - Processing accommodation type: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - Processing accommodation type: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - Finding accommodation type: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - Finding accommodation type: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - Finding accommodation type: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - New accommodation type found: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - New accommodation type found: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - New accommodation type found: Residences
2025-02-05 20:20:41,855 - src.logger - DEBUG - Merging result 22/24
2025-02-05 20:20:41,855 - src.logger - DEBUG - Merging result 22/24
2025-02-05 20:20:41,855 - src.logger - DEBUG - Merging result 22/24
2025-02-05 20:20:41,855 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,855 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,855 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,859 - src.logger - INFO - Merging 13 locations with 1 locations
2025-02-05 20:20:41,859 - src.logger - INFO - Merging 13 locations with 1 locations
2025-02-05 20:20:41,859 - src.logger - INFO - Merging 13 locations with 1 locations
2025-02-05 20:20:41,862 - src.logger - DEBUG - Processing location: Limassol, CY
2025-02-05 20:20:41,862 - src.logger - DEBUG - Processing location: Limassol, CY
2025-02-05 20:20:41,862 - src.logger - DEBUG - Processing location: Limassol, CY
2025-02-05 20:20:41,862 - src.logger - DEBUG - Finding location: Limassol, CY
2025-02-05 20:20:41,862 - src.logger - DEBUG - Finding location: Limassol, CY
2025-02-05 20:20:41,862 - src.logger - DEBUG - Finding location: Limassol, CY
2025-02-05 20:20:41,863 - src.logger - DEBUG - New location found: Limassol
2025-02-05 20:20:41,863 - src.logger - DEBUG - New location found: Limassol
2025-02-05 20:20:41,863 - src.logger - DEBUG - New location found: Limassol
2025-02-05 20:20:41,863 - src.logger - DEBUG - Merging result 23/24
2025-02-05 20:20:41,863 - src.logger - DEBUG - Merging result 23/24
2025-02-05 20:20:41,863 - src.logger - DEBUG - Merging result 23/24
2025-02-05 20:20:41,864 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,864 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,864 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,866 - src.logger - INFO - Merging 14 locations with 1 locations
2025-02-05 20:20:41,866 - src.logger - INFO - Merging 14 locations with 1 locations
2025-02-05 20:20:41,866 - src.logger - INFO - Merging 14 locations with 1 locations
2025-02-05 20:20:41,869 - src.logger - DEBUG - Processing location: Limassol, CY
2025-02-05 20:20:41,869 - src.logger - DEBUG - Processing location: Limassol, CY
2025-02-05 20:20:41,869 - src.logger - DEBUG - Processing location: Limassol, CY
2025-02-05 20:20:41,869 - src.logger - DEBUG - Finding location: Limassol, CY
2025-02-05 20:20:41,869 - src.logger - DEBUG - Finding location: Limassol, CY
2025-02-05 20:20:41,869 - src.logger - DEBUG - Finding location: Limassol, CY
2025-02-05 20:20:41,870 - src.logger - DEBUG - Merging location details for Limassol
2025-02-05 20:20:41,870 - src.logger - DEBUG - Merging location details for Limassol
2025-02-05 20:20:41,870 - src.logger - DEBUG - Merging location details for Limassol
2025-02-05 20:20:41,870 - src.logger - INFO - Merging 3 courses with 0 courses
2025-02-05 20:20:41,870 - src.logger - INFO - Merging 3 courses with 0 courses
2025-02-05 20:20:41,870 - src.logger - INFO - Merging 3 courses with 0 courses
2025-02-05 20:20:41,871 - src.logger - INFO - Merging 0 accommodations with 4 accommodations
2025-02-05 20:20:41,871 - src.logger - INFO - Merging 0 accommodations with 4 accommodations
2025-02-05 20:20:41,871 - src.logger - INFO - Merging 0 accommodations with 4 accommodations
2025-02-05 20:20:41,872 - src.logger - DEBUG - Processing accommodation type: Hotel Age 18+
2025-02-05 20:20:41,872 - src.logger - DEBUG - Processing accommodation type: Hotel Age 18+
2025-02-05 20:20:41,872 - src.logger - DEBUG - Processing accommodation type: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Hotel Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Processing accommodation type: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Processing accommodation type: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Processing accommodation type: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Apartment Age 18+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Processing accommodation type: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Processing accommodation type: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Processing accommodation type: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - Finding accommodation type: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Homestay Age 16+
2025-02-05 20:20:41,873 - src.logger - DEBUG - New accommodation type found: Homestay Age 16+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Processing accommodation type: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Processing accommodation type: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Processing accommodation type: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Finding accommodation type: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Finding accommodation type: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Finding accommodation type: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - New accommodation type found: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - New accommodation type found: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - New accommodation type found: Summer Standard Residence Age 18+
2025-02-05 20:20:41,874 - src.logger - DEBUG - Merging result 24/24
2025-02-05 20:20:41,874 - src.logger - DEBUG - Merging result 24/24
2025-02-05 20:20:41,874 - src.logger - DEBUG - Merging result 24/24
2025-02-05 20:20:41,874 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,874 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,874 - src.logger - INFO - Merging schools
2025-02-05 20:20:41,877 - src.logger - INFO - Merging 14 locations with 1 locations
2025-02-05 20:20:41,877 - src.logger - INFO - Merging 14 locations with 1 locations
2025-02-05 20:20:41,877 - src.logger - INFO - Merging 14 locations with 1 locations
2025-02-05 20:20:41,879 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,879 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,879 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:41,880 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,880 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,880 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:41,880 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,880 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,880 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:41,880 - src.logger - INFO - Merging 17 courses with 0 courses
2025-02-05 20:20:41,880 - src.logger - INFO - Merging 17 courses with 0 courses
2025-02-05 20:20:41,880 - src.logger - INFO - Merging 17 courses with 0 courses
2025-02-05 20:20:41,881 - src.logger - INFO - Merging 3 accommodations with 0 accommodations
2025-02-05 20:20:41,881 - src.logger - INFO - Merging 3 accommodations with 0 accommodations
2025-02-05 20:20:41,881 - src.logger - INFO - Merging 3 accommodations with 0 accommodations
2025-02-05 20:20:41,883 - src.logger - INFO - Merge completed successfully
2025-02-05 20:20:41,883 - src.logger - INFO - Merge completed successfully
2025-02-05 20:20:41,883 - src.logger - INFO - Merge completed successfully
2025-02-05 20:20:41,885 - src.logger - INFO - Saving results to data/output_files/Bayswater adult_output.json
2025-02-05 20:20:41,885 - src.logger - INFO - Saving results to data/output_files/Bayswater adult_output.json
2025-02-05 20:20:41,885 - src.logger - INFO - Saving results to data/output_files/Bayswater adult_output.json
2025-02-05 20:20:41,902 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Bayswater juniors.pdf
2025-02-05 20:20:41,902 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Bayswater juniors.pdf
2025-02-05 20:20:41,902 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Bayswater juniors.pdf
2025-02-05 20:20:41,903 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:20:41,903 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:20:41,903 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:20:41,904 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:20:41,904 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:20:41,904 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:20:42,260 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Bayswater juniors.pdf
2025-02-05 20:20:42,260 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Bayswater juniors.pdf
2025-02-05 20:20:42,260 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Bayswater juniors.pdf
2025-02-05 20:20:42,323 - src.logger - INFO - Opened PDF with 2 pages
2025-02-05 20:20:42,323 - src.logger - INFO - Opened PDF with 2 pages
2025-02-05 20:20:42,323 - src.logger - INFO - Opened PDF with 2 pages
2025-02-05 20:20:42,324 - src.logger - INFO - Processing page 1/2
2025-02-05 20:20:42,324 - src.logger - INFO - Processing page 1/2
2025-02-05 20:20:42,324 - src.logger - INFO - Processing page 1/2
2025-02-05 20:20:42,436 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:42,436 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:42,436 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:42,441 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:42,441 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:42,441 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:42,451 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:42,451 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:42,451 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:42,453 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:42,453 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:42,453 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:42,454 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:42,454 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:42,454 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:42,456 - src.logger - DEBUG - Saved image to logs/image_1738768842.jpg
2025-02-05 20:20:42,456 - src.logger - DEBUG - Saved image to logs/image_1738768842.jpg
2025-02-05 20:20:42,456 - src.logger - DEBUG - Saved image to logs/image_1738768842.jpg
2025-02-05 20:20:51,861 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:51,861 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:51,861 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:51,861 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"London","country":"GB","address":"N/A","courses":[{"name":"Discover Summer Plus","lessons_per_week":20,"description":"Includes industry professional visits and related activity programs.","prices":[{"duration":"1 week","price":"£3600","currency":"GBP"}],"requirements":"Minimum B1 English level."},{"name":"Classic Course Programmes","lessons_per_week":15,"description":"Includes group lessons and activity programs.","prices":[{"duration":"1 week","price":"£1355","currency":"GBP"}],"requirements":"Available for ages 12 to 17."}],"accommodations":[{"type":"Residence","price_per_week":"Included","description":"Single en-suite rooms for students.","supplements":null}],"additional_fees":{"damage_deposit":"£20/week"}},{"city":"Brighton","country":"GB","address":"N/A","courses":[{"name":"Classic Course Programmes","lessons_per_week":15,"description":"Includes group lessons and activity programs.","prices":[{"duration":"1 week","price":"£705","currency":"GBP"}],"requirements":"Available for ages 12 to 17."}],"accommodations":[{"type":"Homestay","price_per_week":"Included","description":"Shared rooms for students.","supplements":null}],"additional_fees":{"damage_deposit":"£20/week"}}],"terms":{"cancellation":"Non-refundable deposit upon booking.","travel_requirements":"Students to provide travel arrangements themselves if required."},"repeat":false}
2025-02-05 20:20:51,861 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"London","country":"GB","address":"N/A","courses":[{"name":"Discover Summer Plus","lessons_per_week":20,"description":"Includes industry professional visits and related activity programs.","prices":[{"duration":"1 week","price":"£3600","currency":"GBP"}],"requirements":"Minimum B1 English level."},{"name":"Classic Course Programmes","lessons_per_week":15,"description":"Includes group lessons and activity programs.","prices":[{"duration":"1 week","price":"£1355","currency":"GBP"}],"requirements":"Available for ages 12 to 17."}],"accommodations":[{"type":"Residence","price_per_week":"Included","description":"Single en-suite rooms for students.","supplements":null}],"additional_fees":{"damage_deposit":"£20/week"}},{"city":"Brighton","country":"GB","address":"N/A","courses":[{"name":"Classic Course Programmes","lessons_per_week":15,"description":"Includes group lessons and activity programs.","prices":[{"duration":"1 week","price":"£705","currency":"GBP"}],"requirements":"Available for ages 12 to 17."}],"accommodations":[{"type":"Homestay","price_per_week":"Included","description":"Shared rooms for students.","supplements":null}],"additional_fees":{"damage_deposit":"£20/week"}}],"terms":{"cancellation":"Non-refundable deposit upon booking.","travel_requirements":"Students to provide travel arrangements themselves if required."},"repeat":false}
2025-02-05 20:20:51,861 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater","locations":[{"city":"London","country":"GB","address":"N/A","courses":[{"name":"Discover Summer Plus","lessons_per_week":20,"description":"Includes industry professional visits and related activity programs.","prices":[{"duration":"1 week","price":"£3600","currency":"GBP"}],"requirements":"Minimum B1 English level."},{"name":"Classic Course Programmes","lessons_per_week":15,"description":"Includes group lessons and activity programs.","prices":[{"duration":"1 week","price":"£1355","currency":"GBP"}],"requirements":"Available for ages 12 to 17."}],"accommodations":[{"type":"Residence","price_per_week":"Included","description":"Single en-suite rooms for students.","supplements":null}],"additional_fees":{"damage_deposit":"£20/week"}},{"city":"Brighton","country":"GB","address":"N/A","courses":[{"name":"Classic Course Programmes","lessons_per_week":15,"description":"Includes group lessons and activity programs.","prices":[{"duration":"1 week","price":"£705","currency":"GBP"}],"requirements":"Available for ages 12 to 17."}],"accommodations":[{"type":"Homestay","price_per_week":"Included","description":"Shared rooms for students.","supplements":null}],"additional_fees":{"damage_deposit":"£20/week"}}],"terms":{"cancellation":"Non-refundable deposit upon booking.","travel_requirements":"Students to provide travel arrangements themselves if required."},"repeat":false}
2025-02-05 20:20:51,861 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:51,861 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:51,861 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:51,863 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:20:51,863 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:20:51,863 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:20:51,865 - src.logger - INFO - Processing page 2/2
2025-02-05 20:20:51,865 - src.logger - INFO - Processing page 2/2
2025-02-05 20:20:51,865 - src.logger - INFO - Processing page 2/2
2025-02-05 20:20:52,029 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:52,029 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:52,029 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:20:52,036 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:52,036 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:52,036 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:20:52,047 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:52,047 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:52,047 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:20:52,049 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:52,049 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:52,049 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:20:52,050 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:52,050 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:52,050 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:20:52,052 - src.logger - DEBUG - Saved image to logs/image_1738768852.jpg
2025-02-05 20:20:52,052 - src.logger - DEBUG - Saved image to logs/image_1738768852.jpg
2025-02-05 20:20:52,052 - src.logger - DEBUG - Saved image to logs/image_1738768852.jpg
2025-02-05 20:20:59,319 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:59,319 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:59,319 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:20:59,320 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Summer Individuals","locations":[{"city":"London","country":"GB","address":"Not specified for London","courses":[{"name":"Day Camp","lessons_per_week":15,"description":"Includes tuition, lunch, and activities.","prices":[{"duration":"1 week","price":"£450","currency":"GBP"}]	         , "requirements":null},{"name":"Parent & Child Tuition Only","lessons_per_week":15,"description":"Parents attend classes alongside children.","prices":[{"duration":"1 week","price":"£360","currency":"GBP"}], "requirements":null}],"accommodations":[],"additional_fees":{"registration":"£60"}},{"city":"Brighton","country":"GB","address":"Not specified for Brighton","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:20:59,320 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Summer Individuals","locations":[{"city":"London","country":"GB","address":"Not specified for London","courses":[{"name":"Day Camp","lessons_per_week":15,"description":"Includes tuition, lunch, and activities.","prices":[{"duration":"1 week","price":"£450","currency":"GBP"}]	         , "requirements":null},{"name":"Parent & Child Tuition Only","lessons_per_week":15,"description":"Parents attend classes alongside children.","prices":[{"duration":"1 week","price":"£360","currency":"GBP"}], "requirements":null}],"accommodations":[],"additional_fees":{"registration":"£60"}},{"city":"Brighton","country":"GB","address":"Not specified for Brighton","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:20:59,320 - src.logger - DEBUG - Raw API response content: {"name":"Bayswater Summer Individuals","locations":[{"city":"London","country":"GB","address":"Not specified for London","courses":[{"name":"Day Camp","lessons_per_week":15,"description":"Includes tuition, lunch, and activities.","prices":[{"duration":"1 week","price":"£450","currency":"GBP"}]	         , "requirements":null},{"name":"Parent & Child Tuition Only","lessons_per_week":15,"description":"Parents attend classes alongside children.","prices":[{"duration":"1 week","price":"£360","currency":"GBP"}], "requirements":null}],"accommodations":[],"additional_fees":{"registration":"£60"}},{"city":"Brighton","country":"GB","address":"Not specified for Brighton","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":false}
2025-02-05 20:20:59,320 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:59,320 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:59,320 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:20:59,322 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:20:59,322 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:20:59,322 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:20:59,323 - src.logger - INFO - PDF processing completed
2025-02-05 20:20:59,323 - src.logger - INFO - PDF processing completed
2025-02-05 20:20:59,323 - src.logger - INFO - PDF processing completed
2025-02-05 20:20:59,324 - src.logger - INFO - Starting merge of 2 results
2025-02-05 20:20:59,324 - src.logger - INFO - Starting merge of 2 results
2025-02-05 20:20:59,324 - src.logger - INFO - Starting merge of 2 results
2025-02-05 20:20:59,325 - src.logger - DEBUG - Merging result 1/2
2025-02-05 20:20:59,325 - src.logger - DEBUG - Merging result 1/2
2025-02-05 20:20:59,325 - src.logger - DEBUG - Merging result 1/2
2025-02-05 20:20:59,326 - src.logger - INFO - Merging schools
2025-02-05 20:20:59,326 - src.logger - INFO - Merging schools
2025-02-05 20:20:59,326 - src.logger - INFO - Merging schools
2025-02-05 20:20:59,327 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:20:59,327 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:20:59,327 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:20:59,327 - src.logger - DEBUG - Merging result 2/2
2025-02-05 20:20:59,327 - src.logger - DEBUG - Merging result 2/2
2025-02-05 20:20:59,327 - src.logger - DEBUG - Merging result 2/2
2025-02-05 20:20:59,328 - src.logger - INFO - Merging schools
2025-02-05 20:20:59,328 - src.logger - INFO - Merging schools
2025-02-05 20:20:59,328 - src.logger - INFO - Merging schools
2025-02-05 20:20:59,329 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:20:59,329 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:20:59,329 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:20:59,331 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:59,331 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:59,331 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:20:59,331 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:59,331 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:59,331 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:20:59,331 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:59,331 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:59,331 - src.logger - DEBUG - Merging location details for London
2025-02-05 20:20:59,332 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:20:59,332 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:20:59,332 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:20:59,333 - src.logger - DEBUG - Processing course: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - Processing course: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - Processing course: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - Finding course: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - Finding course: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - Finding course: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - New course found: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - New course found: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - New course found: Day Camp
2025-02-05 20:20:59,333 - src.logger - DEBUG - Processing course: Parent & Child Tuition Only
2025-02-05 20:20:59,333 - src.logger - DEBUG - Processing course: Parent & Child Tuition Only
2025-02-05 20:20:59,333 - src.logger - DEBUG - Processing course: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - DEBUG - Finding course: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - DEBUG - Finding course: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - DEBUG - Finding course: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - DEBUG - New course found: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - DEBUG - New course found: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - DEBUG - New course found: Parent & Child Tuition Only
2025-02-05 20:20:59,334 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:20:59,334 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:20:59,334 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:20:59,335 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:59,335 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:59,335 - src.logger - DEBUG - Processing location: Brighton, GB
2025-02-05 20:20:59,336 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:59,336 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:59,336 - src.logger - DEBUG - Finding location: Brighton, GB
2025-02-05 20:20:59,336 - src.logger - DEBUG - Merging location details for Brighton
2025-02-05 20:20:59,336 - src.logger - DEBUG - Merging location details for Brighton
2025-02-05 20:20:59,336 - src.logger - DEBUG - Merging location details for Brighton
2025-02-05 20:20:59,336 - src.logger - INFO - Merging 1 courses with 0 courses
2025-02-05 20:20:59,336 - src.logger - INFO - Merging 1 courses with 0 courses
2025-02-05 20:20:59,336 - src.logger - INFO - Merging 1 courses with 0 courses
2025-02-05 20:20:59,337 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:20:59,337 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:20:59,337 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:20:59,338 - src.logger - INFO - Merge completed successfully
2025-02-05 20:20:59,338 - src.logger - INFO - Merge completed successfully
2025-02-05 20:20:59,338 - src.logger - INFO - Merge completed successfully
2025-02-05 20:20:59,379 - src.logger - INFO - Saving results to data/output_files/Bayswater juniors_output.json
2025-02-05 20:20:59,379 - src.logger - INFO - Saving results to data/output_files/Bayswater juniors_output.json
2025-02-05 20:20:59,379 - src.logger - INFO - Saving results to data/output_files/Bayswater juniors_output.json
2025-02-05 20:20:59,382 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Cavendish Bournemouth + Malta 2025.pdf
2025-02-05 20:20:59,382 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Cavendish Bournemouth + Malta 2025.pdf
2025-02-05 20:20:59,382 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Cavendish Bournemouth + Malta 2025.pdf
2025-02-05 20:20:59,383 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:20:59,383 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:20:59,383 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:20:59,385 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:20:59,385 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:20:59,385 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:20:59,757 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Cavendish Bournemouth + Malta 2025.pdf
2025-02-05 20:20:59,757 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Cavendish Bournemouth + Malta 2025.pdf
2025-02-05 20:20:59,757 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Cavendish Bournemouth + Malta 2025.pdf
2025-02-05 20:20:59,837 - src.logger - INFO - Opened PDF with 12 pages
2025-02-05 20:20:59,837 - src.logger - INFO - Opened PDF with 12 pages
2025-02-05 20:20:59,837 - src.logger - INFO - Opened PDF with 12 pages
2025-02-05 20:20:59,839 - src.logger - INFO - Processing page 1/12
2025-02-05 20:20:59,839 - src.logger - INFO - Processing page 1/12
2025-02-05 20:20:59,839 - src.logger - INFO - Processing page 1/12
2025-02-05 20:21:00,086 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:00,086 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:00,086 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:00,095 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:00,095 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:00,095 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:00,105 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:00,105 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:00,105 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:00,107 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:00,107 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:00,107 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:00,108 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:00,108 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:00,108 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:00,110 - src.logger - DEBUG - Saved image to logs/image_1738768860.jpg
2025-02-05 20:21:00,110 - src.logger - DEBUG - Saved image to logs/image_1738768860.jpg
2025-02-05 20:21:00,110 - src.logger - DEBUG - Saved image to logs/image_1738768860.jpg
2025-02-05 20:21:09,055 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:09,055 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:09,055 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:09,055 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "UK",
            "address": "Address not displayed on image",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Valletta",
            "country": "MT",
            "address": "Address not displayed on image",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:21:09,055 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "UK",
            "address": "Address not displayed on image",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Valletta",
            "country": "MT",
            "address": "Address not displayed on image",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:21:09,055 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "UK",
            "address": "Address not displayed on image",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        },
        {
            "city": "Valletta",
            "country": "MT",
            "address": "Address not displayed on image",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:21:09,055 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:09,055 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:09,055 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:09,058 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:21:09,058 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:21:09,058 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:21:09,059 - src.logger - INFO - Processing page 2/12
2025-02-05 20:21:09,059 - src.logger - INFO - Processing page 2/12
2025-02-05 20:21:09,059 - src.logger - INFO - Processing page 2/12
2025-02-05 20:21:09,075 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:09,075 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:09,075 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:09,082 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:09,082 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:09,082 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:09,092 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:09,092 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:09,092 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:09,094 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:09,094 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:09,094 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:09,095 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:09,095 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:09,095 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:09,096 - src.logger - DEBUG - Saved image to logs/image_1738768869.jpg
2025-02-05 20:21:09,096 - src.logger - DEBUG - Saved image to logs/image_1738768869.jpg
2025-02-05 20:21:09,096 - src.logger - DEBUG - Saved image to logs/image_1738768869.jpg
2025-02-05 20:21:25,230 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:25,230 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:25,230 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:25,230 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"GB","address":"-","courses":[{"name":"General / Intensive / Business English","lessons_per_week":20,"description":"General English and specialized business courses.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination Programs","lessons_per_week":20,"description":"Examination preparation courses for C1, C2, and C3.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"See pricing booklet.","description":"Homestay accommodation for students.","supplements":null}],"additional_fees":{"registration":"See pricing conditions."}},{"city":"Malta","country":"MT","address":"-","courses":[{"name":"General / Intensive / Business English","lessons_per_week":20,"description":"General English and specialized business courses.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"EUR"}],"requirements":null},{"name":"Cambridge and IELTS Examination Programs","lessons_per_week":20,"description":"Examination preparation courses for C1, C2, and C3.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"See pricing booklet.","description":"Homestay accommodation for students.","supplements":null},{"type":"Residence","price_per_week":"See pricing booklet.","description":"Residential accommodation option.","supplements":null},{"type":"Hotel","price_per_week":"See pricing booklet.","description":"Hotel accommodation option.","supplements":null}],"additional_fees":{"registration":"See pricing conditions."}}],"terms":{"cancellation":"Please refer to the Enrolment Conditions document."},"repeat":true}
2025-02-05 20:21:25,230 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"GB","address":"-","courses":[{"name":"General / Intensive / Business English","lessons_per_week":20,"description":"General English and specialized business courses.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination Programs","lessons_per_week":20,"description":"Examination preparation courses for C1, C2, and C3.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"See pricing booklet.","description":"Homestay accommodation for students.","supplements":null}],"additional_fees":{"registration":"See pricing conditions."}},{"city":"Malta","country":"MT","address":"-","courses":[{"name":"General / Intensive / Business English","lessons_per_week":20,"description":"General English and specialized business courses.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"EUR"}],"requirements":null},{"name":"Cambridge and IELTS Examination Programs","lessons_per_week":20,"description":"Examination preparation courses for C1, C2, and C3.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"See pricing booklet.","description":"Homestay accommodation for students.","supplements":null},{"type":"Residence","price_per_week":"See pricing booklet.","description":"Residential accommodation option.","supplements":null},{"type":"Hotel","price_per_week":"See pricing booklet.","description":"Hotel accommodation option.","supplements":null}],"additional_fees":{"registration":"See pricing conditions."}}],"terms":{"cancellation":"Please refer to the Enrolment Conditions document."},"repeat":true}
2025-02-05 20:21:25,230 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"GB","address":"-","courses":[{"name":"General / Intensive / Business English","lessons_per_week":20,"description":"General English and specialized business courses.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination Programs","lessons_per_week":20,"description":"Examination preparation courses for C1, C2, and C3.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"See pricing booklet.","description":"Homestay accommodation for students.","supplements":null}],"additional_fees":{"registration":"See pricing conditions."}},{"city":"Malta","country":"MT","address":"-","courses":[{"name":"General / Intensive / Business English","lessons_per_week":20,"description":"General English and specialized business courses.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"EUR"}],"requirements":null},{"name":"Cambridge and IELTS Examination Programs","lessons_per_week":20,"description":"Examination preparation courses for C1, C2, and C3.","prices":[{"duration":"-","price":"See pricing booklet.","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"See pricing booklet.","description":"Homestay accommodation for students.","supplements":null},{"type":"Residence","price_per_week":"See pricing booklet.","description":"Residential accommodation option.","supplements":null},{"type":"Hotel","price_per_week":"See pricing booklet.","description":"Hotel accommodation option.","supplements":null}],"additional_fees":{"registration":"See pricing conditions."}}],"terms":{"cancellation":"Please refer to the Enrolment Conditions document."},"repeat":true}
2025-02-05 20:21:25,230 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:25,230 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:25,230 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:25,233 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:21:25,233 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:21:25,233 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:21:25,234 - src.logger - INFO - Repeat flag set. Processing page 2 again (attempt 2)
2025-02-05 20:21:25,234 - src.logger - INFO - Repeat flag set. Processing page 2 again (attempt 2)
2025-02-05 20:21:25,234 - src.logger - INFO - Repeat flag set. Processing page 2 again (attempt 2)
2025-02-05 20:21:25,235 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:25,235 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:25,235 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:25,242 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:25,242 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:25,242 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:25,250 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:25,250 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:25,250 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:25,252 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:25,252 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:25,252 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:25,253 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "Bournemouth",
        "country": "GB",
        "address": "-",
        "courses": [
          {
            "name": "General / Intensive / Business English",
            "lessons_per_week": 20,
            "description": "General English and specialized business courses.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Cambridge and IELTS Examination Programs",
            "lessons_per_week": 20,
            "description": "Examination preparation courses for C1, C2, and C3.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [
          {
            "type": "Homestay",
            "price_per_week": "See pricing booklet.",
            "description": "Homestay accommodation for students.",
            "supplements": null
          }
        ],
        "additional_fees": {
          "registration": "See pricing conditions."
        }
      },
      {
        "city": "Malta",
        "country": "MT",
        "address": "-",
        "courses": [
          {
            "name": "General / Intensive / Business English",
            "lessons_per_week": 20,
            "description": "General English and specialized business courses.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Cambridge and IELTS Examination Programs",
            "lessons_per_week": 20,
            "description": "Examination preparation courses for C1, C2, and C3.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [
          {
            "type": "Homestay",
            "price_per_week": "See pricing booklet.",
            "description": "Homestay accommodation for students.",
            "supplements": null
          },
          {
            "type": "Residence",
            "price_per_week": "See pricing booklet.",
            "description": "Residential accommodation option.",
            "supplements": null
          },
          {
            "type": "Hotel",
            "price_per_week": "See pricing booklet.",
            "description": "Hotel accommodation option.",
            "supplements": null
          }
        ],
        "additional_fees": {
          "registration": "See pricing conditions."
        }
      }
    ],
    "terms": {
      "cancellation": "Please refer to the Enrolment Conditions document."
    },
    "repeat": true
  }
]
2025-02-05 20:21:25,253 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "Bournemouth",
        "country": "GB",
        "address": "-",
        "courses": [
          {
            "name": "General / Intensive / Business English",
            "lessons_per_week": 20,
            "description": "General English and specialized business courses.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Cambridge and IELTS Examination Programs",
            "lessons_per_week": 20,
            "description": "Examination preparation courses for C1, C2, and C3.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [
          {
            "type": "Homestay",
            "price_per_week": "See pricing booklet.",
            "description": "Homestay accommodation for students.",
            "supplements": null
          }
        ],
        "additional_fees": {
          "registration": "See pricing conditions."
        }
      },
      {
        "city": "Malta",
        "country": "MT",
        "address": "-",
        "courses": [
          {
            "name": "General / Intensive / Business English",
            "lessons_per_week": 20,
            "description": "General English and specialized business courses.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Cambridge and IELTS Examination Programs",
            "lessons_per_week": 20,
            "description": "Examination preparation courses for C1, C2, and C3.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [
          {
            "type": "Homestay",
            "price_per_week": "See pricing booklet.",
            "description": "Homestay accommodation for students.",
            "supplements": null
          },
          {
            "type": "Residence",
            "price_per_week": "See pricing booklet.",
            "description": "Residential accommodation option.",
            "supplements": null
          },
          {
            "type": "Hotel",
            "price_per_week": "See pricing booklet.",
            "description": "Hotel accommodation option.",
            "supplements": null
          }
        ],
        "additional_fees": {
          "registration": "See pricing conditions."
        }
      }
    ],
    "terms": {
      "cancellation": "Please refer to the Enrolment Conditions document."
    },
    "repeat": true
  }
]
2025-02-05 20:21:25,253 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "Bournemouth",
        "country": "GB",
        "address": "-",
        "courses": [
          {
            "name": "General / Intensive / Business English",
            "lessons_per_week": 20,
            "description": "General English and specialized business courses.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Cambridge and IELTS Examination Programs",
            "lessons_per_week": 20,
            "description": "Examination preparation courses for C1, C2, and C3.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [
          {
            "type": "Homestay",
            "price_per_week": "See pricing booklet.",
            "description": "Homestay accommodation for students.",
            "supplements": null
          }
        ],
        "additional_fees": {
          "registration": "See pricing conditions."
        }
      },
      {
        "city": "Malta",
        "country": "MT",
        "address": "-",
        "courses": [
          {
            "name": "General / Intensive / Business English",
            "lessons_per_week": 20,
            "description": "General English and specialized business courses.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Cambridge and IELTS Examination Programs",
            "lessons_per_week": 20,
            "description": "Examination preparation courses for C1, C2, and C3.",
            "prices": [
              {
                "duration": "-",
                "price": "See pricing booklet.",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [
          {
            "type": "Homestay",
            "price_per_week": "See pricing booklet.",
            "description": "Homestay accommodation for students.",
            "supplements": null
          },
          {
            "type": "Residence",
            "price_per_week": "See pricing booklet.",
            "description": "Residential accommodation option.",
            "supplements": null
          },
          {
            "type": "Hotel",
            "price_per_week": "See pricing booklet.",
            "description": "Hotel accommodation option.",
            "supplements": null
          }
        ],
        "additional_fees": {
          "registration": "See pricing conditions."
        }
      }
    ],
    "terms": {
      "cancellation": "Please refer to the Enrolment Conditions document."
    },
    "repeat": true
  }
]
2025-02-05 20:21:25,255 - src.logger - DEBUG - Saved image to logs/image_1738768885.jpg
2025-02-05 20:21:25,255 - src.logger - DEBUG - Saved image to logs/image_1738768885.jpg
2025-02-05 20:21:25,255 - src.logger - DEBUG - Saved image to logs/image_1738768885.jpg
2025-02-05 20:21:35,817 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:35,817 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:35,817 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:35,817 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "GB",
            "address": "-",
            "courses": [
                {
                    "name": "One to One Tuition",
                    "lessons_per_week": 1,
                    "description": "Individual tuition tailored to student needs.",
                    "prices": [
                        {
                            "duration": "-",
                            "price": "See pricing document.",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Junior Courses - Seasonal",
                    "lessons_per_week": 20,
                    "description": "Courses available during spring, autumn, winter, and summer.",
                    "prices": [
                        {
                            "duration": "-",
                            "price": "See pricing document.",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Refer to the enrolment conditions."
    },
    "repeat": false
}
2025-02-05 20:21:35,817 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "GB",
            "address": "-",
            "courses": [
                {
                    "name": "One to One Tuition",
                    "lessons_per_week": 1,
                    "description": "Individual tuition tailored to student needs.",
                    "prices": [
                        {
                            "duration": "-",
                            "price": "See pricing document.",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Junior Courses - Seasonal",
                    "lessons_per_week": 20,
                    "description": "Courses available during spring, autumn, winter, and summer.",
                    "prices": [
                        {
                            "duration": "-",
                            "price": "See pricing document.",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Refer to the enrolment conditions."
    },
    "repeat": false
}
2025-02-05 20:21:35,817 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "GB",
            "address": "-",
            "courses": [
                {
                    "name": "One to One Tuition",
                    "lessons_per_week": 1,
                    "description": "Individual tuition tailored to student needs.",
                    "prices": [
                        {
                            "duration": "-",
                            "price": "See pricing document.",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Junior Courses - Seasonal",
                    "lessons_per_week": 20,
                    "description": "Courses available during spring, autumn, winter, and summer.",
                    "prices": [
                        {
                            "duration": "-",
                            "price": "See pricing document.",
                            "currency": "GBP"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Refer to the enrolment conditions."
    },
    "repeat": false
}
2025-02-05 20:21:35,817 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:35,817 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:35,817 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:35,820 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:21:35,820 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:21:35,820 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:21:35,822 - src.logger - INFO - Processing page 3/12
2025-02-05 20:21:35,822 - src.logger - INFO - Processing page 3/12
2025-02-05 20:21:35,822 - src.logger - INFO - Processing page 3/12
2025-02-05 20:21:35,929 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:35,929 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:35,929 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:35,936 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:35,936 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:35,936 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:35,948 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:35,948 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:35,948 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:35,950 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:35,950 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:35,950 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:35,952 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:35,952 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:35,952 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:21:35,954 - src.logger - DEBUG - Saved image to logs/image_1738768895.jpg
2025-02-05 20:21:35,954 - src.logger - DEBUG - Saved image to logs/image_1738768895.jpg
2025-02-05 20:21:35,954 - src.logger - DEBUG - Saved image to logs/image_1738768895.jpg
2025-02-05 20:21:48,372 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:48,372 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:48,372 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:21:48,372 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"England","country":"GB","address":"Not specified","courses":[{"name":"General English","lessons_per_week":20,"description":"4 free conversation sessions (15 hours + 3 hours)","prices":[{"duration":"1-12 weeks","price":"£245","currency":"GBP"},{"duration":"13-25 weeks","price":"£225","currency":"GBP"},{"duration":"26+ weeks","price":"£205","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)","prices":[{"duration":"1-12 weeks","price":"£285","currency":"GBP"},{"duration":"13-25 weeks","price":"£265","currency":"GBP"},{"duration":"26+ weeks","price":"£245","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"enrollment_fee":"£70","accommodation_registration_fee":"£35"}}],"terms":{"cancellation":"Provide cancellation at least 14 days before the start of the course."},"repeat":true}
2025-02-05 20:21:48,372 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"England","country":"GB","address":"Not specified","courses":[{"name":"General English","lessons_per_week":20,"description":"4 free conversation sessions (15 hours + 3 hours)","prices":[{"duration":"1-12 weeks","price":"£245","currency":"GBP"},{"duration":"13-25 weeks","price":"£225","currency":"GBP"},{"duration":"26+ weeks","price":"£205","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)","prices":[{"duration":"1-12 weeks","price":"£285","currency":"GBP"},{"duration":"13-25 weeks","price":"£265","currency":"GBP"},{"duration":"26+ weeks","price":"£245","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"enrollment_fee":"£70","accommodation_registration_fee":"£35"}}],"terms":{"cancellation":"Provide cancellation at least 14 days before the start of the course."},"repeat":true}
2025-02-05 20:21:48,372 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"England","country":"GB","address":"Not specified","courses":[{"name":"General English","lessons_per_week":20,"description":"4 free conversation sessions (15 hours + 3 hours)","prices":[{"duration":"1-12 weeks","price":"£245","currency":"GBP"},{"duration":"13-25 weeks","price":"£225","currency":"GBP"},{"duration":"26+ weeks","price":"£205","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":25,"description":"20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)","prices":[{"duration":"1-12 weeks","price":"£285","currency":"GBP"},{"duration":"13-25 weeks","price":"£265","currency":"GBP"},{"duration":"26+ weeks","price":"£245","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"enrollment_fee":"£70","accommodation_registration_fee":"£35"}}],"terms":{"cancellation":"Provide cancellation at least 14 days before the start of the course."},"repeat":true}
2025-02-05 20:21:48,372 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:48,372 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:48,372 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:21:48,374 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:21:48,374 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:21:48,374 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:21:48,375 - src.logger - INFO - Repeat flag set. Processing page 3 again (attempt 2)
2025-02-05 20:21:48,375 - src.logger - INFO - Repeat flag set. Processing page 3 again (attempt 2)
2025-02-05 20:21:48,375 - src.logger - INFO - Repeat flag set. Processing page 3 again (attempt 2)
2025-02-05 20:21:48,376 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:48,376 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:48,376 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:21:48,383 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:48,383 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:48,383 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:21:48,394 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:48,394 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:48,394 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:21:48,396 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:48,396 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:48,396 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:21:48,398 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "General English",
            "lessons_per_week": 20,
            "description": "4 free conversation sessions (15 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3225",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3205",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 25,
            "description": "20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  }
]
2025-02-05 20:21:48,398 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "General English",
            "lessons_per_week": 20,
            "description": "4 free conversation sessions (15 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3225",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3205",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 25,
            "description": "20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  }
]
2025-02-05 20:21:48,398 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "General English",
            "lessons_per_week": 20,
            "description": "4 free conversation sessions (15 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3225",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3205",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 25,
            "description": "20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  }
]
2025-02-05 20:21:48,399 - src.logger - DEBUG - Saved image to logs/image_1738768908.jpg
2025-02-05 20:21:48,399 - src.logger - DEBUG - Saved image to logs/image_1738768908.jpg
2025-02-05 20:21:48,399 - src.logger - DEBUG - Saved image to logs/image_1738768908.jpg
2025-02-05 20:22:03,841 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:03,841 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:03,841 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:03,841 - src.logger - DEBUG - Raw API response content: { "name": "Cavendish School of English", "locations": [ { "city": "England", "country": "GB", "address": "Not specified", "courses": [ { "name": "Super Intensive English", "lessons_per_week": 30, "description": "(20 General English AM + 10 Intensive English PM) + 4 free conversation sessions (22.5 hours + 3 hours)", "prices": [ {"duration": "1-12 weeks", "price": "£305", "currency": "GBP"}, {"duration": "13-25 weeks", "price": "£285", "currency": "GBP"}, {"duration": "26+ weeks", "price": "£265", "currency": "GBP"} ], "requirements": null }, { "name": "Business English", "lessons_per_week": 25, "description": "(20 General English AM + 5 Intensive Business PM) + 4 free conversation sessions (18.8 hours+3 hours)", "prices": [ {"duration": "1-12 weeks", "price": "£315", "currency": "GBP"}, {"duration": "13-25 weeks", "price": "£295", "currency": "GBP"}, {"duration": "26+ weeks", "price": "£275", "currency": "GBP"} ], "requirements": null } ], "accommodations": [], "additional_fees": { "enrollment_fee": "£70", "accommodation_registration_fee": "£35" } } ], "terms": { "cancellation": "Provide cancellation at least 14 days before the start of the course." }, "repeat": true }
2025-02-05 20:22:03,841 - src.logger - DEBUG - Raw API response content: { "name": "Cavendish School of English", "locations": [ { "city": "England", "country": "GB", "address": "Not specified", "courses": [ { "name": "Super Intensive English", "lessons_per_week": 30, "description": "(20 General English AM + 10 Intensive English PM) + 4 free conversation sessions (22.5 hours + 3 hours)", "prices": [ {"duration": "1-12 weeks", "price": "£305", "currency": "GBP"}, {"duration": "13-25 weeks", "price": "£285", "currency": "GBP"}, {"duration": "26+ weeks", "price": "£265", "currency": "GBP"} ], "requirements": null }, { "name": "Business English", "lessons_per_week": 25, "description": "(20 General English AM + 5 Intensive Business PM) + 4 free conversation sessions (18.8 hours+3 hours)", "prices": [ {"duration": "1-12 weeks", "price": "£315", "currency": "GBP"}, {"duration": "13-25 weeks", "price": "£295", "currency": "GBP"}, {"duration": "26+ weeks", "price": "£275", "currency": "GBP"} ], "requirements": null } ], "accommodations": [], "additional_fees": { "enrollment_fee": "£70", "accommodation_registration_fee": "£35" } } ], "terms": { "cancellation": "Provide cancellation at least 14 days before the start of the course." }, "repeat": true }
2025-02-05 20:22:03,841 - src.logger - DEBUG - Raw API response content: { "name": "Cavendish School of English", "locations": [ { "city": "England", "country": "GB", "address": "Not specified", "courses": [ { "name": "Super Intensive English", "lessons_per_week": 30, "description": "(20 General English AM + 10 Intensive English PM) + 4 free conversation sessions (22.5 hours + 3 hours)", "prices": [ {"duration": "1-12 weeks", "price": "£305", "currency": "GBP"}, {"duration": "13-25 weeks", "price": "£285", "currency": "GBP"}, {"duration": "26+ weeks", "price": "£265", "currency": "GBP"} ], "requirements": null }, { "name": "Business English", "lessons_per_week": 25, "description": "(20 General English AM + 5 Intensive Business PM) + 4 free conversation sessions (18.8 hours+3 hours)", "prices": [ {"duration": "1-12 weeks", "price": "£315", "currency": "GBP"}, {"duration": "13-25 weeks", "price": "£295", "currency": "GBP"}, {"duration": "26+ weeks", "price": "£275", "currency": "GBP"} ], "requirements": null } ], "accommodations": [], "additional_fees": { "enrollment_fee": "£70", "accommodation_registration_fee": "£35" } } ], "terms": { "cancellation": "Provide cancellation at least 14 days before the start of the course." }, "repeat": true }
2025-02-05 20:22:03,841 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:03,841 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:03,841 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:03,844 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:22:03,844 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:22:03,844 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:22:03,845 - src.logger - INFO - Repeat flag set. Processing page 3 again (attempt 3)
2025-02-05 20:22:03,845 - src.logger - INFO - Repeat flag set. Processing page 3 again (attempt 3)
2025-02-05 20:22:03,845 - src.logger - INFO - Repeat flag set. Processing page 3 again (attempt 3)
2025-02-05 20:22:03,847 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:03,847 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:03,847 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:03,855 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:03,855 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:03,855 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:03,865 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:03,865 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:03,865 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:03,867 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:03,867 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:03,867 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:03,870 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "General English",
            "lessons_per_week": 20,
            "description": "4 free conversation sessions (15 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3225",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3205",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 25,
            "description": "20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  },
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "Super Intensive English",
            "lessons_per_week": 30,
            "description": "(20 General English AM + 10 Intensive English PM) + 4 free conversation sessions (22.5 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3305",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Business English",
            "lessons_per_week": 25,
            "description": "(20 General English AM + 5 Intensive Business PM) + 4 free conversation sessions (18.8 hours+3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3315",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3295",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3275",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  }
]
2025-02-05 20:22:03,870 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "General English",
            "lessons_per_week": 20,
            "description": "4 free conversation sessions (15 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3225",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3205",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 25,
            "description": "20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  },
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "Super Intensive English",
            "lessons_per_week": 30,
            "description": "(20 General English AM + 10 Intensive English PM) + 4 free conversation sessions (22.5 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3305",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Business English",
            "lessons_per_week": 25,
            "description": "(20 General English AM + 5 Intensive Business PM) + 4 free conversation sessions (18.8 hours+3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3315",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3295",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3275",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  }
]
2025-02-05 20:22:03,870 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "General English",
            "lessons_per_week": 20,
            "description": "4 free conversation sessions (15 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3225",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3205",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 25,
            "description": "20 General English AM + 5 Intensive English PM) + 4 free conversation sessions (18.8 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3245",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  },
  {
    "name": "Cavendish School of English",
    "locations": [
      {
        "city": "England",
        "country": "GB",
        "address": "Not specified",
        "courses": [
          {
            "name": "Super Intensive English",
            "lessons_per_week": 30,
            "description": "(20 General English AM + 10 Intensive English PM) + 4 free conversation sessions (22.5 hours + 3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3305",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3285",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3265",
                "currency": "GBP"
              }
            ],
            "requirements": null
          },
          {
            "name": "Business English",
            "lessons_per_week": 25,
            "description": "(20 General English AM + 5 Intensive Business PM) + 4 free conversation sessions (18.8 hours+3 hours)",
            "prices": [
              {
                "duration": "1-12 weeks",
                "price": "\u00a3315",
                "currency": "GBP"
              },
              {
                "duration": "13-25 weeks",
                "price": "\u00a3295",
                "currency": "GBP"
              },
              {
                "duration": "26+ weeks",
                "price": "\u00a3275",
                "currency": "GBP"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": {
          "enrollment_fee": "\u00a370",
          "accommodation_registration_fee": "\u00a335"
        }
      }
    ],
    "terms": {
      "cancellation": "Provide cancellation at least 14 days before the start of the course."
    },
    "repeat": true
  }
]
2025-02-05 20:22:03,873 - src.logger - DEBUG - Saved image to logs/image_1738768923.jpg
2025-02-05 20:22:03,873 - src.logger - DEBUG - Saved image to logs/image_1738768923.jpg
2025-02-05 20:22:03,873 - src.logger - DEBUG - Saved image to logs/image_1738768923.jpg
2025-02-05 20:22:17,659 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:17,659 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:17,659 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:17,659 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"England","country":"GB","address":"Not specified","courses":[{"name":"Cambridge and IELTS Examination programme - FCE","lessons_per_week":25,"description":"University of Cambridge First Certificate in English with 4 free conversation lessons.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination programme - CAE","lessons_per_week":25,"description":"University of Cambridge Certificate in Advanced English with 4 free conversation lessons.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination programme - IELTS","lessons_per_week":25,"description":"IELTS exam preparation suitable for Universities and higher education.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 10 Hours","lessons_per_week":10,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£500","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 20 Hours","lessons_per_week":20,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£950","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 25 Hours","lessons_per_week":25,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£1150","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 30 Hours","lessons_per_week":30,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£1350","currency":"GBP"}],"requirements":null},{"name":"Combination Course Standard","lessons_per_week":25,"description":"General English with One-to-One PM tuition.","prices":[{"duration":"per week","price":"£445","currency":"GBP"}],"requirements":null},{"name":"Combination Course Premium","lessons_per_week":25,"description":"General English with One-to-One PM tuition.","prices":[{"duration":"per week","price":"£475","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"enrollment_fee":"£70","accommodation_registration_fee":"£35"}}],"terms":{"cancellation":"Provide cancellation at least 14 days before the start of the course."},"repeat":false}
2025-02-05 20:22:17,659 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"England","country":"GB","address":"Not specified","courses":[{"name":"Cambridge and IELTS Examination programme - FCE","lessons_per_week":25,"description":"University of Cambridge First Certificate in English with 4 free conversation lessons.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination programme - CAE","lessons_per_week":25,"description":"University of Cambridge Certificate in Advanced English with 4 free conversation lessons.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination programme - IELTS","lessons_per_week":25,"description":"IELTS exam preparation suitable for Universities and higher education.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 10 Hours","lessons_per_week":10,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£500","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 20 Hours","lessons_per_week":20,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£950","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 25 Hours","lessons_per_week":25,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£1150","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 30 Hours","lessons_per_week":30,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£1350","currency":"GBP"}],"requirements":null},{"name":"Combination Course Standard","lessons_per_week":25,"description":"General English with One-to-One PM tuition.","prices":[{"duration":"per week","price":"£445","currency":"GBP"}],"requirements":null},{"name":"Combination Course Premium","lessons_per_week":25,"description":"General English with One-to-One PM tuition.","prices":[{"duration":"per week","price":"£475","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"enrollment_fee":"£70","accommodation_registration_fee":"£35"}}],"terms":{"cancellation":"Provide cancellation at least 14 days before the start of the course."},"repeat":false}
2025-02-05 20:22:17,659 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"England","country":"GB","address":"Not specified","courses":[{"name":"Cambridge and IELTS Examination programme - FCE","lessons_per_week":25,"description":"University of Cambridge First Certificate in English with 4 free conversation lessons.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination programme - CAE","lessons_per_week":25,"description":"University of Cambridge Certificate in Advanced English with 4 free conversation lessons.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Cambridge and IELTS Examination programme - IELTS","lessons_per_week":25,"description":"IELTS exam preparation suitable for Universities and higher education.","prices":[{"duration":"4-12 weeks","price":"£285","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 10 Hours","lessons_per_week":10,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£500","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 20 Hours","lessons_per_week":20,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£950","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 25 Hours","lessons_per_week":25,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£1150","currency":"GBP"}],"requirements":null},{"name":"Intensive Individual Tuition - 30 Hours","lessons_per_week":30,"description":"Individual tuition for customized learning.","prices":[{"duration":"1-12 weeks","price":"£1350","currency":"GBP"}],"requirements":null},{"name":"Combination Course Standard","lessons_per_week":25,"description":"General English with One-to-One PM tuition.","prices":[{"duration":"per week","price":"£445","currency":"GBP"}],"requirements":null},{"name":"Combination Course Premium","lessons_per_week":25,"description":"General English with One-to-One PM tuition.","prices":[{"duration":"per week","price":"£475","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":{"enrollment_fee":"£70","accommodation_registration_fee":"£35"}}],"terms":{"cancellation":"Provide cancellation at least 14 days before the start of the course."},"repeat":false}
2025-02-05 20:22:17,660 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:17,660 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:17,660 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:17,662 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:22:17,662 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:22:17,662 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:22:17,664 - src.logger - INFO - Processing page 4/12
2025-02-05 20:22:17,664 - src.logger - INFO - Processing page 4/12
2025-02-05 20:22:17,664 - src.logger - INFO - Processing page 4/12
2025-02-05 20:22:17,806 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:17,806 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:17,806 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:17,814 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:17,814 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:17,814 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:17,833 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:17,833 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:17,833 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:17,838 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:17,838 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:17,838 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:17,840 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:17,840 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:17,840 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:17,842 - src.logger - DEBUG - Saved image to logs/image_1738768937.jpg
2025-02-05 20:22:17,842 - src.logger - DEBUG - Saved image to logs/image_1738768937.jpg
2025-02-05 20:22:17,842 - src.logger - DEBUG - Saved image to logs/image_1738768937.jpg
2025-02-05 20:22:26,057 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:26,057 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:26,057 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:26,058 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Multiple Locations in England","country":"GB","address":"Please contact the school for exact location details.","courses":[{"name":"General English Course","lessons_per_week":20,"description":"General English lessons featuring comprehensive English skills improvement.","prices":[{"duration":"2 weeks","price":"£200","currency":"GBP"},{"duration":"4 weeks","price":"£700","currency":"GBP"}],"requirements":"Basic understanding of English required."}],"accommodations":[{"type":"Homestay (Single room, half board)","price_per_week":"£180","description":"Comfortable family homestay accommodation.","supplements":{"peak_period":"£40/week"}},{"type":"Executive Homestay","price_per_week":"£245","description":"Luxury homestay for adults only.","supplements":{"peak_period":"£50/week"}}],"additional_fees":{"registration":"£50","course_book":"£40"}}],"terms":{"cancellation":"14 days notice required","refund_policy":"Administrative deduction may apply upon course cancellation."},"repeat":null}
2025-02-05 20:22:26,058 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Multiple Locations in England","country":"GB","address":"Please contact the school for exact location details.","courses":[{"name":"General English Course","lessons_per_week":20,"description":"General English lessons featuring comprehensive English skills improvement.","prices":[{"duration":"2 weeks","price":"£200","currency":"GBP"},{"duration":"4 weeks","price":"£700","currency":"GBP"}],"requirements":"Basic understanding of English required."}],"accommodations":[{"type":"Homestay (Single room, half board)","price_per_week":"£180","description":"Comfortable family homestay accommodation.","supplements":{"peak_period":"£40/week"}},{"type":"Executive Homestay","price_per_week":"£245","description":"Luxury homestay for adults only.","supplements":{"peak_period":"£50/week"}}],"additional_fees":{"registration":"£50","course_book":"£40"}}],"terms":{"cancellation":"14 days notice required","refund_policy":"Administrative deduction may apply upon course cancellation."},"repeat":null}
2025-02-05 20:22:26,058 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Multiple Locations in England","country":"GB","address":"Please contact the school for exact location details.","courses":[{"name":"General English Course","lessons_per_week":20,"description":"General English lessons featuring comprehensive English skills improvement.","prices":[{"duration":"2 weeks","price":"£200","currency":"GBP"},{"duration":"4 weeks","price":"£700","currency":"GBP"}],"requirements":"Basic understanding of English required."}],"accommodations":[{"type":"Homestay (Single room, half board)","price_per_week":"£180","description":"Comfortable family homestay accommodation.","supplements":{"peak_period":"£40/week"}},{"type":"Executive Homestay","price_per_week":"£245","description":"Luxury homestay for adults only.","supplements":{"peak_period":"£50/week"}}],"additional_fees":{"registration":"£50","course_book":"£40"}}],"terms":{"cancellation":"14 days notice required","refund_policy":"Administrative deduction may apply upon course cancellation."},"repeat":null}
2025-02-05 20:22:26,058 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:26,058 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:26,058 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:26,060 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:22:26,060 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:22:26,060 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:22:26,062 - src.logger - INFO - Processing page 5/12
2025-02-05 20:22:26,062 - src.logger - INFO - Processing page 5/12
2025-02-05 20:22:26,062 - src.logger - INFO - Processing page 5/12
2025-02-05 20:22:26,273 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:26,273 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:26,273 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:26,281 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:26,281 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:26,281 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:26,291 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:26,291 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:26,291 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:26,293 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:26,293 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:26,293 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:26,295 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:26,295 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:26,295 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:26,298 - src.logger - DEBUG - Saved image to logs/image_1738768946.jpg
2025-02-05 20:22:26,298 - src.logger - DEBUG - Saved image to logs/image_1738768946.jpg
2025-02-05 20:22:26,298 - src.logger - DEBUG - Saved image to logs/image_1738768946.jpg
2025-02-05 20:22:36,004 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:36,004 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:36,004 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:36,004 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "GB",
            "address": "Bournemouth, United Kingdom",
            "courses": [
                {
                    "name": "Winter Camp Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Interactive lessons with activities",
                    "prices": [
                        {
                            "duration": "1 to 5 weeks",
                            "price": "€479",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Spring Camp Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Courses promoting English proficiency with extracurricular activities",
                    "prices": [
                        {
                            "duration": "1 to 2 weeks",
                            "price": "€679",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Summer Camps Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Interactive summer lessons",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "€829",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, full board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                },
                {
                    "type": "Residence",
                    "price_per_week": "€250",
                    "description": "Shared room, full board",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "peak_week_supplement": "€35 per week"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:22:36,004 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "GB",
            "address": "Bournemouth, United Kingdom",
            "courses": [
                {
                    "name": "Winter Camp Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Interactive lessons with activities",
                    "prices": [
                        {
                            "duration": "1 to 5 weeks",
                            "price": "€479",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Spring Camp Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Courses promoting English proficiency with extracurricular activities",
                    "prices": [
                        {
                            "duration": "1 to 2 weeks",
                            "price": "€679",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Summer Camps Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Interactive summer lessons",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "€829",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, full board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                },
                {
                    "type": "Residence",
                    "price_per_week": "€250",
                    "description": "Shared room, full board",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "peak_week_supplement": "€35 per week"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:22:36,004 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Bournemouth",
            "country": "GB",
            "address": "Bournemouth, United Kingdom",
            "courses": [
                {
                    "name": "Winter Camp Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Interactive lessons with activities",
                    "prices": [
                        {
                            "duration": "1 to 5 weeks",
                            "price": "€479",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Spring Camp Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Courses promoting English proficiency with extracurricular activities",
                    "prices": [
                        {
                            "duration": "1 to 2 weeks",
                            "price": "€679",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Summer Camps Bournemouth Premium",
                    "lessons_per_week": 20,
                    "description": "Interactive summer lessons",
                    "prices": [
                        {
                            "duration": "1 to 11 weeks",
                            "price": "€829",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, full board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                },
                {
                    "type": "Residence",
                    "price_per_week": "€250",
                    "description": "Shared room, full board",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "peak_week_supplement": "€35 per week"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:22:36,004 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:36,004 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:36,004 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:36,006 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:22:36,006 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:22:36,006 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:22:36,008 - src.logger - INFO - Processing page 6/12
2025-02-05 20:22:36,008 - src.logger - INFO - Processing page 6/12
2025-02-05 20:22:36,008 - src.logger - INFO - Processing page 6/12
2025-02-05 20:22:36,119 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:36,119 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:36,119 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:36,126 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:36,126 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:36,126 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:36,135 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:36,135 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:36,135 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:36,137 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:36,137 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:36,137 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:36,139 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:36,139 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:36,139 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:36,140 - src.logger - DEBUG - Saved image to logs/image_1738768956.jpg
2025-02-05 20:22:36,140 - src.logger - DEBUG - Saved image to logs/image_1738768956.jpg
2025-02-05 20:22:36,140 - src.logger - DEBUG - Saved image to logs/image_1738768956.jpg
2025-02-05 20:22:45,957 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:45,957 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:45,957 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:22:45,958 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Oxford","country":"GB","address":"Thornton","courses":[{"name":"Gold Edition","lessons_per_week":24,"description":"Activities over two-week stay including excursions and boat trip","prices":[{"duration":"1-6 weeks","price":"£1,019","currency":"GBP"},{"duration":"1-6 weeks (single room)","price":"£1,069","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Residence (Shared Room)","price_per_week":"£1,019","description":"Activities and excursions included","supplements":null},{"type":"Residence (Single Room)","price_per_week":"£1,069","description":"Activities and excursions included","supplements":null}],"additional_fees":{"Airport Transfer":"£55 per person","Deposit":"£80 refundable deposit"}}],"terms":{"cancellation":"£80 enrolment fee applies to all courses"},"repeat":null}
2025-02-05 20:22:45,958 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Oxford","country":"GB","address":"Thornton","courses":[{"name":"Gold Edition","lessons_per_week":24,"description":"Activities over two-week stay including excursions and boat trip","prices":[{"duration":"1-6 weeks","price":"£1,019","currency":"GBP"},{"duration":"1-6 weeks (single room)","price":"£1,069","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Residence (Shared Room)","price_per_week":"£1,019","description":"Activities and excursions included","supplements":null},{"type":"Residence (Single Room)","price_per_week":"£1,069","description":"Activities and excursions included","supplements":null}],"additional_fees":{"Airport Transfer":"£55 per person","Deposit":"£80 refundable deposit"}}],"terms":{"cancellation":"£80 enrolment fee applies to all courses"},"repeat":null}
2025-02-05 20:22:45,958 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Oxford","country":"GB","address":"Thornton","courses":[{"name":"Gold Edition","lessons_per_week":24,"description":"Activities over two-week stay including excursions and boat trip","prices":[{"duration":"1-6 weeks","price":"£1,019","currency":"GBP"},{"duration":"1-6 weeks (single room)","price":"£1,069","currency":"GBP"}],"requirements":null}],"accommodations":[{"type":"Residence (Shared Room)","price_per_week":"£1,019","description":"Activities and excursions included","supplements":null},{"type":"Residence (Single Room)","price_per_week":"£1,069","description":"Activities and excursions included","supplements":null}],"additional_fees":{"Airport Transfer":"£55 per person","Deposit":"£80 refundable deposit"}}],"terms":{"cancellation":"£80 enrolment fee applies to all courses"},"repeat":null}
2025-02-05 20:22:45,958 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:45,958 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:45,958 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:22:45,961 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:22:45,961 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:22:45,961 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:22:45,962 - src.logger - INFO - Processing page 7/12
2025-02-05 20:22:45,962 - src.logger - INFO - Processing page 7/12
2025-02-05 20:22:45,962 - src.logger - INFO - Processing page 7/12
2025-02-05 20:22:46,080 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:46,080 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:46,080 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:22:46,089 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:46,089 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:46,089 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:22:46,098 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:46,098 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:46,098 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:22:46,099 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:46,099 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:46,099 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:22:46,101 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:46,101 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:46,101 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:22:46,102 - src.logger - DEBUG - Saved image to logs/image_1738768966.jpg
2025-02-05 20:22:46,102 - src.logger - DEBUG - Saved image to logs/image_1738768966.jpg
2025-02-05 20:22:46,102 - src.logger - DEBUG - Saved image to logs/image_1738768966.jpg
2025-02-05 20:23:01,487 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:01,487 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:01,487 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:01,488 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Malta",
            "country": "MT",
            "address": "Malta location address",
            "courses": [
                {
                    "name": "Intensive Individual Tuition T10",
                    "lessons_per_week": 10,
                    "description": "One-to-one private tuition for individual focus.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€500",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T20",
                    "lessons_per_week": 20,
                    "description": "One-to-one private tuition for enhanced learning.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€950",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T25",
                    "lessons_per_week": 25,
                    "description": "One-to-one intensive private classes.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€1,150",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T30",
                    "lessons_per_week": 30,
                    "description": "One-to-one tuition for up to 30 lessons a week.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€1,350",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Combination Course G1 & T5",
                    "lessons_per_week": 25,
                    "description": "Combination of general English and one-to-one tuition.",
                    "prices": [
                        {
                            "duration": "November - February: 1-12 weeks",
                            "price": "€375",
                            "currency": "EUR"
                        },
                        {
                            "duration": "March - May, September - October: 1-12 weeks",
                            "price": "€405",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": "Not available during June, July, August."
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "from €169",
                    "description": "Twin and single room options, half board.",
                    "supplements": {
                        "Summer (Peak Period)": "+€50-40 per week",
                        "Christmas supplement": "+€85 per week in peak season"
                    }
                },
                {
                    "type": "Residences (Apartment, Self-Catering)",
                    "price_per_week": "from €425",
                    "description": "Two-bedroom apartment near school.",
                    "supplements": {
                        "Cleaning fee": "€45"
                    }
                }
            ],
            "additional_fees": {
                "registration": "N/A"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    },
    "repeat": false
}
2025-02-05 20:23:01,488 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Malta",
            "country": "MT",
            "address": "Malta location address",
            "courses": [
                {
                    "name": "Intensive Individual Tuition T10",
                    "lessons_per_week": 10,
                    "description": "One-to-one private tuition for individual focus.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€500",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T20",
                    "lessons_per_week": 20,
                    "description": "One-to-one private tuition for enhanced learning.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€950",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T25",
                    "lessons_per_week": 25,
                    "description": "One-to-one intensive private classes.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€1,150",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T30",
                    "lessons_per_week": 30,
                    "description": "One-to-one tuition for up to 30 lessons a week.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€1,350",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Combination Course G1 & T5",
                    "lessons_per_week": 25,
                    "description": "Combination of general English and one-to-one tuition.",
                    "prices": [
                        {
                            "duration": "November - February: 1-12 weeks",
                            "price": "€375",
                            "currency": "EUR"
                        },
                        {
                            "duration": "March - May, September - October: 1-12 weeks",
                            "price": "€405",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": "Not available during June, July, August."
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "from €169",
                    "description": "Twin and single room options, half board.",
                    "supplements": {
                        "Summer (Peak Period)": "+€50-40 per week",
                        "Christmas supplement": "+€85 per week in peak season"
                    }
                },
                {
                    "type": "Residences (Apartment, Self-Catering)",
                    "price_per_week": "from €425",
                    "description": "Two-bedroom apartment near school.",
                    "supplements": {
                        "Cleaning fee": "€45"
                    }
                }
            ],
            "additional_fees": {
                "registration": "N/A"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    },
    "repeat": false
}
2025-02-05 20:23:01,488 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [
        {
            "city": "Malta",
            "country": "MT",
            "address": "Malta location address",
            "courses": [
                {
                    "name": "Intensive Individual Tuition T10",
                    "lessons_per_week": 10,
                    "description": "One-to-one private tuition for individual focus.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€500",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T20",
                    "lessons_per_week": 20,
                    "description": "One-to-one private tuition for enhanced learning.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€950",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T25",
                    "lessons_per_week": 25,
                    "description": "One-to-one intensive private classes.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€1,150",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive Individual Tuition T30",
                    "lessons_per_week": 30,
                    "description": "One-to-one tuition for up to 30 lessons a week.",
                    "prices": [
                        {
                            "duration": "1-12 weeks",
                            "price": "€1,350",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Combination Course G1 & T5",
                    "lessons_per_week": 25,
                    "description": "Combination of general English and one-to-one tuition.",
                    "prices": [
                        {
                            "duration": "November - February: 1-12 weeks",
                            "price": "€375",
                            "currency": "EUR"
                        },
                        {
                            "duration": "March - May, September - October: 1-12 weeks",
                            "price": "€405",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": "Not available during June, July, August."
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "from €169",
                    "description": "Twin and single room options, half board.",
                    "supplements": {
                        "Summer (Peak Period)": "+€50-40 per week",
                        "Christmas supplement": "+€85 per week in peak season"
                    }
                },
                {
                    "type": "Residences (Apartment, Self-Catering)",
                    "price_per_week": "from €425",
                    "description": "Two-bedroom apartment near school.",
                    "supplements": {
                        "Cleaning fee": "€45"
                    }
                }
            ],
            "additional_fees": {
                "registration": "N/A"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    },
    "repeat": false
}
2025-02-05 20:23:01,488 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:01,488 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:01,488 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:01,490 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:23:01,490 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:23:01,490 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:23:01,491 - src.logger - INFO - Processing page 8/12
2025-02-05 20:23:01,491 - src.logger - INFO - Processing page 8/12
2025-02-05 20:23:01,491 - src.logger - INFO - Processing page 8/12
2025-02-05 20:23:01,692 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:01,692 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:01,692 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:01,700 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:01,700 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:01,700 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:01,710 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:01,710 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:01,710 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:01,712 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:01,712 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:01,712 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:01,713 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:01,713 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:01,713 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:01,714 - src.logger - DEBUG - Saved image to logs/image_1738768981.jpg
2025-02-05 20:23:01,714 - src.logger - DEBUG - Saved image to logs/image_1738768981.jpg
2025-02-05 20:23:01,714 - src.logger - DEBUG - Saved image to logs/image_1738768981.jpg
2025-02-05 20:23:14,906 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:14,906 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:14,906 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:14,906 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Malta","country":"MT","address":"Not Specified","courses":[{"name":"Junior Course - Spring & Early Summer Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1254","currency":"EUR"}],"requirements":null},{"name":"Junior Course - Summer Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1630","currency":"EUR"}],"requirements":null},{"name":"Junior Course - Autumn Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1178","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€589-€815","description":"Full board accommodation with included activities.","supplements":{"type":"Summer","price":"€145"}},{"type":"Residence","price_per_week":"€684-€722","description":"Full board accommodation with included activities.","supplements":{"type":"Summer","price":"€99"}}],"additional_fees":{"registration":"€100 Booking Fee"}}],"terms":{"cancellation":"4 weeks notice prior to arrival.","deposit":"€100 deposit required upon booking."},"repeat":false}
2025-02-05 20:23:14,906 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Malta","country":"MT","address":"Not Specified","courses":[{"name":"Junior Course - Spring & Early Summer Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1254","currency":"EUR"}],"requirements":null},{"name":"Junior Course - Summer Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1630","currency":"EUR"}],"requirements":null},{"name":"Junior Course - Autumn Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1178","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€589-€815","description":"Full board accommodation with included activities.","supplements":{"type":"Summer","price":"€145"}},{"type":"Residence","price_per_week":"€684-€722","description":"Full board accommodation with included activities.","supplements":{"type":"Summer","price":"€99"}}],"additional_fees":{"registration":"€100 Booking Fee"}}],"terms":{"cancellation":"4 weeks notice prior to arrival.","deposit":"€100 deposit required upon booking."},"repeat":false}
2025-02-05 20:23:14,906 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Malta","country":"MT","address":"Not Specified","courses":[{"name":"Junior Course - Spring & Early Summer Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1254","currency":"EUR"}],"requirements":null},{"name":"Junior Course - Summer Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1630","currency":"EUR"}],"requirements":null},{"name":"Junior Course - Autumn Premium 2 weeks","lessons_per_week":27,"description":"Includes 54 lessons over 2 weeks, activities and excursions included.","prices":[{"duration":"2 Weeks","price":"€1178","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Homestay","price_per_week":"€589-€815","description":"Full board accommodation with included activities.","supplements":{"type":"Summer","price":"€145"}},{"type":"Residence","price_per_week":"€684-€722","description":"Full board accommodation with included activities.","supplements":{"type":"Summer","price":"€99"}}],"additional_fees":{"registration":"€100 Booking Fee"}}],"terms":{"cancellation":"4 weeks notice prior to arrival.","deposit":"€100 deposit required upon booking."},"repeat":false}
2025-02-05 20:23:14,906 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:14,906 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:14,906 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:14,909 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:23:14,909 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:23:14,909 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:23:14,910 - src.logger - INFO - Processing page 9/12
2025-02-05 20:23:14,910 - src.logger - INFO - Processing page 9/12
2025-02-05 20:23:14,910 - src.logger - INFO - Processing page 9/12
2025-02-05 20:23:14,946 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:14,946 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:14,946 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:14,953 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:14,953 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:14,953 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:14,963 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:14,963 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:14,963 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:14,965 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:14,965 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:14,965 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:14,966 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:14,966 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:14,966 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:15,005 - src.logger - DEBUG - Saved image to logs/image_1738768994.jpg
2025-02-05 20:23:15,005 - src.logger - DEBUG - Saved image to logs/image_1738768994.jpg
2025-02-05 20:23:15,005 - src.logger - DEBUG - Saved image to logs/image_1738768994.jpg
2025-02-05 20:23:24,737 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:24,737 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:24,737 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:24,737 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"GB","address":"Exact address unavailable","courses":[{"name":"Bournemouth Junior Camp","lessons_per_week":15,"description":"Intensive junior camp focusing on English learning.","prices":[{"duration":"1 week","price":"£400","currency":"GBP"}],"requirements":"Below the age of 18."},{"name":"Bournemouth Intensive Summer Camp","lessons_per_week":20,"description":"Junior summer camp with extra focus on English language.","prices":[{"duration":"2 weeks","price":"£900","currency":"GBP"}],"requirements":"None."}],"accommodations":[{"type":"Homestay","price_per_week":"£150","description":"Shared room with peers.","supplements":{"Summer Supplement":"£30/week"}},{"type":"Residence","price_per_week":"£220","description":"Single room, close to school.","supplements":null}],"additional_fees":{"registration":"£50","exam fee":"£30"}}],"terms":{"cancellation":"14 days notice is required for cancellation."},"repeat":null}
2025-02-05 20:23:24,737 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"GB","address":"Exact address unavailable","courses":[{"name":"Bournemouth Junior Camp","lessons_per_week":15,"description":"Intensive junior camp focusing on English learning.","prices":[{"duration":"1 week","price":"£400","currency":"GBP"}],"requirements":"Below the age of 18."},{"name":"Bournemouth Intensive Summer Camp","lessons_per_week":20,"description":"Junior summer camp with extra focus on English language.","prices":[{"duration":"2 weeks","price":"£900","currency":"GBP"}],"requirements":"None."}],"accommodations":[{"type":"Homestay","price_per_week":"£150","description":"Shared room with peers.","supplements":{"Summer Supplement":"£30/week"}},{"type":"Residence","price_per_week":"£220","description":"Single room, close to school.","supplements":null}],"additional_fees":{"registration":"£50","exam fee":"£30"}}],"terms":{"cancellation":"14 days notice is required for cancellation."},"repeat":null}
2025-02-05 20:23:24,737 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"GB","address":"Exact address unavailable","courses":[{"name":"Bournemouth Junior Camp","lessons_per_week":15,"description":"Intensive junior camp focusing on English learning.","prices":[{"duration":"1 week","price":"£400","currency":"GBP"}],"requirements":"Below the age of 18."},{"name":"Bournemouth Intensive Summer Camp","lessons_per_week":20,"description":"Junior summer camp with extra focus on English language.","prices":[{"duration":"2 weeks","price":"£900","currency":"GBP"}],"requirements":"None."}],"accommodations":[{"type":"Homestay","price_per_week":"£150","description":"Shared room with peers.","supplements":{"Summer Supplement":"£30/week"}},{"type":"Residence","price_per_week":"£220","description":"Single room, close to school.","supplements":null}],"additional_fees":{"registration":"£50","exam fee":"£30"}}],"terms":{"cancellation":"14 days notice is required for cancellation."},"repeat":null}
2025-02-05 20:23:24,738 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:24,738 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:24,738 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:24,740 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:23:24,740 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:23:24,740 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:23:24,741 - src.logger - INFO - Processing page 10/12
2025-02-05 20:23:24,741 - src.logger - INFO - Processing page 10/12
2025-02-05 20:23:24,741 - src.logger - INFO - Processing page 10/12
2025-02-05 20:23:24,770 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:24,770 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:24,770 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:24,779 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:24,779 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:24,779 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:24,788 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:24,788 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:24,788 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:24,789 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:24,789 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:24,789 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:24,791 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:24,791 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:24,791 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:24,793 - src.logger - DEBUG - Saved image to logs/image_1738769004.jpg
2025-02-05 20:23:24,793 - src.logger - DEBUG - Saved image to logs/image_1738769004.jpg
2025-02-05 20:23:24,793 - src.logger - DEBUG - Saved image to logs/image_1738769004.jpg
2025-02-05 20:23:31,288 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:31,288 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:31,288 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:31,288 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School","locations":[{"city":"Bournemouth","country":"GB","address":"Cavendish School Campus","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"varies","description":"Different styles of homestays are available.","supplements":null},{"type":"Residence Accommodation","price_per_week":"varies","description":"Residence type accommodations are provided.","supplements":null},{"type":"Hotel","price_per_week":"varies","description":"Hotel options are available for students.","supplements":null}],"additional_fees":{"UM Service for Junior Summer Camps":"£55/way"}}],"terms":{"notes":"Allergy, dietary requirements, allergies or special maintanence may have additional fees."},"repeat":false}
2025-02-05 20:23:31,288 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School","locations":[{"city":"Bournemouth","country":"GB","address":"Cavendish School Campus","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"varies","description":"Different styles of homestays are available.","supplements":null},{"type":"Residence Accommodation","price_per_week":"varies","description":"Residence type accommodations are provided.","supplements":null},{"type":"Hotel","price_per_week":"varies","description":"Hotel options are available for students.","supplements":null}],"additional_fees":{"UM Service for Junior Summer Camps":"£55/way"}}],"terms":{"notes":"Allergy, dietary requirements, allergies or special maintanence may have additional fees."},"repeat":false}
2025-02-05 20:23:31,288 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School","locations":[{"city":"Bournemouth","country":"GB","address":"Cavendish School Campus","courses":[],"accommodations":[{"type":"Homestay","price_per_week":"varies","description":"Different styles of homestays are available.","supplements":null},{"type":"Residence Accommodation","price_per_week":"varies","description":"Residence type accommodations are provided.","supplements":null},{"type":"Hotel","price_per_week":"varies","description":"Hotel options are available for students.","supplements":null}],"additional_fees":{"UM Service for Junior Summer Camps":"£55/way"}}],"terms":{"notes":"Allergy, dietary requirements, allergies or special maintanence may have additional fees."},"repeat":false}
2025-02-05 20:23:31,288 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:31,288 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:31,288 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:31,291 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:23:31,291 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:23:31,291 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:23:31,293 - src.logger - INFO - Processing page 11/12
2025-02-05 20:23:31,293 - src.logger - INFO - Processing page 11/12
2025-02-05 20:23:31,293 - src.logger - INFO - Processing page 11/12
2025-02-05 20:23:31,330 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:31,330 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:31,330 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:31,338 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:31,338 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:31,338 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:31,349 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:31,349 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:31,349 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:31,351 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:31,351 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:31,351 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:31,353 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:31,353 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:31,353 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:31,355 - src.logger - DEBUG - Saved image to logs/image_1738769011.jpg
2025-02-05 20:23:31,355 - src.logger - DEBUG - Saved image to logs/image_1738769011.jpg
2025-02-05 20:23:31,355 - src.logger - DEBUG - Saved image to logs/image_1738769011.jpg
2025-02-05 20:23:40,602 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:40,602 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:40,602 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:40,602 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [],
    "terms": {
        "payment": "Courses must be paid in full before commencement. No student will be allowed in class otherwise.",
        "cancellation_and_refunds": "Various refund policies apply based on the timeline of cancellation before the start date, ranging from no refund for same-day cancellations to minimal fees for cancellations more than 6 weeks ahead.",
        "attendance_and_discipline": "Students are required to attend classes punctually and regularly.",
        "liability": "The school accepts no responsibility for personal injury or loss unless coverage exists under public or private policies."
    },
    "repeat": false
}
2025-02-05 20:23:40,602 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [],
    "terms": {
        "payment": "Courses must be paid in full before commencement. No student will be allowed in class otherwise.",
        "cancellation_and_refunds": "Various refund policies apply based on the timeline of cancellation before the start date, ranging from no refund for same-day cancellations to minimal fees for cancellations more than 6 weeks ahead.",
        "attendance_and_discipline": "Students are required to attend classes punctually and regularly.",
        "liability": "The school accepts no responsibility for personal injury or loss unless coverage exists under public or private policies."
    },
    "repeat": false
}
2025-02-05 20:23:40,602 - src.logger - DEBUG - Raw API response content: {
    "name": "Cavendish School of English",
    "locations": [],
    "terms": {
        "payment": "Courses must be paid in full before commencement. No student will be allowed in class otherwise.",
        "cancellation_and_refunds": "Various refund policies apply based on the timeline of cancellation before the start date, ranging from no refund for same-day cancellations to minimal fees for cancellations more than 6 weeks ahead.",
        "attendance_and_discipline": "Students are required to attend classes punctually and regularly.",
        "liability": "The school accepts no responsibility for personal injury or loss unless coverage exists under public or private policies."
    },
    "repeat": false
}
2025-02-05 20:23:40,603 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:40,603 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:40,603 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:40,605 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:23:40,605 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:23:40,605 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:23:40,608 - src.logger - INFO - Processing page 12/12
2025-02-05 20:23:40,608 - src.logger - INFO - Processing page 12/12
2025-02-05 20:23:40,608 - src.logger - INFO - Processing page 12/12
2025-02-05 20:23:40,903 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:40,903 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:40,903 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:40,910 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:40,910 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:40,910 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:40,919 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:40,919 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:40,919 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:40,920 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:40,920 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:40,920 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:40,921 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:40,921 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:40,921 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:40,923 - src.logger - DEBUG - Saved image to logs/image_1738769020.jpg
2025-02-05 20:23:40,923 - src.logger - DEBUG - Saved image to logs/image_1738769020.jpg
2025-02-05 20:23:40,923 - src.logger - DEBUG - Saved image to logs/image_1738769020.jpg
2025-02-05 20:23:45,832 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:45,832 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:45,832 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:45,832 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"UK","address":"63 Cavendish Road, Bournemouth, Dorset, BH1 1RA, England","courses":[],"accommodations":[],"additional_fees":null},{"city":"Valletta","country":"MT","address":"124 Melita Street, Valletta, VLT 1123, Malta","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":null}
2025-02-05 20:23:45,832 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"UK","address":"63 Cavendish Road, Bournemouth, Dorset, BH1 1RA, England","courses":[],"accommodations":[],"additional_fees":null},{"city":"Valletta","country":"MT","address":"124 Melita Street, Valletta, VLT 1123, Malta","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":null}
2025-02-05 20:23:45,832 - src.logger - DEBUG - Raw API response content: {"name":"Cavendish School of English","locations":[{"city":"Bournemouth","country":"UK","address":"63 Cavendish Road, Bournemouth, Dorset, BH1 1RA, England","courses":[],"accommodations":[],"additional_fees":null},{"city":"Valletta","country":"MT","address":"124 Melita Street, Valletta, VLT 1123, Malta","courses":[],"accommodations":[],"additional_fees":null}],"terms":null,"repeat":null}
2025-02-05 20:23:45,833 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:45,833 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:45,833 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:45,836 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:23:45,836 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:23:45,836 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:23:45,906 - src.logger - INFO - PDF processing completed
2025-02-05 20:23:45,906 - src.logger - INFO - PDF processing completed
2025-02-05 20:23:45,906 - src.logger - INFO - PDF processing completed
2025-02-05 20:23:45,908 - src.logger - INFO - Starting merge of 15 results
2025-02-05 20:23:45,908 - src.logger - INFO - Starting merge of 15 results
2025-02-05 20:23:45,908 - src.logger - INFO - Starting merge of 15 results
2025-02-05 20:23:45,909 - src.logger - DEBUG - Merging result 1/15
2025-02-05 20:23:45,909 - src.logger - DEBUG - Merging result 1/15
2025-02-05 20:23:45,909 - src.logger - DEBUG - Merging result 1/15
2025-02-05 20:23:45,909 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,909 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,909 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,910 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:23:45,910 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:23:45,910 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:23:45,910 - src.logger - DEBUG - Merging result 2/15
2025-02-05 20:23:45,910 - src.logger - DEBUG - Merging result 2/15
2025-02-05 20:23:45,910 - src.logger - DEBUG - Merging result 2/15
2025-02-05 20:23:45,910 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,910 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,910 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,912 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:23:45,912 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:23:45,912 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:23:45,913 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,913 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,913 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,914 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,914 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,914 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,914 - src.logger - DEBUG - New location found: Bournemouth
2025-02-05 20:23:45,914 - src.logger - DEBUG - New location found: Bournemouth
2025-02-05 20:23:45,914 - src.logger - DEBUG - New location found: Bournemouth
2025-02-05 20:23:45,914 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,914 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,914 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,914 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,914 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,914 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,914 - src.logger - DEBUG - New location found: Malta
2025-02-05 20:23:45,914 - src.logger - DEBUG - New location found: Malta
2025-02-05 20:23:45,914 - src.logger - DEBUG - New location found: Malta
2025-02-05 20:23:45,915 - src.logger - DEBUG - Merging result 3/15
2025-02-05 20:23:45,915 - src.logger - DEBUG - Merging result 3/15
2025-02-05 20:23:45,915 - src.logger - DEBUG - Merging result 3/15
2025-02-05 20:23:45,915 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,915 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,915 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,916 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:23:45,916 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:23:45,916 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:23:45,918 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,918 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,918 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,918 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,918 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,918 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,919 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:45,919 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:45,919 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:45,919 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:23:45,919 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:23:45,919 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:23:45,920 - src.logger - DEBUG - Processing course: One to One Tuition
2025-02-05 20:23:45,920 - src.logger - DEBUG - Processing course: One to One Tuition
2025-02-05 20:23:45,920 - src.logger - DEBUG - Processing course: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - Finding course: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - Finding course: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - Finding course: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - New course found: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - New course found: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - New course found: One to One Tuition
2025-02-05 20:23:45,921 - src.logger - DEBUG - Processing course: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - Processing course: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - Processing course: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - Finding course: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - Finding course: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - Finding course: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - New course found: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - New course found: Junior Courses - Seasonal
2025-02-05 20:23:45,921 - src.logger - DEBUG - New course found: Junior Courses - Seasonal
2025-02-05 20:23:45,922 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:23:45,922 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:23:45,922 - src.logger - INFO - Merging 1 accommodations with 0 accommodations
2025-02-05 20:23:45,923 - src.logger - DEBUG - Merging result 4/15
2025-02-05 20:23:45,923 - src.logger - DEBUG - Merging result 4/15
2025-02-05 20:23:45,923 - src.logger - DEBUG - Merging result 4/15
2025-02-05 20:23:45,924 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,924 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,924 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,926 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:23:45,926 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:23:45,926 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:23:45,928 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,928 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,928 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,929 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,929 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,929 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,929 - src.logger - DEBUG - New location found: England
2025-02-05 20:23:45,929 - src.logger - DEBUG - New location found: England
2025-02-05 20:23:45,929 - src.logger - DEBUG - New location found: England
2025-02-05 20:23:45,930 - src.logger - DEBUG - Merging result 5/15
2025-02-05 20:23:45,930 - src.logger - DEBUG - Merging result 5/15
2025-02-05 20:23:45,930 - src.logger - DEBUG - Merging result 5/15
2025-02-05 20:23:45,930 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,930 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,930 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,932 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,932 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,932 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,934 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,934 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,934 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,934 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,934 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,934 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,935 - src.logger - DEBUG - Merging location details for England
2025-02-05 20:23:45,935 - src.logger - DEBUG - Merging location details for England
2025-02-05 20:23:45,935 - src.logger - DEBUG - Merging location details for England
2025-02-05 20:23:45,935 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:23:45,935 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:23:45,935 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:23:45,936 - src.logger - DEBUG - Processing course: Super Intensive English
2025-02-05 20:23:45,936 - src.logger - DEBUG - Processing course: Super Intensive English
2025-02-05 20:23:45,936 - src.logger - DEBUG - Processing course: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Finding course: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Finding course: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Finding course: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - New course found: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - New course found: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - New course found: Super Intensive English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Processing course: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Processing course: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Processing course: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Finding course: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Finding course: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - Finding course: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - New course found: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - New course found: Business English
2025-02-05 20:23:45,937 - src.logger - DEBUG - New course found: Business English
2025-02-05 20:23:45,938 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:45,938 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:45,938 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:45,939 - src.logger - DEBUG - Merging result 6/15
2025-02-05 20:23:45,939 - src.logger - DEBUG - Merging result 6/15
2025-02-05 20:23:45,939 - src.logger - DEBUG - Merging result 6/15
2025-02-05 20:23:45,939 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,939 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,939 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,941 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,941 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,941 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,944 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,944 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,944 - src.logger - DEBUG - Processing location: England, GB
2025-02-05 20:23:45,945 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,945 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,945 - src.logger - DEBUG - Finding location: England, GB
2025-02-05 20:23:45,945 - src.logger - DEBUG - Merging location details for England
2025-02-05 20:23:45,945 - src.logger - DEBUG - Merging location details for England
2025-02-05 20:23:45,945 - src.logger - DEBUG - Merging location details for England
2025-02-05 20:23:45,946 - src.logger - INFO - Merging 4 courses with 9 courses
2025-02-05 20:23:45,946 - src.logger - INFO - Merging 4 courses with 9 courses
2025-02-05 20:23:45,946 - src.logger - INFO - Merging 4 courses with 9 courses
2025-02-05 20:23:45,948 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - FCE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,948 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - CAE
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Cambridge and IELTS Examination programme - IELTS
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 10 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,949 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 20 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 25 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Processing course: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - Finding course: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,950 - src.logger - DEBUG - New course found: Intensive Individual Tuition - 30 Hours
2025-02-05 20:23:45,951 - src.logger - DEBUG - Processing course: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - Processing course: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - Processing course: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - Finding course: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - Finding course: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - Finding course: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - New course found: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - New course found: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - New course found: Combination Course Standard
2025-02-05 20:23:45,951 - src.logger - DEBUG - Processing course: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - Processing course: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - Processing course: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - Finding course: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - Finding course: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - Finding course: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - New course found: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - New course found: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - DEBUG - New course found: Combination Course Premium
2025-02-05 20:23:45,951 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:45,951 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:45,951 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:45,953 - src.logger - DEBUG - Merging result 7/15
2025-02-05 20:23:45,953 - src.logger - DEBUG - Merging result 7/15
2025-02-05 20:23:45,953 - src.logger - DEBUG - Merging result 7/15
2025-02-05 20:23:45,953 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,953 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,953 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,956 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,956 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,956 - src.logger - INFO - Merging 5 locations with 1 locations
2025-02-05 20:23:45,958 - src.logger - DEBUG - Processing location: Multiple Locations in England, GB
2025-02-05 20:23:45,958 - src.logger - DEBUG - Processing location: Multiple Locations in England, GB
2025-02-05 20:23:45,958 - src.logger - DEBUG - Processing location: Multiple Locations in England, GB
2025-02-05 20:23:45,959 - src.logger - DEBUG - Finding location: Multiple Locations in England, GB
2025-02-05 20:23:45,959 - src.logger - DEBUG - Finding location: Multiple Locations in England, GB
2025-02-05 20:23:45,959 - src.logger - DEBUG - Finding location: Multiple Locations in England, GB
2025-02-05 20:23:45,959 - src.logger - DEBUG - New location found: Multiple Locations in England
2025-02-05 20:23:45,959 - src.logger - DEBUG - New location found: Multiple Locations in England
2025-02-05 20:23:45,959 - src.logger - DEBUG - New location found: Multiple Locations in England
2025-02-05 20:23:45,959 - src.logger - DEBUG - Merging result 8/15
2025-02-05 20:23:45,959 - src.logger - DEBUG - Merging result 8/15
2025-02-05 20:23:45,959 - src.logger - DEBUG - Merging result 8/15
2025-02-05 20:23:45,959 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,959 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,959 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,962 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:23:45,962 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:23:45,962 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:23:45,965 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,965 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,965 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:45,965 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,965 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,965 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:45,965 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:45,965 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:45,965 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:45,965 - src.logger - INFO - Merging 4 courses with 3 courses
2025-02-05 20:23:45,965 - src.logger - INFO - Merging 4 courses with 3 courses
2025-02-05 20:23:45,965 - src.logger - INFO - Merging 4 courses with 3 courses
2025-02-05 20:23:45,967 - src.logger - DEBUG - Processing course: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Processing course: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Processing course: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Finding course: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Finding course: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Finding course: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - New course found: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - New course found: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - New course found: Winter Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Processing course: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Processing course: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Processing course: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Finding course: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Finding course: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,967 - src.logger - DEBUG - Finding course: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - New course found: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - New course found: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - New course found: Spring Camp Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - Processing course: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - Processing course: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - Processing course: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - Finding course: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - Finding course: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - Finding course: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - New course found: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - New course found: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - DEBUG - New course found: Summer Camps Bournemouth Premium
2025-02-05 20:23:45,968 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:23:45,968 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:23:45,968 - src.logger - INFO - Merging 1 accommodations with 2 accommodations
2025-02-05 20:23:45,970 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,970 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,970 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,970 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,970 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,970 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,970 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,971 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - New accommodation type found: Residence
2025-02-05 20:23:45,971 - src.logger - DEBUG - Merging result 9/15
2025-02-05 20:23:45,971 - src.logger - DEBUG - Merging result 9/15
2025-02-05 20:23:45,971 - src.logger - DEBUG - Merging result 9/15
2025-02-05 20:23:45,971 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,971 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,971 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,973 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:23:45,973 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:23:45,973 - src.logger - INFO - Merging 6 locations with 1 locations
2025-02-05 20:23:45,975 - src.logger - DEBUG - Processing location: Oxford, GB
2025-02-05 20:23:45,975 - src.logger - DEBUG - Processing location: Oxford, GB
2025-02-05 20:23:45,975 - src.logger - DEBUG - Processing location: Oxford, GB
2025-02-05 20:23:45,975 - src.logger - DEBUG - Finding location: Oxford, GB
2025-02-05 20:23:45,975 - src.logger - DEBUG - Finding location: Oxford, GB
2025-02-05 20:23:45,975 - src.logger - DEBUG - Finding location: Oxford, GB
2025-02-05 20:23:45,976 - src.logger - DEBUG - New location found: Oxford
2025-02-05 20:23:45,976 - src.logger - DEBUG - New location found: Oxford
2025-02-05 20:23:45,976 - src.logger - DEBUG - New location found: Oxford
2025-02-05 20:23:45,976 - src.logger - DEBUG - Merging result 10/15
2025-02-05 20:23:45,976 - src.logger - DEBUG - Merging result 10/15
2025-02-05 20:23:45,976 - src.logger - DEBUG - Merging result 10/15
2025-02-05 20:23:45,976 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,976 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,976 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,978 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:45,978 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:45,978 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:45,980 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,980 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,980 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,981 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,981 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,981 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,981 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:23:45,981 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:23:45,981 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:23:45,981 - src.logger - INFO - Merging 2 courses with 5 courses
2025-02-05 20:23:45,981 - src.logger - INFO - Merging 2 courses with 5 courses
2025-02-05 20:23:45,981 - src.logger - INFO - Merging 2 courses with 5 courses
2025-02-05 20:23:45,982 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - New course found: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - New course found: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - New course found: Intensive Individual Tuition T10
2025-02-05 20:23:45,982 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T20
2025-02-05 20:23:45,982 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T20
2025-02-05 20:23:45,982 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T20
2025-02-05 20:23:45,983 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T25
2025-02-05 20:23:45,983 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - Processing course: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - Finding course: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T30
2025-02-05 20:23:45,983 - src.logger - DEBUG - New course found: Intensive Individual Tuition T30
2025-02-05 20:23:45,984 - src.logger - DEBUG - Processing course: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - Processing course: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - Processing course: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - Finding course: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - Finding course: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - Finding course: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - New course found: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - New course found: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - DEBUG - New course found: Combination Course G1 & T5
2025-02-05 20:23:45,984 - src.logger - INFO - Merging 3 accommodations with 2 accommodations
2025-02-05 20:23:45,984 - src.logger - INFO - Merging 3 accommodations with 2 accommodations
2025-02-05 20:23:45,984 - src.logger - INFO - Merging 3 accommodations with 2 accommodations
2025-02-05 20:23:45,985 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,985 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,985 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,985 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,985 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,985 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,986 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,986 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,986 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,986 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,986 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,986 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,986 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,986 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,986 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,986 - src.logger - DEBUG - Processing accommodation type: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - Processing accommodation type: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - Processing accommodation type: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - Finding accommodation type: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - Finding accommodation type: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - Finding accommodation type: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - New accommodation type found: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - New accommodation type found: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,986 - src.logger - DEBUG - New accommodation type found: Residences (Apartment, Self-Catering)
2025-02-05 20:23:45,987 - src.logger - DEBUG - Merging result 11/15
2025-02-05 20:23:45,987 - src.logger - DEBUG - Merging result 11/15
2025-02-05 20:23:45,987 - src.logger - DEBUG - Merging result 11/15
2025-02-05 20:23:45,987 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,987 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,987 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,989 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:45,989 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:45,989 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:45,991 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,991 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,991 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:23:45,991 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,991 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,991 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:23:45,991 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:23:45,991 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:23:45,991 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:23:45,991 - src.logger - INFO - Merging 7 courses with 3 courses
2025-02-05 20:23:45,991 - src.logger - INFO - Merging 7 courses with 3 courses
2025-02-05 20:23:45,991 - src.logger - INFO - Merging 7 courses with 3 courses
2025-02-05 20:23:45,993 - src.logger - DEBUG - Processing course: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,993 - src.logger - DEBUG - Processing course: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,993 - src.logger - DEBUG - Processing course: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Finding course: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Finding course: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Finding course: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - New course found: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - New course found: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - New course found: Junior Course - Spring & Early Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Processing course: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Processing course: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Processing course: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Finding course: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Finding course: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,994 - src.logger - DEBUG - Finding course: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - New course found: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - New course found: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - New course found: Junior Course - Summer Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - Processing course: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - Processing course: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - Processing course: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - Finding course: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - Finding course: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - Finding course: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - New course found: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - New course found: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - DEBUG - New course found: Junior Course - Autumn Premium 2 weeks
2025-02-05 20:23:45,995 - src.logger - INFO - Merging 4 accommodations with 2 accommodations
2025-02-05 20:23:45,995 - src.logger - INFO - Merging 4 accommodations with 2 accommodations
2025-02-05 20:23:45,995 - src.logger - INFO - Merging 4 accommodations with 2 accommodations
2025-02-05 20:23:45,997 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:45,997 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,997 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,997 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,997 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,997 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,997 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,998 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Merging accommodation details for type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Merging accommodation details for type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Merging accommodation details for type: Residence
2025-02-05 20:23:45,998 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,998 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,998 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:45,998 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,998 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,998 - src.logger - DEBUG - Updating description
2025-02-05 20:23:45,999 - src.logger - DEBUG - Merging result 12/15
2025-02-05 20:23:45,999 - src.logger - DEBUG - Merging result 12/15
2025-02-05 20:23:45,999 - src.logger - DEBUG - Merging result 12/15
2025-02-05 20:23:45,999 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,999 - src.logger - INFO - Merging schools
2025-02-05 20:23:45,999 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,001 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:46,001 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:46,001 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:46,004 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:46,004 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:46,004 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:46,004 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:46,004 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:46,004 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:46,004 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,004 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,004 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,004 - src.logger - INFO - Merging 7 courses with 2 courses
2025-02-05 20:23:46,004 - src.logger - INFO - Merging 7 courses with 2 courses
2025-02-05 20:23:46,004 - src.logger - INFO - Merging 7 courses with 2 courses
2025-02-05 20:23:46,005 - src.logger - DEBUG - Processing course: Bournemouth Junior Camp
2025-02-05 20:23:46,005 - src.logger - DEBUG - Processing course: Bournemouth Junior Camp
2025-02-05 20:23:46,005 - src.logger - DEBUG - Processing course: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - Finding course: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - Finding course: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - Finding course: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - New course found: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - New course found: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - New course found: Bournemouth Junior Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - Processing course: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - Processing course: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,006 - src.logger - DEBUG - Processing course: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - DEBUG - Finding course: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - DEBUG - Finding course: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - DEBUG - Finding course: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - DEBUG - New course found: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - DEBUG - New course found: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - DEBUG - New course found: Bournemouth Intensive Summer Camp
2025-02-05 20:23:46,007 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:23:46,007 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:23:46,007 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:23:46,008 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:46,008 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,009 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Processing accommodation type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Finding accommodation type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Merging accommodation details for type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Merging accommodation details for type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Merging accommodation details for type: Residence
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,009 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,010 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,010 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,010 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,010 - src.logger - DEBUG - Merging result 13/15
2025-02-05 20:23:46,010 - src.logger - DEBUG - Merging result 13/15
2025-02-05 20:23:46,010 - src.logger - DEBUG - Merging result 13/15
2025-02-05 20:23:46,010 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,010 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,010 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,013 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:46,013 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:46,013 - src.logger - INFO - Merging 7 locations with 1 locations
2025-02-05 20:23:46,016 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:46,016 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:46,016 - src.logger - DEBUG - Processing location: Bournemouth, GB
2025-02-05 20:23:46,016 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:46,016 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:46,016 - src.logger - DEBUG - Finding location: Bournemouth, GB
2025-02-05 20:23:46,016 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,016 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,016 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,017 - src.logger - INFO - Merging 9 courses with 0 courses
2025-02-05 20:23:46,017 - src.logger - INFO - Merging 9 courses with 0 courses
2025-02-05 20:23:46,017 - src.logger - INFO - Merging 9 courses with 0 courses
2025-02-05 20:23:46,018 - src.logger - INFO - Merging 2 accommodations with 3 accommodations
2025-02-05 20:23:46,018 - src.logger - INFO - Merging 2 accommodations with 3 accommodations
2025-02-05 20:23:46,018 - src.logger - INFO - Merging 2 accommodations with 3 accommodations
2025-02-05 20:23:46,019 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:46,019 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:46,019 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Merging accommodation details for type: Homestay
2025-02-05 20:23:46,020 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,020 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,020 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:23:46,020 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,020 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,020 - src.logger - DEBUG - Updating description
2025-02-05 20:23:46,020 - src.logger - DEBUG - Processing accommodation type: Residence Accommodation
2025-02-05 20:23:46,020 - src.logger - DEBUG - Processing accommodation type: Residence Accommodation
2025-02-05 20:23:46,020 - src.logger - DEBUG - Processing accommodation type: Residence Accommodation
2025-02-05 20:23:46,020 - src.logger - DEBUG - Finding accommodation type: Residence Accommodation
2025-02-05 20:23:46,020 - src.logger - DEBUG - Finding accommodation type: Residence Accommodation
2025-02-05 20:23:46,020 - src.logger - DEBUG - Finding accommodation type: Residence Accommodation
2025-02-05 20:23:46,021 - src.logger - DEBUG - New accommodation type found: Residence Accommodation
2025-02-05 20:23:46,021 - src.logger - DEBUG - New accommodation type found: Residence Accommodation
2025-02-05 20:23:46,021 - src.logger - DEBUG - New accommodation type found: Residence Accommodation
2025-02-05 20:23:46,021 - src.logger - DEBUG - Processing accommodation type: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - Processing accommodation type: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - Processing accommodation type: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - Finding accommodation type: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - Finding accommodation type: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - Finding accommodation type: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - New accommodation type found: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - New accommodation type found: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - New accommodation type found: Hotel
2025-02-05 20:23:46,021 - src.logger - DEBUG - Merging result 14/15
2025-02-05 20:23:46,021 - src.logger - DEBUG - Merging result 14/15
2025-02-05 20:23:46,021 - src.logger - DEBUG - Merging result 14/15
2025-02-05 20:23:46,022 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,022 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,022 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,024 - src.logger - INFO - Merging 7 locations with 0 locations
2025-02-05 20:23:46,024 - src.logger - INFO - Merging 7 locations with 0 locations
2025-02-05 20:23:46,024 - src.logger - INFO - Merging 7 locations with 0 locations
2025-02-05 20:23:46,026 - src.logger - DEBUG - Merging result 15/15
2025-02-05 20:23:46,026 - src.logger - DEBUG - Merging result 15/15
2025-02-05 20:23:46,026 - src.logger - DEBUG - Merging result 15/15
2025-02-05 20:23:46,027 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,027 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,027 - src.logger - INFO - Merging schools
2025-02-05 20:23:46,030 - src.logger - INFO - Merging 7 locations with 2 locations
2025-02-05 20:23:46,030 - src.logger - INFO - Merging 7 locations with 2 locations
2025-02-05 20:23:46,030 - src.logger - INFO - Merging 7 locations with 2 locations
2025-02-05 20:23:46,032 - src.logger - DEBUG - Processing location: Bournemouth, UK
2025-02-05 20:23:46,032 - src.logger - DEBUG - Processing location: Bournemouth, UK
2025-02-05 20:23:46,032 - src.logger - DEBUG - Processing location: Bournemouth, UK
2025-02-05 20:23:46,033 - src.logger - DEBUG - Finding location: Bournemouth, UK
2025-02-05 20:23:46,033 - src.logger - DEBUG - Finding location: Bournemouth, UK
2025-02-05 20:23:46,033 - src.logger - DEBUG - Finding location: Bournemouth, UK
2025-02-05 20:23:46,033 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,033 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,033 - src.logger - DEBUG - Merging location details for Bournemouth
2025-02-05 20:23:46,033 - src.logger - INFO - Merging 0 courses with 0 courses
2025-02-05 20:23:46,033 - src.logger - INFO - Merging 0 courses with 0 courses
2025-02-05 20:23:46,033 - src.logger - INFO - Merging 0 courses with 0 courses
2025-02-05 20:23:46,035 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:46,035 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:46,035 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:46,036 - src.logger - DEBUG - Processing location: Valletta, MT
2025-02-05 20:23:46,036 - src.logger - DEBUG - Processing location: Valletta, MT
2025-02-05 20:23:46,036 - src.logger - DEBUG - Processing location: Valletta, MT
2025-02-05 20:23:46,037 - src.logger - DEBUG - Finding location: Valletta, MT
2025-02-05 20:23:46,037 - src.logger - DEBUG - Finding location: Valletta, MT
2025-02-05 20:23:46,037 - src.logger - DEBUG - Finding location: Valletta, MT
2025-02-05 20:23:46,037 - src.logger - DEBUG - Merging location details for Valletta
2025-02-05 20:23:46,037 - src.logger - DEBUG - Merging location details for Valletta
2025-02-05 20:23:46,037 - src.logger - DEBUG - Merging location details for Valletta
2025-02-05 20:23:46,037 - src.logger - INFO - Merging 0 courses with 0 courses
2025-02-05 20:23:46,037 - src.logger - INFO - Merging 0 courses with 0 courses
2025-02-05 20:23:46,037 - src.logger - INFO - Merging 0 courses with 0 courses
2025-02-05 20:23:46,039 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:46,039 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:46,039 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:23:46,040 - src.logger - INFO - Merge completed successfully
2025-02-05 20:23:46,040 - src.logger - INFO - Merge completed successfully
2025-02-05 20:23:46,040 - src.logger - INFO - Merge completed successfully
2025-02-05 20:23:46,081 - src.logger - INFO - Saving results to data/output_files/Cavendish Bournemouth + Malta 2025_output.json
2025-02-05 20:23:46,081 - src.logger - INFO - Saving results to data/output_files/Cavendish Bournemouth + Malta 2025_output.json
2025-02-05 20:23:46,081 - src.logger - INFO - Saving results to data/output_files/Cavendish Bournemouth + Malta 2025_output.json
2025-02-05 20:23:46,090 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Ceniky Sprachcaffe.pdf
2025-02-05 20:23:46,090 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Ceniky Sprachcaffe.pdf
2025-02-05 20:23:46,090 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Ceniky Sprachcaffe.pdf
2025-02-05 20:23:46,092 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:23:46,092 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:23:46,092 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:23:46,093 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:23:46,093 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:23:46,093 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:23:46,450 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Ceniky Sprachcaffe.pdf
2025-02-05 20:23:46,450 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Ceniky Sprachcaffe.pdf
2025-02-05 20:23:46,450 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Ceniky Sprachcaffe.pdf
2025-02-05 20:23:46,516 - src.logger - INFO - Opened PDF with 1 pages
2025-02-05 20:23:46,516 - src.logger - INFO - Opened PDF with 1 pages
2025-02-05 20:23:46,516 - src.logger - INFO - Opened PDF with 1 pages
2025-02-05 20:23:46,518 - src.logger - INFO - Processing page 1/1
2025-02-05 20:23:46,518 - src.logger - INFO - Processing page 1/1
2025-02-05 20:23:46,518 - src.logger - INFO - Processing page 1/1
2025-02-05 20:23:46,579 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:46,579 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:46,579 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:46,584 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:46,584 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:46,584 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:46,592 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:46,592 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:46,592 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:46,593 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:46,593 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:46,593 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:46,594 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:46,594 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:46,594 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:46,595 - src.logger - DEBUG - Saved image to logs/image_1738769026.jpg
2025-02-05 20:23:46,595 - src.logger - DEBUG - Saved image to logs/image_1738769026.jpg
2025-02-05 20:23:46,595 - src.logger - DEBUG - Saved image to logs/image_1738769026.jpg
2025-02-05 20:23:50,228 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:50,228 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:50,228 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:23:50,228 - src.logger - DEBUG - Raw API response content: {
    "name": "Sprachcaffe Languages Plus",
    "locations": [],
    "terms": null,
    "repeat": null
}
2025-02-05 20:23:50,228 - src.logger - DEBUG - Raw API response content: {
    "name": "Sprachcaffe Languages Plus",
    "locations": [],
    "terms": null,
    "repeat": null
}
2025-02-05 20:23:50,228 - src.logger - DEBUG - Raw API response content: {
    "name": "Sprachcaffe Languages Plus",
    "locations": [],
    "terms": null,
    "repeat": null
}
2025-02-05 20:23:50,228 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:50,228 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:50,228 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:23:50,231 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:23:50,231 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:23:50,231 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:23:50,232 - src.logger - INFO - PDF processing completed
2025-02-05 20:23:50,232 - src.logger - INFO - PDF processing completed
2025-02-05 20:23:50,232 - src.logger - INFO - PDF processing completed
2025-02-05 20:23:50,233 - src.logger - INFO - Starting merge of 1 results
2025-02-05 20:23:50,233 - src.logger - INFO - Starting merge of 1 results
2025-02-05 20:23:50,233 - src.logger - INFO - Starting merge of 1 results
2025-02-05 20:23:50,235 - src.logger - DEBUG - Merging result 1/1
2025-02-05 20:23:50,235 - src.logger - DEBUG - Merging result 1/1
2025-02-05 20:23:50,235 - src.logger - DEBUG - Merging result 1/1
2025-02-05 20:23:50,235 - src.logger - INFO - Merging schools
2025-02-05 20:23:50,235 - src.logger - INFO - Merging schools
2025-02-05 20:23:50,235 - src.logger - INFO - Merging schools
2025-02-05 20:23:50,236 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:23:50,236 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:23:50,236 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:23:50,237 - src.logger - INFO - Merge completed successfully
2025-02-05 20:23:50,237 - src.logger - INFO - Merge completed successfully
2025-02-05 20:23:50,237 - src.logger - INFO - Merge completed successfully
2025-02-05 20:23:50,240 - src.logger - INFO - Saving results to data/output_files/Ceniky Sprachcaffe_output.json
2025-02-05 20:23:50,240 - src.logger - INFO - Saving results to data/output_files/Ceniky Sprachcaffe_output.json
2025-02-05 20:23:50,240 - src.logger - INFO - Saving results to data/output_files/Ceniky Sprachcaffe_output.json
2025-02-05 20:23:50,242 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\CES Eastern Europe Regional price 2025.pdf
2025-02-05 20:23:50,242 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\CES Eastern Europe Regional price 2025.pdf
2025-02-05 20:23:50,242 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\CES Eastern Europe Regional price 2025.pdf
2025-02-05 20:23:50,244 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:23:50,244 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:23:50,244 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:23:50,246 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:23:50,246 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:23:50,246 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:23:50,650 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\CES Eastern Europe Regional price 2025.pdf
2025-02-05 20:23:50,650 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\CES Eastern Europe Regional price 2025.pdf
2025-02-05 20:23:50,650 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\CES Eastern Europe Regional price 2025.pdf
2025-02-05 20:23:50,680 - src.logger - INFO - Opened PDF with 1 pages
2025-02-05 20:23:50,680 - src.logger - INFO - Opened PDF with 1 pages
2025-02-05 20:23:50,680 - src.logger - INFO - Opened PDF with 1 pages
2025-02-05 20:23:50,681 - src.logger - INFO - Processing page 1/1
2025-02-05 20:23:50,681 - src.logger - INFO - Processing page 1/1
2025-02-05 20:23:50,681 - src.logger - INFO - Processing page 1/1
2025-02-05 20:23:50,808 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:50,808 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:50,808 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:23:50,816 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:50,816 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:50,816 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:23:50,827 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:50,827 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:50,827 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:23:50,868 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:50,868 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:50,868 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:23:50,870 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:50,870 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:50,870 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:23:50,872 - src.logger - DEBUG - Saved image to logs/image_1738769030.jpg
2025-02-05 20:23:50,872 - src.logger - DEBUG - Saved image to logs/image_1738769030.jpg
2025-02-05 20:23:50,872 - src.logger - DEBUG - Saved image to logs/image_1738769030.jpg
2025-02-05 20:24:09,277 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:09,277 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:09,277 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:09,277 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"IE","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€284.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€252.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€228.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€185.50","currency":"EUR"},{"duration":"+36 weeks","price":"€178.50","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"Morning and afternoon classes","prices":[{"duration":"2-4 weeks","price":"€340.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€320.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€308.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€241.50","currency":"EUR"},{"duration":"+36 weeks","price":"€231.00","currency":"EUR"}],"requirements":null},{"name":"Afternoon English","lessons_per_week":15,"description":"Afternoon only classes","prices":[{"duration":"full course","price":"€2950.00","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":null},{"city":"Cork","country":"IE","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€228.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€200.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€180.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€140.00","currency":"EUR"},{"duration":"+36 weeks","price":"€133.00","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"Morning and afternoon classes","prices":[{"duration":"2-4 weeks","price":"€280.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€252.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€232.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€185.50","currency":"EUR"},{"duration":"+36 weeks","price":"€178.50","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":true}
2025-02-05 20:24:09,277 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"IE","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€284.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€252.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€228.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€185.50","currency":"EUR"},{"duration":"+36 weeks","price":"€178.50","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"Morning and afternoon classes","prices":[{"duration":"2-4 weeks","price":"€340.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€320.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€308.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€241.50","currency":"EUR"},{"duration":"+36 weeks","price":"€231.00","currency":"EUR"}],"requirements":null},{"name":"Afternoon English","lessons_per_week":15,"description":"Afternoon only classes","prices":[{"duration":"full course","price":"€2950.00","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":null},{"city":"Cork","country":"IE","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€228.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€200.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€180.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€140.00","currency":"EUR"},{"duration":"+36 weeks","price":"€133.00","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"Morning and afternoon classes","prices":[{"duration":"2-4 weeks","price":"€280.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€252.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€232.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€185.50","currency":"EUR"},{"duration":"+36 weeks","price":"€178.50","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":true}
2025-02-05 20:24:09,277 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"IE","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€284.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€252.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€228.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€185.50","currency":"EUR"},{"duration":"+36 weeks","price":"€178.50","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"Morning and afternoon classes","prices":[{"duration":"2-4 weeks","price":"€340.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€320.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€308.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€241.50","currency":"EUR"},{"duration":"+36 weeks","price":"€231.00","currency":"EUR"}],"requirements":null},{"name":"Afternoon English","lessons_per_week":15,"description":"Afternoon only classes","prices":[{"duration":"full course","price":"€2950.00","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":null},{"city":"Cork","country":"IE","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Morning classes Mon-Fri","prices":[{"duration":"2-4 weeks","price":"€228.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€200.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€180.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€140.00","currency":"EUR"},{"duration":"+36 weeks","price":"€133.00","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"Morning and afternoon classes","prices":[{"duration":"2-4 weeks","price":"€280.00","currency":"EUR"},{"duration":"5-11 weeks","price":"€252.00","currency":"EUR"},{"duration":"12-23 weeks","price":"€232.00","currency":"EUR"},{"duration":"24-35 weeks","price":"€185.50","currency":"EUR"},{"duration":"+36 weeks","price":"€178.50","currency":"EUR"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":true}
2025-02-05 20:24:09,278 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:09,278 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:09,278 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:09,281 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:24:09,281 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:24:09,281 - src.logger - INFO - Repeat flag set. Processing the the page again
2025-02-05 20:24:09,283 - src.logger - INFO - Repeat flag set. Processing page 1 again (attempt 2)
2025-02-05 20:24:09,283 - src.logger - INFO - Repeat flag set. Processing page 1 again (attempt 2)
2025-02-05 20:24:09,283 - src.logger - INFO - Repeat flag set. Processing page 1 again (attempt 2)
2025-02-05 20:24:09,284 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:09,284 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:09,284 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:09,293 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:09,293 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:09,293 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:09,304 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:09,304 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:09,304 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:09,306 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:09,306 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:09,306 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:09,308 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Centre of English Studies",
    "locations": [
      {
        "city": "Dublin",
        "country": "IE",
        "address": "Not Provided",
        "courses": [
          {
            "name": "Standard General English",
            "lessons_per_week": 20,
            "description": "Morning classes Mon-Fri",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac284.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac252.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac228.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac185.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac178.50",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 26,
            "description": "Morning and afternoon classes",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac340.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac320.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac308.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac241.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac231.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Afternoon English",
            "lessons_per_week": 15,
            "description": "Afternoon only classes",
            "prices": [
              {
                "duration": "full course",
                "price": "\u20ac2950.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": null
      },
      {
        "city": "Cork",
        "country": "IE",
        "address": "Not Provided",
        "courses": [
          {
            "name": "Standard General English",
            "lessons_per_week": 20,
            "description": "Morning classes Mon-Fri",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac228.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac200.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac180.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac140.00",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac133.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 26,
            "description": "Morning and afternoon classes",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac280.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac252.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac232.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac185.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac178.50",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": null
      }
    ],
    "terms": {
      "cancellation": "14 days notice required"
    },
    "repeat": true
  }
]
2025-02-05 20:24:09,308 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Centre of English Studies",
    "locations": [
      {
        "city": "Dublin",
        "country": "IE",
        "address": "Not Provided",
        "courses": [
          {
            "name": "Standard General English",
            "lessons_per_week": 20,
            "description": "Morning classes Mon-Fri",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac284.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac252.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac228.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac185.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac178.50",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 26,
            "description": "Morning and afternoon classes",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac340.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac320.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac308.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac241.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac231.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Afternoon English",
            "lessons_per_week": 15,
            "description": "Afternoon only classes",
            "prices": [
              {
                "duration": "full course",
                "price": "\u20ac2950.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": null
      },
      {
        "city": "Cork",
        "country": "IE",
        "address": "Not Provided",
        "courses": [
          {
            "name": "Standard General English",
            "lessons_per_week": 20,
            "description": "Morning classes Mon-Fri",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac228.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac200.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac180.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac140.00",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac133.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 26,
            "description": "Morning and afternoon classes",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac280.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac252.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac232.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac185.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac178.50",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": null
      }
    ],
    "terms": {
      "cancellation": "14 days notice required"
    },
    "repeat": true
  }
]
2025-02-05 20:24:09,308 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


Please provide the remaining courses that were not included in the previous response. 
 Previous response was: 
 [
  {
    "name": "Centre of English Studies",
    "locations": [
      {
        "city": "Dublin",
        "country": "IE",
        "address": "Not Provided",
        "courses": [
          {
            "name": "Standard General English",
            "lessons_per_week": 20,
            "description": "Morning classes Mon-Fri",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac284.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac252.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac228.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac185.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac178.50",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 26,
            "description": "Morning and afternoon classes",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac340.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac320.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac308.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac241.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac231.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Afternoon English",
            "lessons_per_week": 15,
            "description": "Afternoon only classes",
            "prices": [
              {
                "duration": "full course",
                "price": "\u20ac2950.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": null
      },
      {
        "city": "Cork",
        "country": "IE",
        "address": "Not Provided",
        "courses": [
          {
            "name": "Standard General English",
            "lessons_per_week": 20,
            "description": "Morning classes Mon-Fri",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac228.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac200.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac180.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac140.00",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac133.00",
                "currency": "EUR"
              }
            ],
            "requirements": null
          },
          {
            "name": "Intensive English",
            "lessons_per_week": 26,
            "description": "Morning and afternoon classes",
            "prices": [
              {
                "duration": "2-4 weeks",
                "price": "\u20ac280.00",
                "currency": "EUR"
              },
              {
                "duration": "5-11 weeks",
                "price": "\u20ac252.00",
                "currency": "EUR"
              },
              {
                "duration": "12-23 weeks",
                "price": "\u20ac232.00",
                "currency": "EUR"
              },
              {
                "duration": "24-35 weeks",
                "price": "\u20ac185.50",
                "currency": "EUR"
              },
              {
                "duration": "+36 weeks",
                "price": "\u20ac178.50",
                "currency": "EUR"
              }
            ],
            "requirements": null
          }
        ],
        "accommodations": [],
        "additional_fees": null
      }
    ],
    "terms": {
      "cancellation": "14 days notice required"
    },
    "repeat": true
  }
]
2025-02-05 20:24:09,311 - src.logger - DEBUG - Saved image to logs/image_1738769049.jpg
2025-02-05 20:24:09,311 - src.logger - DEBUG - Saved image to logs/image_1738769049.jpg
2025-02-05 20:24:09,311 - src.logger - DEBUG - Saved image to logs/image_1738769049.jpg
2025-02-05 20:24:23,521 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:23,521 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:23,521 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:23,521 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"GB","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Classes cover general English skills.","prices":[{"duration":"2-4 weeks","price":"£220.00","currency":"GBP"},{"duration":"5-11 weeks","price":"£212.00","currency":"GBP"},{"duration":"12-23 weeks","price":"£204.00","currency":"GBP"},{"duration":"24-35 weeks","price":"£175.00","currency":"GBP"},{"duration":"36+ weeks","price":"£168.00","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"A mix of morning and afternoon lessons.","prices":[{"duration":"2-4 weeks","price":"£312.00","currency":"GBP"},{"duration":"5-11 weeks","price":"£296.00","currency":"GBP"},{"duration":"12-23 weeks","price":"£292.00","currency":"GBP"},{"duration":"24-35 weeks","price":"£248.50","currency":"GBP"},{"duration":"36+ weeks","price":"£241.50","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":null},{"city":"Toronto","country":"CA","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Dedicated English instruction.","prices":[{"duration":"2-4 weeks","price":"CA$330.00","currency":"CAD"},{"duration":"5-11 weeks","price":"CA$311.25","currency":"CAD"},{"duration":"12-23 weeks","price":"CA$296.25","currency":"CAD"},{"duration":"24-35 weeks","price":"CA$273.75","currency":"CAD"},{"duration":"36+ weeks","price":"CA$258.75","currency":"CAD"}],"requirements":null},{"name":"Super Intensive English","lessons_per_week":30,"description":"Focus on advanced English skills.","prices":[{"duration":"2-4 weeks","price":"CA$375.00","currency":"CAD"},{"duration":"5-11 weeks","price":"CA$356.25","currency":"CAD"},{"duration":"12-23 weeks","price":"CA$333.75","currency":"CAD"},{"duration":"24-35 weeks","price":"CA$315.00","currency":"CAD"},{"duration":"36+ weeks","price":"CA$300.00","currency":"CAD"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":false}
2025-02-05 20:24:23,521 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"GB","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Classes cover general English skills.","prices":[{"duration":"2-4 weeks","price":"£220.00","currency":"GBP"},{"duration":"5-11 weeks","price":"£212.00","currency":"GBP"},{"duration":"12-23 weeks","price":"£204.00","currency":"GBP"},{"duration":"24-35 weeks","price":"£175.00","currency":"GBP"},{"duration":"36+ weeks","price":"£168.00","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"A mix of morning and afternoon lessons.","prices":[{"duration":"2-4 weeks","price":"£312.00","currency":"GBP"},{"duration":"5-11 weeks","price":"£296.00","currency":"GBP"},{"duration":"12-23 weeks","price":"£292.00","currency":"GBP"},{"duration":"24-35 weeks","price":"£248.50","currency":"GBP"},{"duration":"36+ weeks","price":"£241.50","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":null},{"city":"Toronto","country":"CA","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Dedicated English instruction.","prices":[{"duration":"2-4 weeks","price":"CA$330.00","currency":"CAD"},{"duration":"5-11 weeks","price":"CA$311.25","currency":"CAD"},{"duration":"12-23 weeks","price":"CA$296.25","currency":"CAD"},{"duration":"24-35 weeks","price":"CA$273.75","currency":"CAD"},{"duration":"36+ weeks","price":"CA$258.75","currency":"CAD"}],"requirements":null},{"name":"Super Intensive English","lessons_per_week":30,"description":"Focus on advanced English skills.","prices":[{"duration":"2-4 weeks","price":"CA$375.00","currency":"CAD"},{"duration":"5-11 weeks","price":"CA$356.25","currency":"CAD"},{"duration":"12-23 weeks","price":"CA$333.75","currency":"CAD"},{"duration":"24-35 weeks","price":"CA$315.00","currency":"CAD"},{"duration":"36+ weeks","price":"CA$300.00","currency":"CAD"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":false}
2025-02-05 20:24:23,521 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"London","country":"GB","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Classes cover general English skills.","prices":[{"duration":"2-4 weeks","price":"£220.00","currency":"GBP"},{"duration":"5-11 weeks","price":"£212.00","currency":"GBP"},{"duration":"12-23 weeks","price":"£204.00","currency":"GBP"},{"duration":"24-35 weeks","price":"£175.00","currency":"GBP"},{"duration":"36+ weeks","price":"£168.00","currency":"GBP"}],"requirements":null},{"name":"Intensive English","lessons_per_week":26,"description":"A mix of morning and afternoon lessons.","prices":[{"duration":"2-4 weeks","price":"£312.00","currency":"GBP"},{"duration":"5-11 weeks","price":"£296.00","currency":"GBP"},{"duration":"12-23 weeks","price":"£292.00","currency":"GBP"},{"duration":"24-35 weeks","price":"£248.50","currency":"GBP"},{"duration":"36+ weeks","price":"£241.50","currency":"GBP"}],"requirements":null}],"accommodations":[],"additional_fees":null},{"city":"Toronto","country":"CA","address":"Not Provided","courses":[{"name":"Standard General English","lessons_per_week":20,"description":"Dedicated English instruction.","prices":[{"duration":"2-4 weeks","price":"CA$330.00","currency":"CAD"},{"duration":"5-11 weeks","price":"CA$311.25","currency":"CAD"},{"duration":"12-23 weeks","price":"CA$296.25","currency":"CAD"},{"duration":"24-35 weeks","price":"CA$273.75","currency":"CAD"},{"duration":"36+ weeks","price":"CA$258.75","currency":"CAD"}],"requirements":null},{"name":"Super Intensive English","lessons_per_week":30,"description":"Focus on advanced English skills.","prices":[{"duration":"2-4 weeks","price":"CA$375.00","currency":"CAD"},{"duration":"5-11 weeks","price":"CA$356.25","currency":"CAD"},{"duration":"12-23 weeks","price":"CA$333.75","currency":"CAD"},{"duration":"24-35 weeks","price":"CA$315.00","currency":"CAD"},{"duration":"36+ weeks","price":"CA$300.00","currency":"CAD"}],"requirements":null}],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"14 days notice required"},"repeat":false}
2025-02-05 20:24:23,521 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:23,521 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:23,521 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:23,524 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:24:23,524 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:24:23,524 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:24:23,526 - src.logger - INFO - PDF processing completed
2025-02-05 20:24:23,526 - src.logger - INFO - PDF processing completed
2025-02-05 20:24:23,526 - src.logger - INFO - PDF processing completed
2025-02-05 20:24:23,527 - src.logger - INFO - Starting merge of 2 results
2025-02-05 20:24:23,527 - src.logger - INFO - Starting merge of 2 results
2025-02-05 20:24:23,527 - src.logger - INFO - Starting merge of 2 results
2025-02-05 20:24:23,529 - src.logger - DEBUG - Merging result 1/2
2025-02-05 20:24:23,529 - src.logger - DEBUG - Merging result 1/2
2025-02-05 20:24:23,529 - src.logger - DEBUG - Merging result 1/2
2025-02-05 20:24:23,529 - src.logger - INFO - Merging schools
2025-02-05 20:24:23,529 - src.logger - INFO - Merging schools
2025-02-05 20:24:23,529 - src.logger - INFO - Merging schools
2025-02-05 20:24:23,530 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:24:23,530 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:24:23,530 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:24:23,531 - src.logger - DEBUG - Merging result 2/2
2025-02-05 20:24:23,531 - src.logger - DEBUG - Merging result 2/2
2025-02-05 20:24:23,531 - src.logger - DEBUG - Merging result 2/2
2025-02-05 20:24:23,531 - src.logger - INFO - Merging schools
2025-02-05 20:24:23,531 - src.logger - INFO - Merging schools
2025-02-05 20:24:23,531 - src.logger - INFO - Merging schools
2025-02-05 20:24:23,533 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:24:23,533 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:24:23,533 - src.logger - INFO - Merging 2 locations with 2 locations
2025-02-05 20:24:23,534 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:24:23,534 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:24:23,534 - src.logger - DEBUG - Processing location: London, GB
2025-02-05 20:24:23,535 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:24:23,535 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:24:23,535 - src.logger - DEBUG - Finding location: London, GB
2025-02-05 20:24:23,535 - src.logger - DEBUG - New location found: London
2025-02-05 20:24:23,535 - src.logger - DEBUG - New location found: London
2025-02-05 20:24:23,535 - src.logger - DEBUG - New location found: London
2025-02-05 20:24:23,535 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:24:23,535 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:24:23,535 - src.logger - DEBUG - Processing location: Toronto, CA
2025-02-05 20:24:23,535 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:24:23,535 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:24:23,535 - src.logger - DEBUG - Finding location: Toronto, CA
2025-02-05 20:24:23,535 - src.logger - DEBUG - New location found: Toronto
2025-02-05 20:24:23,535 - src.logger - DEBUG - New location found: Toronto
2025-02-05 20:24:23,535 - src.logger - DEBUG - New location found: Toronto
2025-02-05 20:24:23,535 - src.logger - INFO - Merge completed successfully
2025-02-05 20:24:23,535 - src.logger - INFO - Merge completed successfully
2025-02-05 20:24:23,535 - src.logger - INFO - Merge completed successfully
2025-02-05 20:24:23,538 - src.logger - INFO - Saving results to data/output_files/CES Eastern Europe Regional price 2025_output.json
2025-02-05 20:24:23,538 - src.logger - INFO - Saving results to data/output_files/CES Eastern Europe Regional price 2025_output.json
2025-02-05 20:24:23,538 - src.logger - INFO - Saving results to data/output_files/CES Eastern Europe Regional price 2025_output.json
2025-02-05 20:24:23,543 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Clubclass-2025-Course-Accommodation-Fees Malta.pdf
2025-02-05 20:24:23,543 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Clubclass-2025-Course-Accommodation-Fees Malta.pdf
2025-02-05 20:24:23,543 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Clubclass-2025-Course-Accommodation-Fees Malta.pdf
2025-02-05 20:24:23,546 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:24:23,546 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:24:23,546 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:24:23,548 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:24:23,548 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:24:23,548 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:24:23,957 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Clubclass-2025-Course-Accommodation-Fees Malta.pdf
2025-02-05 20:24:23,957 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Clubclass-2025-Course-Accommodation-Fees Malta.pdf
2025-02-05 20:24:23,957 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Clubclass-2025-Course-Accommodation-Fees Malta.pdf
2025-02-05 20:24:24,033 - src.logger - INFO - Opened PDF with 16 pages
2025-02-05 20:24:24,033 - src.logger - INFO - Opened PDF with 16 pages
2025-02-05 20:24:24,033 - src.logger - INFO - Opened PDF with 16 pages
2025-02-05 20:24:24,035 - src.logger - INFO - Processing page 1/16
2025-02-05 20:24:24,035 - src.logger - INFO - Processing page 1/16
2025-02-05 20:24:24,035 - src.logger - INFO - Processing page 1/16
2025-02-05 20:24:24,183 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:24,183 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:24,183 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:24,190 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:24,190 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:24,190 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:24,200 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:24,200 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:24,200 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:24,201 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:24,201 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:24,201 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:24,203 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:24,203 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:24,203 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:24,205 - src.logger - DEBUG - Saved image to logs/image_1738769064.jpg
2025-02-05 20:24:24,205 - src.logger - DEBUG - Saved image to logs/image_1738769064.jpg
2025-02-05 20:24:24,205 - src.logger - DEBUG - Saved image to logs/image_1738769064.jpg
2025-02-05 20:24:34,273 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:34,273 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:34,273 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:34,273 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass English Language School",
    "locations": [
        {
            "city": "Swieqi",
            "country": "MT",
            "address": "Clubclass Residential Language School, Swieqi, Malta",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:24:34,273 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass English Language School",
    "locations": [
        {
            "city": "Swieqi",
            "country": "MT",
            "address": "Clubclass Residential Language School, Swieqi, Malta",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:24:34,273 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass English Language School",
    "locations": [
        {
            "city": "Swieqi",
            "country": "MT",
            "address": "Clubclass Residential Language School, Swieqi, Malta",
            "courses": [],
            "accommodations": [],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:24:34,274 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:34,274 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:34,274 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:34,276 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:24:34,276 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:24:34,276 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:24:34,278 - src.logger - INFO - Processing page 2/16
2025-02-05 20:24:34,278 - src.logger - INFO - Processing page 2/16
2025-02-05 20:24:34,278 - src.logger - INFO - Processing page 2/16
2025-02-05 20:24:34,305 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:34,305 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:34,305 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:34,313 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:34,313 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:34,313 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:34,323 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:34,323 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:34,323 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:34,325 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:34,325 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:34,325 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:34,327 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:34,327 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:34,327 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:34,329 - src.logger - DEBUG - Saved image to logs/image_1738769074.jpg
2025-02-05 20:24:34,329 - src.logger - DEBUG - Saved image to logs/image_1738769074.jpg
2025-02-05 20:24:34,329 - src.logger - DEBUG - Saved image to logs/image_1738769074.jpg
2025-02-05 20:24:53,837 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:53,837 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:53,837 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:24:53,837 - src.logger - DEBUG - Raw API response content: { "name": "Clubclass English Language School", "locations": [ { "city": "Malta", "country": "MT", "address": "address not provided", "courses": [ { "name": "General English - Standard", "lessons_per_week": 20, "description": "Group class with up to 12 students.", "prices": [ { "duration": "1-7 weeks", "price": "€200", "currency": "EUR" }, { "duration": "8-23 weeks", "price": "€160", "currency": "EUR" }, { "duration": "24+ weeks", "price": "€140", "currency": "EUR" } ], "requirements": "Intermediate level." }, { "name": "General English - Intensive", "lessons_per_week": 30, "description": "Increased lesson involvement for faster improvement.", "prices": [ { "duration": "1-7 weeks", "price": "€265", "currency": "EUR" }, { "duration": "8-23 weeks", "price": "€225", "currency": "EUR" }, { "duration": "24+ weeks", "price": "€205", "currency": "EUR" } ], "requirements": "Intermediate or higher level." }, { "name": "Individual English - 10 lessons", "lessons_per_week": 10, "description": "Individual lessons for focused language learning.", "prices": [ { "duration": "constant", "price": "€360", "currency": "EUR" } ], "requirements": null } ], "accommodations": [ { "type": "Homestay", "price_per_week": "€180", "description": "Shared accommodation with a host family.", "supplements": { "Summer": "€80 per week" } }, { "type": "Self-Catering Apartment", "price_per_week": "€260", "description": "Independence living with self-catering options.", "supplements": { "Summer": "€100 per week additional" } } ], "additional_fees": { "registration": "€25", "exam_fee": "€100" } } ], "terms": { "cancellation": "14 days notice required for full refund." }, "repeat": null }
2025-02-05 20:24:53,837 - src.logger - DEBUG - Raw API response content: { "name": "Clubclass English Language School", "locations": [ { "city": "Malta", "country": "MT", "address": "address not provided", "courses": [ { "name": "General English - Standard", "lessons_per_week": 20, "description": "Group class with up to 12 students.", "prices": [ { "duration": "1-7 weeks", "price": "€200", "currency": "EUR" }, { "duration": "8-23 weeks", "price": "€160", "currency": "EUR" }, { "duration": "24+ weeks", "price": "€140", "currency": "EUR" } ], "requirements": "Intermediate level." }, { "name": "General English - Intensive", "lessons_per_week": 30, "description": "Increased lesson involvement for faster improvement.", "prices": [ { "duration": "1-7 weeks", "price": "€265", "currency": "EUR" }, { "duration": "8-23 weeks", "price": "€225", "currency": "EUR" }, { "duration": "24+ weeks", "price": "€205", "currency": "EUR" } ], "requirements": "Intermediate or higher level." }, { "name": "Individual English - 10 lessons", "lessons_per_week": 10, "description": "Individual lessons for focused language learning.", "prices": [ { "duration": "constant", "price": "€360", "currency": "EUR" } ], "requirements": null } ], "accommodations": [ { "type": "Homestay", "price_per_week": "€180", "description": "Shared accommodation with a host family.", "supplements": { "Summer": "€80 per week" } }, { "type": "Self-Catering Apartment", "price_per_week": "€260", "description": "Independence living with self-catering options.", "supplements": { "Summer": "€100 per week additional" } } ], "additional_fees": { "registration": "€25", "exam_fee": "€100" } } ], "terms": { "cancellation": "14 days notice required for full refund." }, "repeat": null }
2025-02-05 20:24:53,837 - src.logger - DEBUG - Raw API response content: { "name": "Clubclass English Language School", "locations": [ { "city": "Malta", "country": "MT", "address": "address not provided", "courses": [ { "name": "General English - Standard", "lessons_per_week": 20, "description": "Group class with up to 12 students.", "prices": [ { "duration": "1-7 weeks", "price": "€200", "currency": "EUR" }, { "duration": "8-23 weeks", "price": "€160", "currency": "EUR" }, { "duration": "24+ weeks", "price": "€140", "currency": "EUR" } ], "requirements": "Intermediate level." }, { "name": "General English - Intensive", "lessons_per_week": 30, "description": "Increased lesson involvement for faster improvement.", "prices": [ { "duration": "1-7 weeks", "price": "€265", "currency": "EUR" }, { "duration": "8-23 weeks", "price": "€225", "currency": "EUR" }, { "duration": "24+ weeks", "price": "€205", "currency": "EUR" } ], "requirements": "Intermediate or higher level." }, { "name": "Individual English - 10 lessons", "lessons_per_week": 10, "description": "Individual lessons for focused language learning.", "prices": [ { "duration": "constant", "price": "€360", "currency": "EUR" } ], "requirements": null } ], "accommodations": [ { "type": "Homestay", "price_per_week": "€180", "description": "Shared accommodation with a host family.", "supplements": { "Summer": "€80 per week" } }, { "type": "Self-Catering Apartment", "price_per_week": "€260", "description": "Independence living with self-catering options.", "supplements": { "Summer": "€100 per week additional" } } ], "additional_fees": { "registration": "€25", "exam_fee": "€100" } } ], "terms": { "cancellation": "14 days notice required for full refund." }, "repeat": null }
2025-02-05 20:24:53,838 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:53,838 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:53,838 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:24:53,840 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:24:53,840 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:24:53,840 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:24:53,842 - src.logger - INFO - Processing page 3/16
2025-02-05 20:24:53,842 - src.logger - INFO - Processing page 3/16
2025-02-05 20:24:53,842 - src.logger - INFO - Processing page 3/16
2025-02-05 20:24:53,918 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:53,918 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:53,918 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:24:53,925 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:53,925 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:53,925 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:24:53,934 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:53,934 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:53,934 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:24:53,936 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:53,936 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:53,936 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:24:53,938 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:53,938 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:53,938 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:24:53,940 - src.logger - DEBUG - Saved image to logs/image_1738769093.jpg
2025-02-05 20:24:53,940 - src.logger - DEBUG - Saved image to logs/image_1738769093.jpg
2025-02-05 20:24:53,940 - src.logger - DEBUG - Saved image to logs/image_1738769093.jpg
2025-02-05 20:25:14,413 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:14,413 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:14,413 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:14,413 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass English Language School","locations":[{"city":"Not provided","country":"Not provided","address":"Not provided","courses":[{"name":"Exam Preparation - Classic","lessons_per_week":30,"description":"One to One 10 + General English - Standard","prices":[],"requirements":null},{"name":"Exam Preparation - Fluency","lessons_per_week":30,"description":"One to One 20 + General English - Fluency","prices":[],"requirements":null},{"name":"Exam Preparation - 30","lessons_per_week":30,"description":"One to One 30","prices":[],"requirements":null},{"name":"Combination Course - Standard","lessons_per_week":30,"description":"General English - Standard + Individual English 10","prices":[],"requirements":null},{"name":"Combination Course - Intensive","lessons_per_week":30,"description":"Individual English 20 + General English - Fluency","prices":[],"requirements":null},{"name":"Business English - Intensive","lessons_per_week":30,"description":"Business English - Mini Group + General English - Fluency","prices":[],"requirements":null},{"name":"Business English - Combination","lessons_per_week":30,"description":"Business English - Mini Group + Individual English 10","prices":[],"requirements":null}],"accommodations":[],"additional_fees":{"Airport Transfers":". On Arrival: Free (when booking accommodation). On Departure: €28.50.","Pocket Money Fee":"€10","Courier Fee for Original Documents":"Europe €65; Asia incl. CIS €75; South America €85","Specific Lessons Time Supplement":"€45 per week"}}],"terms":{"cancellation":"Bookings extending beyond one season will be charged respective weekly supplement."},"repeat":false}
2025-02-05 20:25:14,413 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass English Language School","locations":[{"city":"Not provided","country":"Not provided","address":"Not provided","courses":[{"name":"Exam Preparation - Classic","lessons_per_week":30,"description":"One to One 10 + General English - Standard","prices":[],"requirements":null},{"name":"Exam Preparation - Fluency","lessons_per_week":30,"description":"One to One 20 + General English - Fluency","prices":[],"requirements":null},{"name":"Exam Preparation - 30","lessons_per_week":30,"description":"One to One 30","prices":[],"requirements":null},{"name":"Combination Course - Standard","lessons_per_week":30,"description":"General English - Standard + Individual English 10","prices":[],"requirements":null},{"name":"Combination Course - Intensive","lessons_per_week":30,"description":"Individual English 20 + General English - Fluency","prices":[],"requirements":null},{"name":"Business English - Intensive","lessons_per_week":30,"description":"Business English - Mini Group + General English - Fluency","prices":[],"requirements":null},{"name":"Business English - Combination","lessons_per_week":30,"description":"Business English - Mini Group + Individual English 10","prices":[],"requirements":null}],"accommodations":[],"additional_fees":{"Airport Transfers":". On Arrival: Free (when booking accommodation). On Departure: €28.50.","Pocket Money Fee":"€10","Courier Fee for Original Documents":"Europe €65; Asia incl. CIS €75; South America €85","Specific Lessons Time Supplement":"€45 per week"}}],"terms":{"cancellation":"Bookings extending beyond one season will be charged respective weekly supplement."},"repeat":false}
2025-02-05 20:25:14,413 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass English Language School","locations":[{"city":"Not provided","country":"Not provided","address":"Not provided","courses":[{"name":"Exam Preparation - Classic","lessons_per_week":30,"description":"One to One 10 + General English - Standard","prices":[],"requirements":null},{"name":"Exam Preparation - Fluency","lessons_per_week":30,"description":"One to One 20 + General English - Fluency","prices":[],"requirements":null},{"name":"Exam Preparation - 30","lessons_per_week":30,"description":"One to One 30","prices":[],"requirements":null},{"name":"Combination Course - Standard","lessons_per_week":30,"description":"General English - Standard + Individual English 10","prices":[],"requirements":null},{"name":"Combination Course - Intensive","lessons_per_week":30,"description":"Individual English 20 + General English - Fluency","prices":[],"requirements":null},{"name":"Business English - Intensive","lessons_per_week":30,"description":"Business English - Mini Group + General English - Fluency","prices":[],"requirements":null},{"name":"Business English - Combination","lessons_per_week":30,"description":"Business English - Mini Group + Individual English 10","prices":[],"requirements":null}],"accommodations":[],"additional_fees":{"Airport Transfers":". On Arrival: Free (when booking accommodation). On Departure: €28.50.","Pocket Money Fee":"€10","Courier Fee for Original Documents":"Europe €65; Asia incl. CIS €75; South America €85","Specific Lessons Time Supplement":"€45 per week"}}],"terms":{"cancellation":"Bookings extending beyond one season will be charged respective weekly supplement."},"repeat":false}
2025-02-05 20:25:14,413 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:14,413 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:14,413 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:14,416 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:25:14,416 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:25:14,416 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:25:14,417 - src.logger - INFO - Processing page 4/16
2025-02-05 20:25:14,417 - src.logger - INFO - Processing page 4/16
2025-02-05 20:25:14,417 - src.logger - INFO - Processing page 4/16
2025-02-05 20:25:14,472 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:14,472 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:14,472 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:14,479 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:14,479 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:14,479 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:14,490 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:14,490 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:14,490 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:14,494 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:14,494 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:14,494 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:14,495 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:14,495 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:14,495 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:14,497 - src.logger - DEBUG - Saved image to logs/image_1738769114.jpg
2025-02-05 20:25:14,497 - src.logger - DEBUG - Saved image to logs/image_1738769114.jpg
2025-02-05 20:25:14,497 - src.logger - DEBUG - Saved image to logs/image_1738769114.jpg
2025-02-05 20:25:31,102 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:31,102 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:31,102 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:31,102 - src.logger - DEBUG - Raw API response content: {
    "name": "Unidentified School",
    "locations": [
        {
            "city": "Unknown",
            "country": "MT",
            "address": "Unavailable",
            "courses": [
            ],
            "accommodations": [
                {
                    "type": "Student House (SC)",
                    "price_per_week": "€155-€145 (1-7 to 24+ weeks respectively)",
                    "description": "Shared room (up to 4) self-catered.",
                    "supplements": {
                        "High season supplement": "€80/week"
                    }
                },
                {
                    "type": "Sidra Apartments (SC)",
                    "price_per_week": "€160-€150 (1-7 to 24+ weeks respectively)",
                    "description": "Shared room self-catered.",
                    "supplements": null
                },
                {
                    "type": "Host Family (HB)",
                    "price_per_week": "€220-€200 (1-7 to 24+ weeks respectively)",
                    "description": "Half board (shared room).",
                    "supplements": {
                        "High season supplement": "None for >24 weeks."
                    }
                }
            ],
            "additional_fees": {
                "Airport transfer on booking accommodation (min one week)": "FREE",
                "Additional fees": "EUr 100 refundable upon departure."
            }
        }
    ],
    "terms": {
        "cancellation": "Terms apply by local, consult student guide."
    },
    "repeat": false
}
2025-02-05 20:25:31,102 - src.logger - DEBUG - Raw API response content: {
    "name": "Unidentified School",
    "locations": [
        {
            "city": "Unknown",
            "country": "MT",
            "address": "Unavailable",
            "courses": [
            ],
            "accommodations": [
                {
                    "type": "Student House (SC)",
                    "price_per_week": "€155-€145 (1-7 to 24+ weeks respectively)",
                    "description": "Shared room (up to 4) self-catered.",
                    "supplements": {
                        "High season supplement": "€80/week"
                    }
                },
                {
                    "type": "Sidra Apartments (SC)",
                    "price_per_week": "€160-€150 (1-7 to 24+ weeks respectively)",
                    "description": "Shared room self-catered.",
                    "supplements": null
                },
                {
                    "type": "Host Family (HB)",
                    "price_per_week": "€220-€200 (1-7 to 24+ weeks respectively)",
                    "description": "Half board (shared room).",
                    "supplements": {
                        "High season supplement": "None for >24 weeks."
                    }
                }
            ],
            "additional_fees": {
                "Airport transfer on booking accommodation (min one week)": "FREE",
                "Additional fees": "EUr 100 refundable upon departure."
            }
        }
    ],
    "terms": {
        "cancellation": "Terms apply by local, consult student guide."
    },
    "repeat": false
}
2025-02-05 20:25:31,102 - src.logger - DEBUG - Raw API response content: {
    "name": "Unidentified School",
    "locations": [
        {
            "city": "Unknown",
            "country": "MT",
            "address": "Unavailable",
            "courses": [
            ],
            "accommodations": [
                {
                    "type": "Student House (SC)",
                    "price_per_week": "€155-€145 (1-7 to 24+ weeks respectively)",
                    "description": "Shared room (up to 4) self-catered.",
                    "supplements": {
                        "High season supplement": "€80/week"
                    }
                },
                {
                    "type": "Sidra Apartments (SC)",
                    "price_per_week": "€160-€150 (1-7 to 24+ weeks respectively)",
                    "description": "Shared room self-catered.",
                    "supplements": null
                },
                {
                    "type": "Host Family (HB)",
                    "price_per_week": "€220-€200 (1-7 to 24+ weeks respectively)",
                    "description": "Half board (shared room).",
                    "supplements": {
                        "High season supplement": "None for >24 weeks."
                    }
                }
            ],
            "additional_fees": {
                "Airport transfer on booking accommodation (min one week)": "FREE",
                "Additional fees": "EUr 100 refundable upon departure."
            }
        }
    ],
    "terms": {
        "cancellation": "Terms apply by local, consult student guide."
    },
    "repeat": false
}
2025-02-05 20:25:31,102 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:31,102 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:31,102 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:31,104 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:25:31,104 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:25:31,104 - src.logger - INFO - Successfully processed page 4
2025-02-05 20:25:31,105 - src.logger - INFO - Processing page 5/16
2025-02-05 20:25:31,105 - src.logger - INFO - Processing page 5/16
2025-02-05 20:25:31,105 - src.logger - INFO - Processing page 5/16
2025-02-05 20:25:31,188 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:31,188 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:31,188 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:31,197 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:31,197 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:31,197 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:31,207 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:31,207 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:31,207 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:31,208 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:31,208 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:31,208 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:31,212 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:31,212 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:31,212 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:31,214 - src.logger - DEBUG - Saved image to logs/image_1738769131.jpg
2025-02-05 20:25:31,214 - src.logger - DEBUG - Saved image to logs/image_1738769131.jpg
2025-02-05 20:25:31,214 - src.logger - DEBUG - Saved image to logs/image_1738769131.jpg
2025-02-05 20:25:40,621 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:40,621 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:40,621 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:40,622 - src.logger - DEBUG - Raw API response content: {
    "name": "Language School Name (not mentioned in the provided image)",
    "locations": [
        {
            "city": "Sliema",
            "country": "MT",
            "address": "Exact address not mentioned in the image",
            "courses": [],
            "accommodations": [
                {
                    "type": "St. Andrews Suites - One Bedroom",
                    "price_per_week": "",
                    "description": "Walking distance from the school, shared and private options available, kitchen, wi-fi, and air conditioning.",
                    "supplements": null
                },
                {
                    "type": "Sunshine Court - One Bedroom Suite",
                    "price_per_week": "",
                    "description": "Within same building as school, all available features such as kitchen, air conditioning, and multiple room styles supported.",
                    "supplements": null
                },
                {
                    "type": "Garden View - One Bedroom Apartment",
                    "price_per_week": "",
                    "description": "Provided with options for twin, shared, and excellent features like kitchen and wi-fi.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "extra_nights": "Calculated on pro-rata basis for any extensions."
            }
        }
    ],
    "terms": {
        "notes": "Students traveling to this school and settings might be required for shared or private accommodations through reservations. Policies for cancellation or early departure might apply."
    },
    "repeat": false
}
2025-02-05 20:25:40,622 - src.logger - DEBUG - Raw API response content: {
    "name": "Language School Name (not mentioned in the provided image)",
    "locations": [
        {
            "city": "Sliema",
            "country": "MT",
            "address": "Exact address not mentioned in the image",
            "courses": [],
            "accommodations": [
                {
                    "type": "St. Andrews Suites - One Bedroom",
                    "price_per_week": "",
                    "description": "Walking distance from the school, shared and private options available, kitchen, wi-fi, and air conditioning.",
                    "supplements": null
                },
                {
                    "type": "Sunshine Court - One Bedroom Suite",
                    "price_per_week": "",
                    "description": "Within same building as school, all available features such as kitchen, air conditioning, and multiple room styles supported.",
                    "supplements": null
                },
                {
                    "type": "Garden View - One Bedroom Apartment",
                    "price_per_week": "",
                    "description": "Provided with options for twin, shared, and excellent features like kitchen and wi-fi.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "extra_nights": "Calculated on pro-rata basis for any extensions."
            }
        }
    ],
    "terms": {
        "notes": "Students traveling to this school and settings might be required for shared or private accommodations through reservations. Policies for cancellation or early departure might apply."
    },
    "repeat": false
}
2025-02-05 20:25:40,622 - src.logger - DEBUG - Raw API response content: {
    "name": "Language School Name (not mentioned in the provided image)",
    "locations": [
        {
            "city": "Sliema",
            "country": "MT",
            "address": "Exact address not mentioned in the image",
            "courses": [],
            "accommodations": [
                {
                    "type": "St. Andrews Suites - One Bedroom",
                    "price_per_week": "",
                    "description": "Walking distance from the school, shared and private options available, kitchen, wi-fi, and air conditioning.",
                    "supplements": null
                },
                {
                    "type": "Sunshine Court - One Bedroom Suite",
                    "price_per_week": "",
                    "description": "Within same building as school, all available features such as kitchen, air conditioning, and multiple room styles supported.",
                    "supplements": null
                },
                {
                    "type": "Garden View - One Bedroom Apartment",
                    "price_per_week": "",
                    "description": "Provided with options for twin, shared, and excellent features like kitchen and wi-fi.",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "extra_nights": "Calculated on pro-rata basis for any extensions."
            }
        }
    ],
    "terms": {
        "notes": "Students traveling to this school and settings might be required for shared or private accommodations through reservations. Policies for cancellation or early departure might apply."
    },
    "repeat": false
}
2025-02-05 20:25:40,622 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:40,622 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:40,622 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:40,624 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:25:40,624 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:25:40,624 - src.logger - INFO - Successfully processed page 5
2025-02-05 20:25:40,625 - src.logger - INFO - Processing page 6/16
2025-02-05 20:25:40,625 - src.logger - INFO - Processing page 6/16
2025-02-05 20:25:40,625 - src.logger - INFO - Processing page 6/16
2025-02-05 20:25:40,787 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:40,787 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:40,787 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:40,794 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:40,794 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:40,794 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:40,805 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:40,805 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:40,805 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:40,807 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:40,807 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:40,807 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:40,808 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:40,808 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:40,808 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:40,810 - src.logger - DEBUG - Saved image to logs/image_1738769140.jpg
2025-02-05 20:25:40,810 - src.logger - DEBUG - Saved image to logs/image_1738769140.jpg
2025-02-05 20:25:40,810 - src.logger - DEBUG - Saved image to logs/image_1738769140.jpg
2025-02-05 20:25:53,344 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:53,344 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:53,344 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:25:53,345 - src.logger - DEBUG - Raw API response content: {"name":"Internships Worldwide","locations":[{"city":"Valletta","country":"MT","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€395","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."},{"name":"Paid Internship","lessons_per_week":0,"description":"Work experience placements compensating with a stipend.","prices":[{"duration":"Standard","price":"€595","currency":"EUR"}],"requirements":"Available to European citizens only, 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}},{"city":"Madrid","country":"ES","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€325","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}},{"city":"Dublin","country":"IE","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€695","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}}],"terms":{"cancellation":"Minimum duration of the program is 1 week, and paid internships are only for European applicants.","other_inclusions":"Placement service includes pre-internship coaching, consultation, CV revision, and support throughout the program."},"repeat":false}
2025-02-05 20:25:53,345 - src.logger - DEBUG - Raw API response content: {"name":"Internships Worldwide","locations":[{"city":"Valletta","country":"MT","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€395","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."},{"name":"Paid Internship","lessons_per_week":0,"description":"Work experience placements compensating with a stipend.","prices":[{"duration":"Standard","price":"€595","currency":"EUR"}],"requirements":"Available to European citizens only, 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}},{"city":"Madrid","country":"ES","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€325","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}},{"city":"Dublin","country":"IE","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€695","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}}],"terms":{"cancellation":"Minimum duration of the program is 1 week, and paid internships are only for European applicants.","other_inclusions":"Placement service includes pre-internship coaching, consultation, CV revision, and support throughout the program."},"repeat":false}
2025-02-05 20:25:53,345 - src.logger - DEBUG - Raw API response content: {"name":"Internships Worldwide","locations":[{"city":"Valletta","country":"MT","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€395","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."},{"name":"Paid Internship","lessons_per_week":0,"description":"Work experience placements compensating with a stipend.","prices":[{"duration":"Standard","price":"€595","currency":"EUR"}],"requirements":"Available to European citizens only, 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}},{"city":"Madrid","country":"ES","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€325","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}},{"city":"Dublin","country":"IE","address":"N/A","courses":[{"name":"Unpaid Internship","lessons_per_week":0,"description":"Practical work placements to enhance language skills and work experience.","prices":[{"duration":"Standard","price":"€695","currency":"EUR"}],"requirements":"Available to individuals of 16 years old and upward, with elementary level of English, requiring no previous work experience."}],"accommodations":[],"additional_fees":{"additional_week_per_fee_over_12_weeks":"€20"}}],"terms":{"cancellation":"Minimum duration of the program is 1 week, and paid internships are only for European applicants.","other_inclusions":"Placement service includes pre-internship coaching, consultation, CV revision, and support throughout the program."},"repeat":false}
2025-02-05 20:25:53,345 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:53,345 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:53,345 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:25:53,348 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:25:53,348 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:25:53,348 - src.logger - INFO - Successfully processed page 6
2025-02-05 20:25:53,349 - src.logger - INFO - Processing page 7/16
2025-02-05 20:25:53,349 - src.logger - INFO - Processing page 7/16
2025-02-05 20:25:53,349 - src.logger - INFO - Processing page 7/16
2025-02-05 20:25:53,521 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:53,521 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:53,521 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:25:53,529 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:53,529 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:53,529 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:25:53,539 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:53,539 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:53,539 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:25:53,541 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:53,541 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:53,541 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:25:53,542 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:53,542 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:53,542 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:25:53,584 - src.logger - DEBUG - Saved image to logs/image_1738769153.jpg
2025-02-05 20:25:53,584 - src.logger - DEBUG - Saved image to logs/image_1738769153.jpg
2025-02-05 20:25:53,584 - src.logger - DEBUG - Saved image to logs/image_1738769153.jpg
2025-02-05 20:26:06,223 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:06,223 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:06,223 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:06,223 - src.logger - DEBUG - Raw API response content: {"name":"Escuela Internacional de Idiomas","locations":[{"city":"Madrid","country":"ES","address":"Calle de Alcalá, 45, Madrid, España","courses":[{"name":"Spanish for Beginners","lessons_per_week":20,"description":"An introduction to Spanish language and culture.","prices":[{"duration":"2 weeks","price":"€300","currency":"EUR"},{"duration":"4 weeks","price":"€500","currency":"EUR"}],"requirements":"None"},{"name":"Spanish Immersion","lessons_per_week":30,"description":"Intensive Spanish course with cultural activities.","prices":[{"duration":"1 week","price":"€350","currency":"EUR"},{"duration":"3 weeks","price":"€900","currency":"EUR"}],"requirements":"Basic understanding of Spanish"}],"accommodations":[{"type":"Homestay","price_per_week":"€200","description":"Single room with breakfast and dinner.","supplements":null},{"type":"Shared Apartment","price_per_week":"€150","description":"Shared room in an apartment with access to kitchen.","supplements":null}],"additional_fees":{"registration_fee":"€50","materials_fee":"€20"}}],"terms":{"cancellation_policy":"Full refund is available for cancellations made 30 days before the course start date.","payment_terms":"A 20% deposit is required within two weeks of enrollment to secure your spot."},"repeat":false}
2025-02-05 20:26:06,223 - src.logger - DEBUG - Raw API response content: {"name":"Escuela Internacional de Idiomas","locations":[{"city":"Madrid","country":"ES","address":"Calle de Alcalá, 45, Madrid, España","courses":[{"name":"Spanish for Beginners","lessons_per_week":20,"description":"An introduction to Spanish language and culture.","prices":[{"duration":"2 weeks","price":"€300","currency":"EUR"},{"duration":"4 weeks","price":"€500","currency":"EUR"}],"requirements":"None"},{"name":"Spanish Immersion","lessons_per_week":30,"description":"Intensive Spanish course with cultural activities.","prices":[{"duration":"1 week","price":"€350","currency":"EUR"},{"duration":"3 weeks","price":"€900","currency":"EUR"}],"requirements":"Basic understanding of Spanish"}],"accommodations":[{"type":"Homestay","price_per_week":"€200","description":"Single room with breakfast and dinner.","supplements":null},{"type":"Shared Apartment","price_per_week":"€150","description":"Shared room in an apartment with access to kitchen.","supplements":null}],"additional_fees":{"registration_fee":"€50","materials_fee":"€20"}}],"terms":{"cancellation_policy":"Full refund is available for cancellations made 30 days before the course start date.","payment_terms":"A 20% deposit is required within two weeks of enrollment to secure your spot."},"repeat":false}
2025-02-05 20:26:06,223 - src.logger - DEBUG - Raw API response content: {"name":"Escuela Internacional de Idiomas","locations":[{"city":"Madrid","country":"ES","address":"Calle de Alcalá, 45, Madrid, España","courses":[{"name":"Spanish for Beginners","lessons_per_week":20,"description":"An introduction to Spanish language and culture.","prices":[{"duration":"2 weeks","price":"€300","currency":"EUR"},{"duration":"4 weeks","price":"€500","currency":"EUR"}],"requirements":"None"},{"name":"Spanish Immersion","lessons_per_week":30,"description":"Intensive Spanish course with cultural activities.","prices":[{"duration":"1 week","price":"€350","currency":"EUR"},{"duration":"3 weeks","price":"€900","currency":"EUR"}],"requirements":"Basic understanding of Spanish"}],"accommodations":[{"type":"Homestay","price_per_week":"€200","description":"Single room with breakfast and dinner.","supplements":null},{"type":"Shared Apartment","price_per_week":"€150","description":"Shared room in an apartment with access to kitchen.","supplements":null}],"additional_fees":{"registration_fee":"€50","materials_fee":"€20"}}],"terms":{"cancellation_policy":"Full refund is available for cancellations made 30 days before the course start date.","payment_terms":"A 20% deposit is required within two weeks of enrollment to secure your spot."},"repeat":false}
2025-02-05 20:26:06,223 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:06,223 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:06,223 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:06,225 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:26:06,225 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:26:06,225 - src.logger - INFO - Successfully processed page 7
2025-02-05 20:26:06,227 - src.logger - INFO - Processing page 8/16
2025-02-05 20:26:06,227 - src.logger - INFO - Processing page 8/16
2025-02-05 20:26:06,227 - src.logger - INFO - Processing page 8/16
2025-02-05 20:26:06,330 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:06,330 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:06,330 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:06,337 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:06,337 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:06,337 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:06,347 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:06,347 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:06,347 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:06,348 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:06,348 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:06,348 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:06,350 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:06,350 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:06,350 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:06,352 - src.logger - DEBUG - Saved image to logs/image_1738769166.jpg
2025-02-05 20:26:06,352 - src.logger - DEBUG - Saved image to logs/image_1738769166.jpg
2025-02-05 20:26:06,352 - src.logger - DEBUG - Saved image to logs/image_1738769166.jpg
2025-02-05 20:26:21,990 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:21,990 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:21,990 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:21,991 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass",
    "locations": [
        {
            "city": "Unknown",
            "country": "Unknown",
            "address": "",
            "courses": [
                {
                    "name": "Group English Course",
                    "lessons_per_week": 20,
                    "description": "Classes with a maximum of 15 students aimed for groups aged 7 and older.",
                    "prices": [],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Host Family (FB)",
                    "price_per_week": "€420",
                    "description": "Staying with a host family including breakfast, packed lunch, and dinner.",
                    "supplements": null
                },
                {
                    "type": "Hotel (HB)",
                    "price_per_week": "€515",
                    "description": "Staying in a shared hotel room with meals provided.",
                    "supplements": {
                        "Available": "From January to December."
                    }
                }
            ],
            "additional_fees": {
                "details": "Rates are for groups with a minimum of 20 participants and provide access to course materials, activities, and facilities."
            }
        }
    ],
    "terms": {
        "cancellation": "Conditions specific to groups depend on contract agreements."
    },
    "repeat": null
}
2025-02-05 20:26:21,991 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass",
    "locations": [
        {
            "city": "Unknown",
            "country": "Unknown",
            "address": "",
            "courses": [
                {
                    "name": "Group English Course",
                    "lessons_per_week": 20,
                    "description": "Classes with a maximum of 15 students aimed for groups aged 7 and older.",
                    "prices": [],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Host Family (FB)",
                    "price_per_week": "€420",
                    "description": "Staying with a host family including breakfast, packed lunch, and dinner.",
                    "supplements": null
                },
                {
                    "type": "Hotel (HB)",
                    "price_per_week": "€515",
                    "description": "Staying in a shared hotel room with meals provided.",
                    "supplements": {
                        "Available": "From January to December."
                    }
                }
            ],
            "additional_fees": {
                "details": "Rates are for groups with a minimum of 20 participants and provide access to course materials, activities, and facilities."
            }
        }
    ],
    "terms": {
        "cancellation": "Conditions specific to groups depend on contract agreements."
    },
    "repeat": null
}
2025-02-05 20:26:21,991 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass",
    "locations": [
        {
            "city": "Unknown",
            "country": "Unknown",
            "address": "",
            "courses": [
                {
                    "name": "Group English Course",
                    "lessons_per_week": 20,
                    "description": "Classes with a maximum of 15 students aimed for groups aged 7 and older.",
                    "prices": [],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Host Family (FB)",
                    "price_per_week": "€420",
                    "description": "Staying with a host family including breakfast, packed lunch, and dinner.",
                    "supplements": null
                },
                {
                    "type": "Hotel (HB)",
                    "price_per_week": "€515",
                    "description": "Staying in a shared hotel room with meals provided.",
                    "supplements": {
                        "Available": "From January to December."
                    }
                }
            ],
            "additional_fees": {
                "details": "Rates are for groups with a minimum of 20 participants and provide access to course materials, activities, and facilities."
            }
        }
    ],
    "terms": {
        "cancellation": "Conditions specific to groups depend on contract agreements."
    },
    "repeat": null
}
2025-02-05 20:26:21,991 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:21,991 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:21,991 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:21,993 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:26:21,993 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:26:21,993 - src.logger - INFO - Successfully processed page 8
2025-02-05 20:26:21,994 - src.logger - INFO - Processing page 9/16
2025-02-05 20:26:21,994 - src.logger - INFO - Processing page 9/16
2025-02-05 20:26:21,994 - src.logger - INFO - Processing page 9/16
2025-02-05 20:26:22,036 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:22,036 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:22,036 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:22,043 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:22,043 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:22,043 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:22,054 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:22,054 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:22,054 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:22,055 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:22,055 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:22,055 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:22,057 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:22,057 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:22,057 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:22,058 - src.logger - DEBUG - Saved image to logs/image_1738769182.jpg
2025-02-05 20:26:22,058 - src.logger - DEBUG - Saved image to logs/image_1738769182.jpg
2025-02-05 20:26:22,058 - src.logger - DEBUG - Saved image to logs/image_1738769182.jpg
2025-02-05 20:26:42,266 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:42,266 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:42,266 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:26:42,266 - src.logger - DEBUG - Raw API response content: {
    "name": "Parent & Child Programme",
    "locations": [
        {
            "city": "N/A",
            "country": "N/A",
            "address": "N/A",
            "courses": [
                {
                    "name": "Individual Lessons",
                    "lessons_per_week": 5,
                    "description": "Five individual lessons per week",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€180",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Semi-Individual Lessons",
                    "lessons_per_week": 5,
                    "description": "Five semi-individual lessons per week, for two students of the same level",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€90",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "General Group Lessons",
                    "lessons_per_week": 20,
                    "description": "Twenty lessons per week with a maximum of 15 students in a group",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€280",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "One Bedroom Suite",
                    "price_per_week": "€500 (low season), €660 (high season)",
                    "description": "St Andrew's One Bedroom Suite for one adult and one child, for at least one person attending a course",
                    "supplements": null
                },
                {
                    "type": "Two Bedroom Suite",
                    "price_per_week": "€640 (low season), €800 (high season)",
                    "description": "St Andrew's Two Bedroom Suite for one adult and one child, for at least two persons attending a course",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "registration_fee": "Included",
                "childcare": "Available at a charge."
            }
        }
    ],
    "terms": null,
    "repeat": null
}
2025-02-05 20:26:42,266 - src.logger - DEBUG - Raw API response content: {
    "name": "Parent & Child Programme",
    "locations": [
        {
            "city": "N/A",
            "country": "N/A",
            "address": "N/A",
            "courses": [
                {
                    "name": "Individual Lessons",
                    "lessons_per_week": 5,
                    "description": "Five individual lessons per week",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€180",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Semi-Individual Lessons",
                    "lessons_per_week": 5,
                    "description": "Five semi-individual lessons per week, for two students of the same level",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€90",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "General Group Lessons",
                    "lessons_per_week": 20,
                    "description": "Twenty lessons per week with a maximum of 15 students in a group",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€280",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "One Bedroom Suite",
                    "price_per_week": "€500 (low season), €660 (high season)",
                    "description": "St Andrew's One Bedroom Suite for one adult and one child, for at least one person attending a course",
                    "supplements": null
                },
                {
                    "type": "Two Bedroom Suite",
                    "price_per_week": "€640 (low season), €800 (high season)",
                    "description": "St Andrew's Two Bedroom Suite for one adult and one child, for at least two persons attending a course",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "registration_fee": "Included",
                "childcare": "Available at a charge."
            }
        }
    ],
    "terms": null,
    "repeat": null
}
2025-02-05 20:26:42,266 - src.logger - DEBUG - Raw API response content: {
    "name": "Parent & Child Programme",
    "locations": [
        {
            "city": "N/A",
            "country": "N/A",
            "address": "N/A",
            "courses": [
                {
                    "name": "Individual Lessons",
                    "lessons_per_week": 5,
                    "description": "Five individual lessons per week",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€180",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "Semi-Individual Lessons",
                    "lessons_per_week": 5,
                    "description": "Five semi-individual lessons per week, for two students of the same level",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€90",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                },
                {
                    "name": "General Group Lessons",
                    "lessons_per_week": 20,
                    "description": "Twenty lessons per week with a maximum of 15 students in a group",
                    "prices": [
                        {
                            "duration": "week",
                            "price": "€280",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "One Bedroom Suite",
                    "price_per_week": "€500 (low season), €660 (high season)",
                    "description": "St Andrew's One Bedroom Suite for one adult and one child, for at least one person attending a course",
                    "supplements": null
                },
                {
                    "type": "Two Bedroom Suite",
                    "price_per_week": "€640 (low season), €800 (high season)",
                    "description": "St Andrew's Two Bedroom Suite for one adult and one child, for at least two persons attending a course",
                    "supplements": null
                }
            ],
            "additional_fees": {
                "registration_fee": "Included",
                "childcare": "Available at a charge."
            }
        }
    ],
    "terms": null,
    "repeat": null
}
2025-02-05 20:26:42,266 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:42,266 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:42,266 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:26:42,269 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:26:42,269 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:26:42,269 - src.logger - INFO - Successfully processed page 9
2025-02-05 20:26:42,270 - src.logger - INFO - Processing page 10/16
2025-02-05 20:26:42,270 - src.logger - INFO - Processing page 10/16
2025-02-05 20:26:42,270 - src.logger - INFO - Processing page 10/16
2025-02-05 20:26:42,377 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:42,377 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:42,377 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:26:42,385 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:42,385 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:42,385 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:26:42,396 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:42,396 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:42,396 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:26:42,397 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:42,397 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:42,397 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:26:42,398 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:42,398 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:42,398 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:26:42,401 - src.logger - DEBUG - Saved image to logs/image_1738769202.jpg
2025-02-05 20:26:42,401 - src.logger - DEBUG - Saved image to logs/image_1738769202.jpg
2025-02-05 20:26:42,401 - src.logger - DEBUG - Saved image to logs/image_1738769202.jpg
2025-02-05 20:27:00,290 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:00,290 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:00,290 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:00,291 - src.logger - DEBUG - Raw API response content: {
    "name": "Liberty Programme",
    "locations": [
        {
            "city": "Malta",
            "country": "MT",
            "address": "Not specified",
            "courses": [
                {
                    "name": "General English Program",
                    "lessons_per_week": 20,
                    "description": "Enhance your language skills through integrated academic learning and recreational activities.",
                    "prices": [
                        {
                            "duration": "Weekly",
                            "price": "€875",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": "16-20 years old"
                }
            ],
            "accommodations": [
                {
                    "type": "Garden View Complex",
                    "price_per_week": "€875",
                    "description": "Shared air-conditioned bedrooms with breakfast and dinner."
                , "supplements": {"extra_night": "€75"}},
                {
                    "type": "Host Family",
                    "price_per_week": "€675",
                    "description": "Shared bedrooms with breakfast and dinner.",
                    "supplements": {"extra_night": "€45"}
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Not provided"
    },
    "repeat": false
}
2025-02-05 20:27:00,291 - src.logger - DEBUG - Raw API response content: {
    "name": "Liberty Programme",
    "locations": [
        {
            "city": "Malta",
            "country": "MT",
            "address": "Not specified",
            "courses": [
                {
                    "name": "General English Program",
                    "lessons_per_week": 20,
                    "description": "Enhance your language skills through integrated academic learning and recreational activities.",
                    "prices": [
                        {
                            "duration": "Weekly",
                            "price": "€875",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": "16-20 years old"
                }
            ],
            "accommodations": [
                {
                    "type": "Garden View Complex",
                    "price_per_week": "€875",
                    "description": "Shared air-conditioned bedrooms with breakfast and dinner."
                , "supplements": {"extra_night": "€75"}},
                {
                    "type": "Host Family",
                    "price_per_week": "€675",
                    "description": "Shared bedrooms with breakfast and dinner.",
                    "supplements": {"extra_night": "€45"}
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Not provided"
    },
    "repeat": false
}
2025-02-05 20:27:00,291 - src.logger - DEBUG - Raw API response content: {
    "name": "Liberty Programme",
    "locations": [
        {
            "city": "Malta",
            "country": "MT",
            "address": "Not specified",
            "courses": [
                {
                    "name": "General English Program",
                    "lessons_per_week": 20,
                    "description": "Enhance your language skills through integrated academic learning and recreational activities.",
                    "prices": [
                        {
                            "duration": "Weekly",
                            "price": "€875",
                            "currency": "EUR"
                        }
                    ],
                    "requirements": "16-20 years old"
                }
            ],
            "accommodations": [
                {
                    "type": "Garden View Complex",
                    "price_per_week": "€875",
                    "description": "Shared air-conditioned bedrooms with breakfast and dinner."
                , "supplements": {"extra_night": "€75"}},
                {
                    "type": "Host Family",
                    "price_per_week": "€675",
                    "description": "Shared bedrooms with breakfast and dinner.",
                    "supplements": {"extra_night": "€45"}
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": {
        "cancellation": "Not provided"
    },
    "repeat": false
}
2025-02-05 20:27:00,291 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:00,291 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:00,291 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:00,293 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:27:00,293 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:27:00,293 - src.logger - INFO - Successfully processed page 10
2025-02-05 20:27:00,295 - src.logger - INFO - Processing page 11/16
2025-02-05 20:27:00,295 - src.logger - INFO - Processing page 11/16
2025-02-05 20:27:00,295 - src.logger - INFO - Processing page 11/16
2025-02-05 20:27:00,399 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:00,399 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:00,399 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:00,406 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:00,406 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:00,406 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:00,416 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:00,416 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:00,416 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:00,423 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:00,423 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:00,423 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:00,425 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:00,425 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:00,425 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:00,427 - src.logger - DEBUG - Saved image to logs/image_1738769220.jpg
2025-02-05 20:27:00,427 - src.logger - DEBUG - Saved image to logs/image_1738769220.jpg
2025-02-05 20:27:00,427 - src.logger - DEBUG - Saved image to logs/image_1738769220.jpg
2025-02-05 20:27:13,064 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:13,064 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:13,064 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:13,064 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass Language School",
    "locations": [
        {
            "city": "Swieqi",
            "country": "MT",
            "address": "Garden View Complex, Swieqi, Malta",
            "courses": [
                {
                    "name": "Liberty Programme",
                    "lessons_per_week": 0,
                    "description": "English language programme focused on various language skills including Reading, Writing, Listening, Speaking, and Grammar.",
                    "prices": [],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Residential Campus",
                    "price_per_week": "",
                    "description": "Garden View Complex: Curated facilities offering a smooth and enjoyable stay.",
                    "supplements": null
                },
                {
                    "type": "Homestay",
                    "price_per_week": "",
                    "description": "Stay with host families for a local cultural immersion.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:27:13,064 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass Language School",
    "locations": [
        {
            "city": "Swieqi",
            "country": "MT",
            "address": "Garden View Complex, Swieqi, Malta",
            "courses": [
                {
                    "name": "Liberty Programme",
                    "lessons_per_week": 0,
                    "description": "English language programme focused on various language skills including Reading, Writing, Listening, Speaking, and Grammar.",
                    "prices": [],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Residential Campus",
                    "price_per_week": "",
                    "description": "Garden View Complex: Curated facilities offering a smooth and enjoyable stay.",
                    "supplements": null
                },
                {
                    "type": "Homestay",
                    "price_per_week": "",
                    "description": "Stay with host families for a local cultural immersion.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:27:13,064 - src.logger - DEBUG - Raw API response content: {
    "name": "Clubclass Language School",
    "locations": [
        {
            "city": "Swieqi",
            "country": "MT",
            "address": "Garden View Complex, Swieqi, Malta",
            "courses": [
                {
                    "name": "Liberty Programme",
                    "lessons_per_week": 0,
                    "description": "English language programme focused on various language skills including Reading, Writing, Listening, Speaking, and Grammar.",
                    "prices": [],
                    "requirements": null
                }
            ],
            "accommodations": [
                {
                    "type": "Residential Campus",
                    "price_per_week": "",
                    "description": "Garden View Complex: Curated facilities offering a smooth and enjoyable stay.",
                    "supplements": null
                },
                {
                    "type": "Homestay",
                    "price_per_week": "",
                    "description": "Stay with host families for a local cultural immersion.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:27:13,064 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:13,064 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:13,064 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:13,066 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:27:13,066 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:27:13,066 - src.logger - INFO - Successfully processed page 11
2025-02-05 20:27:13,068 - src.logger - INFO - Processing page 12/16
2025-02-05 20:27:13,068 - src.logger - INFO - Processing page 12/16
2025-02-05 20:27:13,068 - src.logger - INFO - Processing page 12/16
2025-02-05 20:27:13,370 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:13,370 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:13,370 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:13,377 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:13,377 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:13,377 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:13,386 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:13,386 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:13,386 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:13,388 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:13,388 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:13,388 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:13,390 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:13,390 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:13,390 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:13,391 - src.logger - DEBUG - Saved image to logs/image_1738769233.jpg
2025-02-05 20:27:13,391 - src.logger - DEBUG - Saved image to logs/image_1738769233.jpg
2025-02-05 20:27:13,391 - src.logger - DEBUG - Saved image to logs/image_1738769233.jpg
2025-02-05 20:27:27,427 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:27,427 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:27,427 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:27,427 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Malta","locations":[{"city":"Swieqi","country":"MT","address":"Swieqi, Malta","courses":[{"name":"Standard English course","lessons_per_week":20,"description":"Learn standard English with immersive lessons.","prices":[{"duration":"1 week","price":"€200","currency":"EUR"},{"duration":"4 weeks","price":"€750","currency":"EUR"}],"requirements":"Basic English understanding for beginners."}],"accommodations":[{"type":"Residential campus","price_per_week":"€150","description":"On-campus accommodation with ensuite options.","supplements":null}],"additional_fees":{"registration":"€50"}}],"terms":{"cancellation":"Full refund if canceled 15 days before the start.","repeat_policy":"Courses can be retaken for a supplementary fee."},"repeat":false}
2025-02-05 20:27:27,427 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Malta","locations":[{"city":"Swieqi","country":"MT","address":"Swieqi, Malta","courses":[{"name":"Standard English course","lessons_per_week":20,"description":"Learn standard English with immersive lessons.","prices":[{"duration":"1 week","price":"€200","currency":"EUR"},{"duration":"4 weeks","price":"€750","currency":"EUR"}],"requirements":"Basic English understanding for beginners."}],"accommodations":[{"type":"Residential campus","price_per_week":"€150","description":"On-campus accommodation with ensuite options.","supplements":null}],"additional_fees":{"registration":"€50"}}],"terms":{"cancellation":"Full refund if canceled 15 days before the start.","repeat_policy":"Courses can be retaken for a supplementary fee."},"repeat":false}
2025-02-05 20:27:27,427 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Malta","locations":[{"city":"Swieqi","country":"MT","address":"Swieqi, Malta","courses":[{"name":"Standard English course","lessons_per_week":20,"description":"Learn standard English with immersive lessons.","prices":[{"duration":"1 week","price":"€200","currency":"EUR"},{"duration":"4 weeks","price":"€750","currency":"EUR"}],"requirements":"Basic English understanding for beginners."}],"accommodations":[{"type":"Residential campus","price_per_week":"€150","description":"On-campus accommodation with ensuite options.","supplements":null}],"additional_fees":{"registration":"€50"}}],"terms":{"cancellation":"Full refund if canceled 15 days before the start.","repeat_policy":"Courses can be retaken for a supplementary fee."},"repeat":false}
2025-02-05 20:27:27,428 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:27,428 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:27,428 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:27,430 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:27:27,430 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:27:27,430 - src.logger - INFO - Successfully processed page 12
2025-02-05 20:27:27,432 - src.logger - INFO - Processing page 13/16
2025-02-05 20:27:27,432 - src.logger - INFO - Processing page 13/16
2025-02-05 20:27:27,432 - src.logger - INFO - Processing page 13/16
2025-02-05 20:27:27,604 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:27,604 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:27,604 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:27,611 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:27,611 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:27,611 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:27,621 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:27,621 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:27,621 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:27,622 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:27,622 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:27,622 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:27,623 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:27,623 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:27,623 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:27,624 - src.logger - DEBUG - Saved image to logs/image_1738769247.jpg
2025-02-05 20:27:27,624 - src.logger - DEBUG - Saved image to logs/image_1738769247.jpg
2025-02-05 20:27:27,624 - src.logger - DEBUG - Saved image to logs/image_1738769247.jpg
2025-02-05 20:27:38,185 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:38,185 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:38,185 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:38,185 - src.logger - DEBUG - Raw API response content: {
    "name": "Unspecified Language School",
    "locations": [
        {
            "city": "Unknown",
            "country": "Unknown",
            "address": "Unspecified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Student Houses",
                    "price_per_week": "Unspecified",
                    "description": "Facilities associated with the school premises.",
                    "supplements": null
                },
                {
                    "type": "Garden View",
                    "price_per_week": "Unspecified",
                    "description": "Accommodations with a garden view close to school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:27:38,185 - src.logger - DEBUG - Raw API response content: {
    "name": "Unspecified Language School",
    "locations": [
        {
            "city": "Unknown",
            "country": "Unknown",
            "address": "Unspecified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Student Houses",
                    "price_per_week": "Unspecified",
                    "description": "Facilities associated with the school premises.",
                    "supplements": null
                },
                {
                    "type": "Garden View",
                    "price_per_week": "Unspecified",
                    "description": "Accommodations with a garden view close to school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:27:38,185 - src.logger - DEBUG - Raw API response content: {
    "name": "Unspecified Language School",
    "locations": [
        {
            "city": "Unknown",
            "country": "Unknown",
            "address": "Unspecified",
            "courses": [],
            "accommodations": [
                {
                    "type": "Student Houses",
                    "price_per_week": "Unspecified",
                    "description": "Facilities associated with the school premises.",
                    "supplements": null
                },
                {
                    "type": "Garden View",
                    "price_per_week": "Unspecified",
                    "description": "Accommodations with a garden view close to school.",
                    "supplements": null
                }
            ],
            "additional_fees": null
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:27:38,186 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:38,186 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:38,186 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:38,188 - src.logger - INFO - Successfully processed page 13
2025-02-05 20:27:38,188 - src.logger - INFO - Successfully processed page 13
2025-02-05 20:27:38,188 - src.logger - INFO - Successfully processed page 13
2025-02-05 20:27:38,189 - src.logger - INFO - Processing page 14/16
2025-02-05 20:27:38,189 - src.logger - INFO - Processing page 14/16
2025-02-05 20:27:38,189 - src.logger - INFO - Processing page 14/16
2025-02-05 20:27:38,213 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:38,213 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:38,213 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:38,221 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:38,221 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:38,221 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:38,233 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:38,233 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:38,233 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:38,236 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:38,236 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:38,236 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:38,239 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:38,239 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:38,239 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:38,241 - src.logger - DEBUG - Saved image to logs/image_1738769258.jpg
2025-02-05 20:27:38,241 - src.logger - DEBUG - Saved image to logs/image_1738769258.jpg
2025-02-05 20:27:38,241 - src.logger - DEBUG - Saved image to logs/image_1738769258.jpg
2025-02-05 20:27:55,385 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:55,385 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:55,385 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:27:55,385 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Language Schools","locations":[{"city":"Malta","country":"MT","address":"Wilga Street, St Julian's, Malta","courses":[{"name":"General English","lessons_per_week":20,"description":"General English - Improve main language skills in a group (up to 12 students).","prices":[{"duration":"1-4 weeks","price":"€150","currency":"EUR"},{"duration":"4+ weeks","price":"€130","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":30,"description":"Intensive English, combination of General English and individual lessons.","prices":[{"duration":"1-4 weeks","price":"€280","currency":"EUR"},{"duration":"4+ weeks","price":"€260","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Host Family","price_per_week":"€200","description":"Stay with a local family, breakfast and dinner included.","supplements":{"private_bathroom":"€50/week"}},{"type":"Student Residence","price_per_week":"€150","description":"Stay with fellow students in shared accommodation.","supplements":null}],"additional_fees":{"registration":"€45","materials":"€25"}}],"terms":{"cancellation_policy":"Cancellations are subject to a refund minus administrative fees and only with 2 weeks prior notification.","refund_policy":"Refunds are provided only if the cancellation occurs before the course start date. Material fees and registration fees are non-refundable."},"repeat":false}
2025-02-05 20:27:55,385 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Language Schools","locations":[{"city":"Malta","country":"MT","address":"Wilga Street, St Julian's, Malta","courses":[{"name":"General English","lessons_per_week":20,"description":"General English - Improve main language skills in a group (up to 12 students).","prices":[{"duration":"1-4 weeks","price":"€150","currency":"EUR"},{"duration":"4+ weeks","price":"€130","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":30,"description":"Intensive English, combination of General English and individual lessons.","prices":[{"duration":"1-4 weeks","price":"€280","currency":"EUR"},{"duration":"4+ weeks","price":"€260","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Host Family","price_per_week":"€200","description":"Stay with a local family, breakfast and dinner included.","supplements":{"private_bathroom":"€50/week"}},{"type":"Student Residence","price_per_week":"€150","description":"Stay with fellow students in shared accommodation.","supplements":null}],"additional_fees":{"registration":"€45","materials":"€25"}}],"terms":{"cancellation_policy":"Cancellations are subject to a refund minus administrative fees and only with 2 weeks prior notification.","refund_policy":"Refunds are provided only if the cancellation occurs before the course start date. Material fees and registration fees are non-refundable."},"repeat":false}
2025-02-05 20:27:55,385 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Language Schools","locations":[{"city":"Malta","country":"MT","address":"Wilga Street, St Julian's, Malta","courses":[{"name":"General English","lessons_per_week":20,"description":"General English - Improve main language skills in a group (up to 12 students).","prices":[{"duration":"1-4 weeks","price":"€150","currency":"EUR"},{"duration":"4+ weeks","price":"€130","currency":"EUR"}],"requirements":null},{"name":"Intensive English","lessons_per_week":30,"description":"Intensive English, combination of General English and individual lessons.","prices":[{"duration":"1-4 weeks","price":"€280","currency":"EUR"},{"duration":"4+ weeks","price":"€260","currency":"EUR"}],"requirements":null}],"accommodations":[{"type":"Host Family","price_per_week":"€200","description":"Stay with a local family, breakfast and dinner included.","supplements":{"private_bathroom":"€50/week"}},{"type":"Student Residence","price_per_week":"€150","description":"Stay with fellow students in shared accommodation.","supplements":null}],"additional_fees":{"registration":"€45","materials":"€25"}}],"terms":{"cancellation_policy":"Cancellations are subject to a refund minus administrative fees and only with 2 weeks prior notification.","refund_policy":"Refunds are provided only if the cancellation occurs before the course start date. Material fees and registration fees are non-refundable."},"repeat":false}
2025-02-05 20:27:55,386 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:55,386 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:55,386 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:27:55,389 - src.logger - INFO - Successfully processed page 14
2025-02-05 20:27:55,389 - src.logger - INFO - Successfully processed page 14
2025-02-05 20:27:55,389 - src.logger - INFO - Successfully processed page 14
2025-02-05 20:27:55,390 - src.logger - INFO - Processing page 15/16
2025-02-05 20:27:55,390 - src.logger - INFO - Processing page 15/16
2025-02-05 20:27:55,390 - src.logger - INFO - Processing page 15/16
2025-02-05 20:27:55,419 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:55,419 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:55,419 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:27:55,427 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:55,427 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:55,427 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:27:55,442 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:55,442 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:55,442 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:27:55,445 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:55,445 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:55,445 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:27:55,447 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:55,447 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:55,447 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:27:55,450 - src.logger - DEBUG - Saved image to logs/image_1738769275.jpg
2025-02-05 20:27:55,450 - src.logger - DEBUG - Saved image to logs/image_1738769275.jpg
2025-02-05 20:27:55,450 - src.logger - DEBUG - Saved image to logs/image_1738769275.jpg
2025-02-05 20:28:45,855 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:28:45,855 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:28:45,855 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:28:45,855 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass English Language School","locations":[{"city":"Swieqi","country":"MT","address":"Clubclass Malta, Swieqi, Malta","courses":[{"name":"General English Course","lessons_per_week":20,"description":"Morning classes for general improvement in English","prices":[{"duration":"1-4 weeks","price":"€130","currency":"EUR"},{"duration":"5-12 weeks","price":"€120","currency":"EUR"},{"duration":"13+ weeks","price":"€110","currency":"EUR"}],"requirements":"Minimum age: 18"},{"name":"Intensive English Course","lessons_per_week":30,"description":"Ideal for rapid progress","prices":[{"duration":"1-4 weeks","price":"€200","currency":"EUR"},{"duration":"5-12 weeks","price":"€190","currency":"EUR"},{"duration":"13+ weeks","price":"€180","currency":"EUR"}],"requirements":"Minimum age: 18"}],"accommodations":[{"type":"Host Family","price_per_week":"€175","description":"Single room with half board in local residences","supplements":{"Summer":"€35 per week"}},{"type":"Student Residence","price_per_week":"€95","description":"Shared room self-catering option","supplements":null}],"additional_fees":{"registration":"€45","exam_fees":"€160 (if applicable)"}}],"terms":{"cancellation":"Cancellation possible with policies outlined in the agreement. Check for exact terms."},"repeat":false}
2025-02-05 20:28:45,855 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass English Language School","locations":[{"city":"Swieqi","country":"MT","address":"Clubclass Malta, Swieqi, Malta","courses":[{"name":"General English Course","lessons_per_week":20,"description":"Morning classes for general improvement in English","prices":[{"duration":"1-4 weeks","price":"€130","currency":"EUR"},{"duration":"5-12 weeks","price":"€120","currency":"EUR"},{"duration":"13+ weeks","price":"€110","currency":"EUR"}],"requirements":"Minimum age: 18"},{"name":"Intensive English Course","lessons_per_week":30,"description":"Ideal for rapid progress","prices":[{"duration":"1-4 weeks","price":"€200","currency":"EUR"},{"duration":"5-12 weeks","price":"€190","currency":"EUR"},{"duration":"13+ weeks","price":"€180","currency":"EUR"}],"requirements":"Minimum age: 18"}],"accommodations":[{"type":"Host Family","price_per_week":"€175","description":"Single room with half board in local residences","supplements":{"Summer":"€35 per week"}},{"type":"Student Residence","price_per_week":"€95","description":"Shared room self-catering option","supplements":null}],"additional_fees":{"registration":"€45","exam_fees":"€160 (if applicable)"}}],"terms":{"cancellation":"Cancellation possible with policies outlined in the agreement. Check for exact terms."},"repeat":false}
2025-02-05 20:28:45,855 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass English Language School","locations":[{"city":"Swieqi","country":"MT","address":"Clubclass Malta, Swieqi, Malta","courses":[{"name":"General English Course","lessons_per_week":20,"description":"Morning classes for general improvement in English","prices":[{"duration":"1-4 weeks","price":"€130","currency":"EUR"},{"duration":"5-12 weeks","price":"€120","currency":"EUR"},{"duration":"13+ weeks","price":"€110","currency":"EUR"}],"requirements":"Minimum age: 18"},{"name":"Intensive English Course","lessons_per_week":30,"description":"Ideal for rapid progress","prices":[{"duration":"1-4 weeks","price":"€200","currency":"EUR"},{"duration":"5-12 weeks","price":"€190","currency":"EUR"},{"duration":"13+ weeks","price":"€180","currency":"EUR"}],"requirements":"Minimum age: 18"}],"accommodations":[{"type":"Host Family","price_per_week":"€175","description":"Single room with half board in local residences","supplements":{"Summer":"€35 per week"}},{"type":"Student Residence","price_per_week":"€95","description":"Shared room self-catering option","supplements":null}],"additional_fees":{"registration":"€45","exam_fees":"€160 (if applicable)"}}],"terms":{"cancellation":"Cancellation possible with policies outlined in the agreement. Check for exact terms."},"repeat":false}
2025-02-05 20:28:45,855 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:28:45,855 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:28:45,855 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:28:45,858 - src.logger - INFO - Successfully processed page 15
2025-02-05 20:28:45,858 - src.logger - INFO - Successfully processed page 15
2025-02-05 20:28:45,858 - src.logger - INFO - Successfully processed page 15
2025-02-05 20:28:45,859 - src.logger - INFO - Processing page 16/16
2025-02-05 20:28:45,859 - src.logger - INFO - Processing page 16/16
2025-02-05 20:28:45,859 - src.logger - INFO - Processing page 16/16
2025-02-05 20:28:45,983 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:28:45,983 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:28:45,983 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:28:45,991 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:28:45,991 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:28:45,991 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:28:46,000 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:28:46,000 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:28:46,000 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:28:46,001 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:28:46,001 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:28:46,001 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:28:46,003 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:28:46,003 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:28:46,003 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:28:46,005 - src.logger - DEBUG - Saved image to logs/image_1738769326.jpg
2025-02-05 20:28:46,005 - src.logger - DEBUG - Saved image to logs/image_1738769326.jpg
2025-02-05 20:28:46,005 - src.logger - DEBUG - Saved image to logs/image_1738769326.jpg
2025-02-05 20:28:59,654 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:28:59,654 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:28:59,654 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:28:59,654 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Malta Ltd.","locations":[{"city":"St. Julian's","country":"MT","address":"104, Triq is Sidra, Swieqi, St. Julian's, SWQ 3150, Malta.","courses":[{"name":"General English","lessons_per_week":20,"description":"Improving everyday communication and English skills.","prices":[{"duration":"1-4 weeks","price":"€250","currency":"EUR"},{"duration":"5-12 weeks","price":"€220","currency":"EUR"}],"requirements":"Beginner to Advanced Level"},{"name":"Business English","lessons_per_week":25,"description":"Focused on using English in a business environment.","prices":[{"duration":"1-4 weeks","price":"€300","currency":"EUR"}],"requirements":"Intermediate and above"}],"accommodations":[{"type":"Shared Apartment","price_per_week":"€150","description":"Shared room in a fully furnished apartment.","supplements":{"Summer":"€50/week"}},{"type":"Homestay","price_per_week":"€220","description":"Single room with half-board","supplements":{"En-suite":"€40/week"}}],"additional_fees":{"registration":"€50","materials_fee":"€35"}}],"terms":{"cancellation":"Cancellation must be done at least two weeks in advance."},"repeat":false}
2025-02-05 20:28:59,654 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Malta Ltd.","locations":[{"city":"St. Julian's","country":"MT","address":"104, Triq is Sidra, Swieqi, St. Julian's, SWQ 3150, Malta.","courses":[{"name":"General English","lessons_per_week":20,"description":"Improving everyday communication and English skills.","prices":[{"duration":"1-4 weeks","price":"€250","currency":"EUR"},{"duration":"5-12 weeks","price":"€220","currency":"EUR"}],"requirements":"Beginner to Advanced Level"},{"name":"Business English","lessons_per_week":25,"description":"Focused on using English in a business environment.","prices":[{"duration":"1-4 weeks","price":"€300","currency":"EUR"}],"requirements":"Intermediate and above"}],"accommodations":[{"type":"Shared Apartment","price_per_week":"€150","description":"Shared room in a fully furnished apartment.","supplements":{"Summer":"€50/week"}},{"type":"Homestay","price_per_week":"€220","description":"Single room with half-board","supplements":{"En-suite":"€40/week"}}],"additional_fees":{"registration":"€50","materials_fee":"€35"}}],"terms":{"cancellation":"Cancellation must be done at least two weeks in advance."},"repeat":false}
2025-02-05 20:28:59,654 - src.logger - DEBUG - Raw API response content: {"name":"Clubclass Malta Ltd.","locations":[{"city":"St. Julian's","country":"MT","address":"104, Triq is Sidra, Swieqi, St. Julian's, SWQ 3150, Malta.","courses":[{"name":"General English","lessons_per_week":20,"description":"Improving everyday communication and English skills.","prices":[{"duration":"1-4 weeks","price":"€250","currency":"EUR"},{"duration":"5-12 weeks","price":"€220","currency":"EUR"}],"requirements":"Beginner to Advanced Level"},{"name":"Business English","lessons_per_week":25,"description":"Focused on using English in a business environment.","prices":[{"duration":"1-4 weeks","price":"€300","currency":"EUR"}],"requirements":"Intermediate and above"}],"accommodations":[{"type":"Shared Apartment","price_per_week":"€150","description":"Shared room in a fully furnished apartment.","supplements":{"Summer":"€50/week"}},{"type":"Homestay","price_per_week":"€220","description":"Single room with half-board","supplements":{"En-suite":"€40/week"}}],"additional_fees":{"registration":"€50","materials_fee":"€35"}}],"terms":{"cancellation":"Cancellation must be done at least two weeks in advance."},"repeat":false}
2025-02-05 20:28:59,655 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:28:59,655 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:28:59,655 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:28:59,657 - src.logger - INFO - Successfully processed page 16
2025-02-05 20:28:59,657 - src.logger - INFO - Successfully processed page 16
2025-02-05 20:28:59,657 - src.logger - INFO - Successfully processed page 16
2025-02-05 20:28:59,661 - src.logger - INFO - PDF processing completed
2025-02-05 20:28:59,661 - src.logger - INFO - PDF processing completed
2025-02-05 20:28:59,661 - src.logger - INFO - PDF processing completed
2025-02-05 20:28:59,663 - src.logger - INFO - Starting merge of 16 results
2025-02-05 20:28:59,663 - src.logger - INFO - Starting merge of 16 results
2025-02-05 20:28:59,663 - src.logger - INFO - Starting merge of 16 results
2025-02-05 20:28:59,664 - src.logger - DEBUG - Merging result 1/16
2025-02-05 20:28:59,664 - src.logger - DEBUG - Merging result 1/16
2025-02-05 20:28:59,664 - src.logger - DEBUG - Merging result 1/16
2025-02-05 20:28:59,665 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,665 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,665 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,666 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:28:59,666 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:28:59,666 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:28:59,666 - src.logger - DEBUG - Merging result 2/16
2025-02-05 20:28:59,666 - src.logger - DEBUG - Merging result 2/16
2025-02-05 20:28:59,666 - src.logger - DEBUG - Merging result 2/16
2025-02-05 20:28:59,666 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,666 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,666 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,668 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:28:59,668 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:28:59,668 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:28:59,670 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,670 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,670 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,671 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,671 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,671 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,671 - src.logger - DEBUG - New location found: Malta
2025-02-05 20:28:59,671 - src.logger - DEBUG - New location found: Malta
2025-02-05 20:28:59,671 - src.logger - DEBUG - New location found: Malta
2025-02-05 20:28:59,671 - src.logger - DEBUG - Merging result 3/16
2025-02-05 20:28:59,671 - src.logger - DEBUG - Merging result 3/16
2025-02-05 20:28:59,671 - src.logger - DEBUG - Merging result 3/16
2025-02-05 20:28:59,671 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,671 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,671 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,673 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:28:59,673 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:28:59,673 - src.logger - INFO - Merging 2 locations with 1 locations
2025-02-05 20:28:59,675 - src.logger - DEBUG - Processing location: Not provided, Not provided
2025-02-05 20:28:59,675 - src.logger - DEBUG - Processing location: Not provided, Not provided
2025-02-05 20:28:59,675 - src.logger - DEBUG - Processing location: Not provided, Not provided
2025-02-05 20:28:59,675 - src.logger - DEBUG - Finding location: Not provided, Not provided
2025-02-05 20:28:59,675 - src.logger - DEBUG - Finding location: Not provided, Not provided
2025-02-05 20:28:59,675 - src.logger - DEBUG - Finding location: Not provided, Not provided
2025-02-05 20:28:59,676 - src.logger - DEBUG - New location found: Not provided
2025-02-05 20:28:59,676 - src.logger - DEBUG - New location found: Not provided
2025-02-05 20:28:59,676 - src.logger - DEBUG - New location found: Not provided
2025-02-05 20:28:59,676 - src.logger - DEBUG - Merging result 4/16
2025-02-05 20:28:59,676 - src.logger - DEBUG - Merging result 4/16
2025-02-05 20:28:59,676 - src.logger - DEBUG - Merging result 4/16
2025-02-05 20:28:59,676 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,676 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,676 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,678 - src.logger - INFO - Merging 3 locations with 1 locations
2025-02-05 20:28:59,678 - src.logger - INFO - Merging 3 locations with 1 locations
2025-02-05 20:28:59,678 - src.logger - INFO - Merging 3 locations with 1 locations
2025-02-05 20:28:59,679 - src.logger - DEBUG - Processing location: Unknown, MT
2025-02-05 20:28:59,679 - src.logger - DEBUG - Processing location: Unknown, MT
2025-02-05 20:28:59,679 - src.logger - DEBUG - Processing location: Unknown, MT
2025-02-05 20:28:59,679 - src.logger - DEBUG - Finding location: Unknown, MT
2025-02-05 20:28:59,679 - src.logger - DEBUG - Finding location: Unknown, MT
2025-02-05 20:28:59,679 - src.logger - DEBUG - Finding location: Unknown, MT
2025-02-05 20:28:59,680 - src.logger - DEBUG - New location found: Unknown
2025-02-05 20:28:59,680 - src.logger - DEBUG - New location found: Unknown
2025-02-05 20:28:59,680 - src.logger - DEBUG - New location found: Unknown
2025-02-05 20:28:59,680 - src.logger - DEBUG - Merging result 5/16
2025-02-05 20:28:59,680 - src.logger - DEBUG - Merging result 5/16
2025-02-05 20:28:59,680 - src.logger - DEBUG - Merging result 5/16
2025-02-05 20:28:59,680 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,680 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,680 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,682 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:28:59,682 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:28:59,682 - src.logger - INFO - Merging 4 locations with 1 locations
2025-02-05 20:28:59,683 - src.logger - DEBUG - Processing location: Sliema, MT
2025-02-05 20:28:59,683 - src.logger - DEBUG - Processing location: Sliema, MT
2025-02-05 20:28:59,683 - src.logger - DEBUG - Processing location: Sliema, MT
2025-02-05 20:28:59,683 - src.logger - DEBUG - Finding location: Sliema, MT
2025-02-05 20:28:59,683 - src.logger - DEBUG - Finding location: Sliema, MT
2025-02-05 20:28:59,683 - src.logger - DEBUG - Finding location: Sliema, MT
2025-02-05 20:28:59,683 - src.logger - DEBUG - New location found: Sliema
2025-02-05 20:28:59,683 - src.logger - DEBUG - New location found: Sliema
2025-02-05 20:28:59,683 - src.logger - DEBUG - New location found: Sliema
2025-02-05 20:28:59,684 - src.logger - DEBUG - Merging result 6/16
2025-02-05 20:28:59,684 - src.logger - DEBUG - Merging result 6/16
2025-02-05 20:28:59,684 - src.logger - DEBUG - Merging result 6/16
2025-02-05 20:28:59,684 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,684 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,684 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,686 - src.logger - INFO - Merging 5 locations with 3 locations
2025-02-05 20:28:59,686 - src.logger - INFO - Merging 5 locations with 3 locations
2025-02-05 20:28:59,686 - src.logger - INFO - Merging 5 locations with 3 locations
2025-02-05 20:28:59,689 - src.logger - DEBUG - Processing location: Valletta, MT
2025-02-05 20:28:59,689 - src.logger - DEBUG - Processing location: Valletta, MT
2025-02-05 20:28:59,689 - src.logger - DEBUG - Processing location: Valletta, MT
2025-02-05 20:28:59,689 - src.logger - DEBUG - Finding location: Valletta, MT
2025-02-05 20:28:59,689 - src.logger - DEBUG - Finding location: Valletta, MT
2025-02-05 20:28:59,689 - src.logger - DEBUG - Finding location: Valletta, MT
2025-02-05 20:28:59,689 - src.logger - DEBUG - New location found: Valletta
2025-02-05 20:28:59,689 - src.logger - DEBUG - New location found: Valletta
2025-02-05 20:28:59,689 - src.logger - DEBUG - New location found: Valletta
2025-02-05 20:28:59,690 - src.logger - DEBUG - Processing location: Madrid, ES
2025-02-05 20:28:59,690 - src.logger - DEBUG - Processing location: Madrid, ES
2025-02-05 20:28:59,690 - src.logger - DEBUG - Processing location: Madrid, ES
2025-02-05 20:28:59,690 - src.logger - DEBUG - Finding location: Madrid, ES
2025-02-05 20:28:59,690 - src.logger - DEBUG - Finding location: Madrid, ES
2025-02-05 20:28:59,690 - src.logger - DEBUG - Finding location: Madrid, ES
2025-02-05 20:28:59,690 - src.logger - DEBUG - New location found: Madrid
2025-02-05 20:28:59,690 - src.logger - DEBUG - New location found: Madrid
2025-02-05 20:28:59,690 - src.logger - DEBUG - New location found: Madrid
2025-02-05 20:28:59,690 - src.logger - DEBUG - Processing location: Dublin, IE
2025-02-05 20:28:59,690 - src.logger - DEBUG - Processing location: Dublin, IE
2025-02-05 20:28:59,690 - src.logger - DEBUG - Processing location: Dublin, IE
2025-02-05 20:28:59,690 - src.logger - DEBUG - Finding location: Dublin, IE
2025-02-05 20:28:59,690 - src.logger - DEBUG - Finding location: Dublin, IE
2025-02-05 20:28:59,690 - src.logger - DEBUG - Finding location: Dublin, IE
2025-02-05 20:28:59,690 - src.logger - DEBUG - New location found: Dublin
2025-02-05 20:28:59,690 - src.logger - DEBUG - New location found: Dublin
2025-02-05 20:28:59,690 - src.logger - DEBUG - New location found: Dublin
2025-02-05 20:28:59,690 - src.logger - DEBUG - Merging result 7/16
2025-02-05 20:28:59,690 - src.logger - DEBUG - Merging result 7/16
2025-02-05 20:28:59,690 - src.logger - DEBUG - Merging result 7/16
2025-02-05 20:28:59,691 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,691 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,691 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,692 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:28:59,692 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:28:59,692 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:28:59,694 - src.logger - DEBUG - Processing location: Madrid, ES
2025-02-05 20:28:59,694 - src.logger - DEBUG - Processing location: Madrid, ES
2025-02-05 20:28:59,694 - src.logger - DEBUG - Processing location: Madrid, ES
2025-02-05 20:28:59,695 - src.logger - DEBUG - Finding location: Madrid, ES
2025-02-05 20:28:59,695 - src.logger - DEBUG - Finding location: Madrid, ES
2025-02-05 20:28:59,695 - src.logger - DEBUG - Finding location: Madrid, ES
2025-02-05 20:28:59,695 - src.logger - DEBUG - Merging location details for Madrid
2025-02-05 20:28:59,695 - src.logger - DEBUG - Merging location details for Madrid
2025-02-05 20:28:59,695 - src.logger - DEBUG - Merging location details for Madrid
2025-02-05 20:28:59,695 - src.logger - INFO - Merging 1 courses with 2 courses
2025-02-05 20:28:59,695 - src.logger - INFO - Merging 1 courses with 2 courses
2025-02-05 20:28:59,695 - src.logger - INFO - Merging 1 courses with 2 courses
2025-02-05 20:28:59,696 - src.logger - DEBUG - Processing course: Spanish for Beginners
2025-02-05 20:28:59,696 - src.logger - DEBUG - Processing course: Spanish for Beginners
2025-02-05 20:28:59,696 - src.logger - DEBUG - Processing course: Spanish for Beginners
2025-02-05 20:28:59,696 - src.logger - DEBUG - Finding course: Spanish for Beginners
2025-02-05 20:28:59,696 - src.logger - DEBUG - Finding course: Spanish for Beginners
2025-02-05 20:28:59,696 - src.logger - DEBUG - Finding course: Spanish for Beginners
2025-02-05 20:28:59,697 - src.logger - DEBUG - New course found: Spanish for Beginners
2025-02-05 20:28:59,697 - src.logger - DEBUG - New course found: Spanish for Beginners
2025-02-05 20:28:59,697 - src.logger - DEBUG - New course found: Spanish for Beginners
2025-02-05 20:28:59,697 - src.logger - DEBUG - Processing course: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - Processing course: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - Processing course: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - Finding course: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - Finding course: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - Finding course: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - New course found: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - New course found: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - DEBUG - New course found: Spanish Immersion
2025-02-05 20:28:59,697 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:28:59,697 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:28:59,697 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:28:59,699 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:28:59,699 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:28:59,700 - src.logger - DEBUG - Processing accommodation type: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - Processing accommodation type: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - Processing accommodation type: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - Finding accommodation type: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - Finding accommodation type: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - Finding accommodation type: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - New accommodation type found: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - New accommodation type found: Shared Apartment
2025-02-05 20:28:59,700 - src.logger - DEBUG - New accommodation type found: Shared Apartment
2025-02-05 20:28:59,701 - src.logger - DEBUG - Merging result 8/16
2025-02-05 20:28:59,701 - src.logger - DEBUG - Merging result 8/16
2025-02-05 20:28:59,701 - src.logger - DEBUG - Merging result 8/16
2025-02-05 20:28:59,701 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,701 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,701 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,703 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:28:59,703 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:28:59,703 - src.logger - INFO - Merging 8 locations with 1 locations
2025-02-05 20:28:59,706 - src.logger - DEBUG - Processing location: Unknown, Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - Processing location: Unknown, Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - Processing location: Unknown, Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - Finding location: Unknown, Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - Finding location: Unknown, Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - Finding location: Unknown, Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - New location found: Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - New location found: Unknown
2025-02-05 20:28:59,706 - src.logger - DEBUG - New location found: Unknown
2025-02-05 20:28:59,707 - src.logger - DEBUG - Merging result 9/16
2025-02-05 20:28:59,707 - src.logger - DEBUG - Merging result 9/16
2025-02-05 20:28:59,707 - src.logger - DEBUG - Merging result 9/16
2025-02-05 20:28:59,707 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,707 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,707 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,708 - src.logger - INFO - Merging 9 locations with 1 locations
2025-02-05 20:28:59,708 - src.logger - INFO - Merging 9 locations with 1 locations
2025-02-05 20:28:59,708 - src.logger - INFO - Merging 9 locations with 1 locations
2025-02-05 20:28:59,710 - src.logger - DEBUG - Processing location: N/A, N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - Processing location: N/A, N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - Processing location: N/A, N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - Finding location: N/A, N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - Finding location: N/A, N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - Finding location: N/A, N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - New location found: N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - New location found: N/A
2025-02-05 20:28:59,710 - src.logger - DEBUG - New location found: N/A
2025-02-05 20:28:59,711 - src.logger - DEBUG - Merging result 10/16
2025-02-05 20:28:59,711 - src.logger - DEBUG - Merging result 10/16
2025-02-05 20:28:59,711 - src.logger - DEBUG - Merging result 10/16
2025-02-05 20:28:59,711 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,711 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,711 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,712 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,712 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,712 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,714 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,714 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,714 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,714 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,714 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,714 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,714 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:28:59,714 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:28:59,714 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:28:59,714 - src.logger - INFO - Merging 3 courses with 1 courses
2025-02-05 20:28:59,714 - src.logger - INFO - Merging 3 courses with 1 courses
2025-02-05 20:28:59,714 - src.logger - INFO - Merging 3 courses with 1 courses
2025-02-05 20:28:59,716 - src.logger - DEBUG - Processing course: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - Processing course: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - Processing course: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - Finding course: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - Finding course: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - Finding course: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - New course found: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - New course found: General English Program
2025-02-05 20:28:59,716 - src.logger - DEBUG - New course found: General English Program
2025-02-05 20:28:59,716 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:28:59,716 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:28:59,716 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:28:59,718 - src.logger - DEBUG - Processing accommodation type: Garden View Complex
2025-02-05 20:28:59,718 - src.logger - DEBUG - Processing accommodation type: Garden View Complex
2025-02-05 20:28:59,718 - src.logger - DEBUG - Processing accommodation type: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - Finding accommodation type: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - Finding accommodation type: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - Finding accommodation type: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - New accommodation type found: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - New accommodation type found: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - New accommodation type found: Garden View Complex
2025-02-05 20:28:59,719 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:28:59,719 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:28:59,720 - src.logger - DEBUG - Merging result 11/16
2025-02-05 20:28:59,720 - src.logger - DEBUG - Merging result 11/16
2025-02-05 20:28:59,720 - src.logger - DEBUG - Merging result 11/16
2025-02-05 20:28:59,720 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,720 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,720 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,722 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,722 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,722 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,724 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,724 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,724 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,724 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,724 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,724 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,725 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,725 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,725 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,725 - src.logger - INFO - Merging 0 courses with 1 courses
2025-02-05 20:28:59,725 - src.logger - INFO - Merging 0 courses with 1 courses
2025-02-05 20:28:59,725 - src.logger - INFO - Merging 0 courses with 1 courses
2025-02-05 20:28:59,726 - src.logger - DEBUG - Processing course: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - Processing course: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - Processing course: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - Finding course: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - Finding course: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - Finding course: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - New course found: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - New course found: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - DEBUG - New course found: Liberty Programme
2025-02-05 20:28:59,726 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:28:59,726 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:28:59,726 - src.logger - INFO - Merging 0 accommodations with 2 accommodations
2025-02-05 20:28:59,728 - src.logger - DEBUG - Processing accommodation type: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - Processing accommodation type: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - Processing accommodation type: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - Finding accommodation type: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - Finding accommodation type: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - Finding accommodation type: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - New accommodation type found: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - New accommodation type found: Residential Campus
2025-02-05 20:28:59,728 - src.logger - DEBUG - New accommodation type found: Residential Campus
2025-02-05 20:28:59,729 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - Processing accommodation type: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - Finding accommodation type: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - New accommodation type found: Homestay
2025-02-05 20:28:59,729 - src.logger - DEBUG - Merging result 12/16
2025-02-05 20:28:59,729 - src.logger - DEBUG - Merging result 12/16
2025-02-05 20:28:59,729 - src.logger - DEBUG - Merging result 12/16
2025-02-05 20:28:59,729 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,729 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,729 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,731 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,731 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,731 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,733 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,733 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,733 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,733 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,733 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,733 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,733 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,733 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,733 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,733 - src.logger - INFO - Merging 1 courses with 1 courses
2025-02-05 20:28:59,733 - src.logger - INFO - Merging 1 courses with 1 courses
2025-02-05 20:28:59,733 - src.logger - INFO - Merging 1 courses with 1 courses
2025-02-05 20:28:59,735 - src.logger - DEBUG - Processing course: Standard English course
2025-02-05 20:28:59,735 - src.logger - DEBUG - Processing course: Standard English course
2025-02-05 20:28:59,735 - src.logger - DEBUG - Processing course: Standard English course
2025-02-05 20:28:59,736 - src.logger - DEBUG - Finding course: Standard English course
2025-02-05 20:28:59,736 - src.logger - DEBUG - Finding course: Standard English course
2025-02-05 20:28:59,736 - src.logger - DEBUG - Finding course: Standard English course
2025-02-05 20:28:59,736 - src.logger - DEBUG - New course found: Standard English course
2025-02-05 20:28:59,736 - src.logger - DEBUG - New course found: Standard English course
2025-02-05 20:28:59,736 - src.logger - DEBUG - New course found: Standard English course
2025-02-05 20:28:59,736 - src.logger - INFO - Merging 2 accommodations with 1 accommodations
2025-02-05 20:28:59,736 - src.logger - INFO - Merging 2 accommodations with 1 accommodations
2025-02-05 20:28:59,736 - src.logger - INFO - Merging 2 accommodations with 1 accommodations
2025-02-05 20:28:59,738 - src.logger - DEBUG - Processing accommodation type: Residential campus
2025-02-05 20:28:59,738 - src.logger - DEBUG - Processing accommodation type: Residential campus
2025-02-05 20:28:59,738 - src.logger - DEBUG - Processing accommodation type: Residential campus
2025-02-05 20:28:59,738 - src.logger - DEBUG - Finding accommodation type: Residential campus
2025-02-05 20:28:59,738 - src.logger - DEBUG - Finding accommodation type: Residential campus
2025-02-05 20:28:59,738 - src.logger - DEBUG - Finding accommodation type: Residential campus
2025-02-05 20:28:59,739 - src.logger - DEBUG - New accommodation type found: Residential campus
2025-02-05 20:28:59,739 - src.logger - DEBUG - New accommodation type found: Residential campus
2025-02-05 20:28:59,739 - src.logger - DEBUG - New accommodation type found: Residential campus
2025-02-05 20:28:59,739 - src.logger - DEBUG - Merging result 13/16
2025-02-05 20:28:59,739 - src.logger - DEBUG - Merging result 13/16
2025-02-05 20:28:59,739 - src.logger - DEBUG - Merging result 13/16
2025-02-05 20:28:59,739 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,739 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,739 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,741 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,741 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,741 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,743 - src.logger - DEBUG - Processing location: Unknown, Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Processing location: Unknown, Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Processing location: Unknown, Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Finding location: Unknown, Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Finding location: Unknown, Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Finding location: Unknown, Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Merging location details for Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Merging location details for Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Merging location details for Unknown
2025-02-05 20:28:59,743 - src.logger - DEBUG - Adding missing address
2025-02-05 20:28:59,743 - src.logger - DEBUG - Adding missing address
2025-02-05 20:28:59,743 - src.logger - DEBUG - Adding missing address
2025-02-05 20:28:59,744 - src.logger - INFO - Merging 1 courses with 0 courses
2025-02-05 20:28:59,744 - src.logger - INFO - Merging 1 courses with 0 courses
2025-02-05 20:28:59,744 - src.logger - INFO - Merging 1 courses with 0 courses
2025-02-05 20:28:59,744 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:28:59,744 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:28:59,744 - src.logger - INFO - Merging 2 accommodations with 2 accommodations
2025-02-05 20:28:59,745 - src.logger - DEBUG - Processing accommodation type: Student Houses
2025-02-05 20:28:59,745 - src.logger - DEBUG - Processing accommodation type: Student Houses
2025-02-05 20:28:59,745 - src.logger - DEBUG - Processing accommodation type: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - Finding accommodation type: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - Finding accommodation type: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - Finding accommodation type: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - New accommodation type found: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - New accommodation type found: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - New accommodation type found: Student Houses
2025-02-05 20:28:59,746 - src.logger - DEBUG - Processing accommodation type: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - Processing accommodation type: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - Processing accommodation type: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - Finding accommodation type: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - Finding accommodation type: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - Finding accommodation type: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - New accommodation type found: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - New accommodation type found: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - New accommodation type found: Garden View
2025-02-05 20:28:59,746 - src.logger - DEBUG - Merging result 14/16
2025-02-05 20:28:59,746 - src.logger - DEBUG - Merging result 14/16
2025-02-05 20:28:59,746 - src.logger - DEBUG - Merging result 14/16
2025-02-05 20:28:59,746 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,746 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,746 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,748 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,748 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,748 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,750 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,750 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,750 - src.logger - DEBUG - Processing location: Malta, MT
2025-02-05 20:28:59,750 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,750 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,750 - src.logger - DEBUG - Finding location: Malta, MT
2025-02-05 20:28:59,750 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:28:59,750 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:28:59,750 - src.logger - DEBUG - Merging location details for Malta
2025-02-05 20:28:59,751 - src.logger - INFO - Merging 4 courses with 2 courses
2025-02-05 20:28:59,751 - src.logger - INFO - Merging 4 courses with 2 courses
2025-02-05 20:28:59,751 - src.logger - INFO - Merging 4 courses with 2 courses
2025-02-05 20:28:59,753 - src.logger - DEBUG - Processing course: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - Processing course: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - Processing course: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - Finding course: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - Finding course: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - Finding course: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - New course found: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - New course found: General English
2025-02-05 20:28:59,753 - src.logger - DEBUG - New course found: General English
2025-02-05 20:28:59,754 - src.logger - DEBUG - Processing course: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - Processing course: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - Processing course: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - Finding course: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - Finding course: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - Finding course: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - New course found: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - New course found: Intensive English
2025-02-05 20:28:59,754 - src.logger - DEBUG - New course found: Intensive English
2025-02-05 20:28:59,754 - src.logger - INFO - Merging 4 accommodations with 2 accommodations
2025-02-05 20:28:59,754 - src.logger - INFO - Merging 4 accommodations with 2 accommodations
2025-02-05 20:28:59,754 - src.logger - INFO - Merging 4 accommodations with 2 accommodations
2025-02-05 20:28:59,757 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Merging accommodation details for type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Merging accommodation details for type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Merging accommodation details for type: Host Family
2025-02-05 20:28:59,757 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:28:59,757 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:28:59,757 - src.logger - DEBUG - Updating price_per_week
2025-02-05 20:28:59,757 - src.logger - DEBUG - Updating description
2025-02-05 20:28:59,757 - src.logger - DEBUG - Updating description
2025-02-05 20:28:59,757 - src.logger - DEBUG - Updating description
2025-02-05 20:28:59,758 - src.logger - DEBUG - Processing accommodation type: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - Processing accommodation type: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - Processing accommodation type: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - Finding accommodation type: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - Finding accommodation type: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - Finding accommodation type: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - New accommodation type found: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - New accommodation type found: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - New accommodation type found: Student Residence
2025-02-05 20:28:59,758 - src.logger - DEBUG - Merging result 15/16
2025-02-05 20:28:59,758 - src.logger - DEBUG - Merging result 15/16
2025-02-05 20:28:59,758 - src.logger - DEBUG - Merging result 15/16
2025-02-05 20:28:59,758 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,758 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,758 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,760 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,760 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,760 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,762 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,762 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,762 - src.logger - DEBUG - Processing location: Swieqi, MT
2025-02-05 20:28:59,762 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,762 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,762 - src.logger - DEBUG - Finding location: Swieqi, MT
2025-02-05 20:28:59,763 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,763 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,763 - src.logger - DEBUG - Merging location details for Swieqi
2025-02-05 20:28:59,763 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:28:59,763 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:28:59,763 - src.logger - INFO - Merging 2 courses with 2 courses
2025-02-05 20:28:59,764 - src.logger - DEBUG - Processing course: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Processing course: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Processing course: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Finding course: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Finding course: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Finding course: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - New course found: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - New course found: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - New course found: General English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Processing course: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Processing course: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Processing course: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Finding course: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Finding course: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - Finding course: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - New course found: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - New course found: Intensive English Course
2025-02-05 20:28:59,764 - src.logger - DEBUG - New course found: Intensive English Course
2025-02-05 20:28:59,765 - src.logger - INFO - Merging 3 accommodations with 2 accommodations
2025-02-05 20:28:59,765 - src.logger - INFO - Merging 3 accommodations with 2 accommodations
2025-02-05 20:28:59,765 - src.logger - INFO - Merging 3 accommodations with 2 accommodations
2025-02-05 20:28:59,766 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - Processing accommodation type: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - Finding accommodation type: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:28:59,766 - src.logger - DEBUG - New accommodation type found: Host Family
2025-02-05 20:28:59,767 - src.logger - DEBUG - Processing accommodation type: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - Processing accommodation type: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - Processing accommodation type: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - Finding accommodation type: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - Finding accommodation type: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - Finding accommodation type: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - New accommodation type found: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - New accommodation type found: Student Residence
2025-02-05 20:28:59,767 - src.logger - DEBUG - New accommodation type found: Student Residence
2025-02-05 20:28:59,768 - src.logger - DEBUG - Merging result 16/16
2025-02-05 20:28:59,768 - src.logger - DEBUG - Merging result 16/16
2025-02-05 20:28:59,768 - src.logger - DEBUG - Merging result 16/16
2025-02-05 20:28:59,768 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,768 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,768 - src.logger - INFO - Merging schools
2025-02-05 20:28:59,771 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,771 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,771 - src.logger - INFO - Merging 10 locations with 1 locations
2025-02-05 20:28:59,773 - src.logger - DEBUG - Processing location: St. Julian's, MT
2025-02-05 20:28:59,773 - src.logger - DEBUG - Processing location: St. Julian's, MT
2025-02-05 20:28:59,773 - src.logger - DEBUG - Processing location: St. Julian's, MT
2025-02-05 20:28:59,774 - src.logger - DEBUG - Finding location: St. Julian's, MT
2025-02-05 20:28:59,774 - src.logger - DEBUG - Finding location: St. Julian's, MT
2025-02-05 20:28:59,774 - src.logger - DEBUG - Finding location: St. Julian's, MT
2025-02-05 20:28:59,774 - src.logger - DEBUG - New location found: St. Julian's
2025-02-05 20:28:59,774 - src.logger - DEBUG - New location found: St. Julian's
2025-02-05 20:28:59,774 - src.logger - DEBUG - New location found: St. Julian's
2025-02-05 20:28:59,774 - src.logger - INFO - Merge completed successfully
2025-02-05 20:28:59,774 - src.logger - INFO - Merge completed successfully
2025-02-05 20:28:59,774 - src.logger - INFO - Merge completed successfully
2025-02-05 20:28:59,776 - src.logger - INFO - Saving results to data/output_files/Clubclass-2025-Course-Accommodation-Fees Malta_output.json
2025-02-05 20:28:59,776 - src.logger - INFO - Saving results to data/output_files/Clubclass-2025-Course-Accommodation-Fees Malta_output.json
2025-02-05 20:28:59,776 - src.logger - INFO - Saving results to data/output_files/Clubclass-2025-Course-Accommodation-Fees Malta_output.json
2025-02-05 20:28:59,786 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Courses fees 2025 Valencie Intereuropa.pdf
2025-02-05 20:28:59,786 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Courses fees 2025 Valencie Intereuropa.pdf
2025-02-05 20:28:59,786 - src.logger - INFO - Processing PDF file: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Courses fees 2025 Valencie Intereuropa.pdf
2025-02-05 20:28:59,788 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:28:59,788 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:28:59,788 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 20:28:59,791 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:28:59,791 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:28:59,791 - src.logger - INFO - Initializing PDFParser
2025-02-05 20:29:00,199 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Courses fees 2025 Valencie Intereuropa.pdf
2025-02-05 20:29:00,199 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Courses fees 2025 Valencie Intereuropa.pdf
2025-02-05 20:29:00,199 - src.logger - INFO - Processing PDF: D:\BuildBerg\school-info-parser-main\school-info-parser-main\data\input_files\Courses fees 2025 Valencie Intereuropa.pdf
2025-02-05 20:29:00,269 - src.logger - INFO - Opened PDF with 3 pages
2025-02-05 20:29:00,269 - src.logger - INFO - Opened PDF with 3 pages
2025-02-05 20:29:00,269 - src.logger - INFO - Opened PDF with 3 pages
2025-02-05 20:29:00,271 - src.logger - INFO - Processing page 1/3
2025-02-05 20:29:00,271 - src.logger - INFO - Processing page 1/3
2025-02-05 20:29:00,271 - src.logger - INFO - Processing page 1/3
2025-02-05 20:29:00,403 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:00,403 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:00,403 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:00,410 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:00,410 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:00,410 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:00,418 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:00,418 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:00,418 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:00,420 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:00,420 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:00,420 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:00,421 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:00,421 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:00,421 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:00,423 - src.logger - DEBUG - Saved image to logs/image_1738769340.jpg
2025-02-05 20:29:00,423 - src.logger - DEBUG - Saved image to logs/image_1738769340.jpg
2025-02-05 20:29:00,423 - src.logger - DEBUG - Saved image to logs/image_1738769340.jpg
2025-02-05 20:29:35,472 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:29:35,472 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:29:35,472 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:29:35,473 - src.logger - DEBUG - Raw API response content: {
    "name": "Intereuropa Idiomas",
    "locations": [
        {
            "city": "Valencia",
            "country": "ES",
            "address": "Plaza del Ayuntamiento, 5, 46002 Valencia, España",
            "courses": [
                {
                    "name": "Intensive 10",
                    "lessons_per_week": 10,
                    "description": "10 classes per week, 2 per day",
                    "prices": [
                        {"duration": "1 week", "price": "100 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "190 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "285 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "360 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "450 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "540 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "630 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "680 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "840 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "1,440 €", "currency": "EUR"},
                        {"duration": "36 weeks", "price": "1,980 €", "currency": "EUR"},
                        {"duration": "52 weeks", "price": "2,600 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive 20",
                    "lessons_per_week": 20,
                    "description": "20 classes per week, 4 per day",
                    "prices": [
                        {"duration": "1 week", "price": "170 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "310 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "465 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "580 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "725 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "870 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "1,015 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "1,120 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "1,560 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "2,760 €", "currency": "EUR"},
                        {"duration": "36 weeks", "price": "3,600 €", "currency": "EUR"},
                        {"duration": "52 weeks", "price": "4,560 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive 25",
                    "lessons_per_week": 25,
                    "description": "20 classes in group + 5 individual (DELE, business, conversation)",
                    "prices": [
                        {"duration": "1 week", "price": "315 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "575 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "863 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "1,100 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "1,375 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "1,650 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "1,925 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "2,120 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "3,000 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "5,750 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Individual classes",
                    "lessons_per_week": 0,
                    "description": "Customized individual lessons",
                    "prices": [
                        {"duration": "1-10 hours", "price": "32 € per hour", "currency": "EUR"},
                        {"duration": ">10 hours", "price": "29 € per hour", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "DELE examination course",
                    "lessons_per_week": 0,
                    "description": "Preparation for DELE examination",
                    "prices": [
                        {"duration": "2 weeks", "price": "410 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "795 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Teenagers programme",
                    "lessons_per_week": 15,
                    "description": "Available in July and August",
                    "prices": [
                        {"duration": "1 week", "price": "540 €", "currency": "EUR"},
                        {"duration": "Each extra week", "price": "495 €", "currency": "EUR"}
                    ],
                    "requirements": "14-17 years old"
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "enrolment_fee": "30 €"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:29:35,473 - src.logger - DEBUG - Raw API response content: {
    "name": "Intereuropa Idiomas",
    "locations": [
        {
            "city": "Valencia",
            "country": "ES",
            "address": "Plaza del Ayuntamiento, 5, 46002 Valencia, España",
            "courses": [
                {
                    "name": "Intensive 10",
                    "lessons_per_week": 10,
                    "description": "10 classes per week, 2 per day",
                    "prices": [
                        {"duration": "1 week", "price": "100 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "190 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "285 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "360 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "450 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "540 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "630 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "680 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "840 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "1,440 €", "currency": "EUR"},
                        {"duration": "36 weeks", "price": "1,980 €", "currency": "EUR"},
                        {"duration": "52 weeks", "price": "2,600 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive 20",
                    "lessons_per_week": 20,
                    "description": "20 classes per week, 4 per day",
                    "prices": [
                        {"duration": "1 week", "price": "170 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "310 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "465 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "580 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "725 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "870 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "1,015 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "1,120 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "1,560 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "2,760 €", "currency": "EUR"},
                        {"duration": "36 weeks", "price": "3,600 €", "currency": "EUR"},
                        {"duration": "52 weeks", "price": "4,560 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive 25",
                    "lessons_per_week": 25,
                    "description": "20 classes in group + 5 individual (DELE, business, conversation)",
                    "prices": [
                        {"duration": "1 week", "price": "315 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "575 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "863 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "1,100 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "1,375 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "1,650 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "1,925 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "2,120 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "3,000 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "5,750 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Individual classes",
                    "lessons_per_week": 0,
                    "description": "Customized individual lessons",
                    "prices": [
                        {"duration": "1-10 hours", "price": "32 € per hour", "currency": "EUR"},
                        {"duration": ">10 hours", "price": "29 € per hour", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "DELE examination course",
                    "lessons_per_week": 0,
                    "description": "Preparation for DELE examination",
                    "prices": [
                        {"duration": "2 weeks", "price": "410 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "795 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Teenagers programme",
                    "lessons_per_week": 15,
                    "description": "Available in July and August",
                    "prices": [
                        {"duration": "1 week", "price": "540 €", "currency": "EUR"},
                        {"duration": "Each extra week", "price": "495 €", "currency": "EUR"}
                    ],
                    "requirements": "14-17 years old"
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "enrolment_fee": "30 €"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:29:35,473 - src.logger - DEBUG - Raw API response content: {
    "name": "Intereuropa Idiomas",
    "locations": [
        {
            "city": "Valencia",
            "country": "ES",
            "address": "Plaza del Ayuntamiento, 5, 46002 Valencia, España",
            "courses": [
                {
                    "name": "Intensive 10",
                    "lessons_per_week": 10,
                    "description": "10 classes per week, 2 per day",
                    "prices": [
                        {"duration": "1 week", "price": "100 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "190 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "285 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "360 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "450 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "540 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "630 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "680 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "840 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "1,440 €", "currency": "EUR"},
                        {"duration": "36 weeks", "price": "1,980 €", "currency": "EUR"},
                        {"duration": "52 weeks", "price": "2,600 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive 20",
                    "lessons_per_week": 20,
                    "description": "20 classes per week, 4 per day",
                    "prices": [
                        {"duration": "1 week", "price": "170 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "310 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "465 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "580 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "725 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "870 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "1,015 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "1,120 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "1,560 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "2,760 €", "currency": "EUR"},
                        {"duration": "36 weeks", "price": "3,600 €", "currency": "EUR"},
                        {"duration": "52 weeks", "price": "4,560 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Intensive 25",
                    "lessons_per_week": 25,
                    "description": "20 classes in group + 5 individual (DELE, business, conversation)",
                    "prices": [
                        {"duration": "1 week", "price": "315 €", "currency": "EUR"},
                        {"duration": "2 weeks", "price": "575 €", "currency": "EUR"},
                        {"duration": "3 weeks", "price": "863 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "1,100 €", "currency": "EUR"},
                        {"duration": "5 weeks", "price": "1,375 €", "currency": "EUR"},
                        {"duration": "6 weeks", "price": "1,650 €", "currency": "EUR"},
                        {"duration": "7 weeks", "price": "1,925 €", "currency": "EUR"},
                        {"duration": "8 weeks", "price": "2,120 €", "currency": "EUR"},
                        {"duration": "12 weeks", "price": "3,000 €", "currency": "EUR"},
                        {"duration": "24 weeks", "price": "5,750 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Individual classes",
                    "lessons_per_week": 0,
                    "description": "Customized individual lessons",
                    "prices": [
                        {"duration": "1-10 hours", "price": "32 € per hour", "currency": "EUR"},
                        {"duration": ">10 hours", "price": "29 € per hour", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "DELE examination course",
                    "lessons_per_week": 0,
                    "description": "Preparation for DELE examination",
                    "prices": [
                        {"duration": "2 weeks", "price": "410 €", "currency": "EUR"},
                        {"duration": "4 weeks", "price": "795 €", "currency": "EUR"}
                    ],
                    "requirements": null
                },
                {
                    "name": "Teenagers programme",
                    "lessons_per_week": 15,
                    "description": "Available in July and August",
                    "prices": [
                        {"duration": "1 week", "price": "540 €", "currency": "EUR"},
                        {"duration": "Each extra week", "price": "495 €", "currency": "EUR"}
                    ],
                    "requirements": "14-17 years old"
                }
            ],
            "accommodations": [],
            "additional_fees": {
                "enrolment_fee": "30 €"
            }
        }
    ],
    "terms": null,
    "repeat": false
}
2025-02-05 20:29:35,473 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:29:35,473 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:29:35,473 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:29:35,475 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:29:35,475 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:29:35,475 - src.logger - INFO - Successfully processed page 1
2025-02-05 20:29:35,477 - src.logger - INFO - Processing page 2/3
2025-02-05 20:29:35,477 - src.logger - INFO - Processing page 2/3
2025-02-05 20:29:35,477 - src.logger - INFO - Processing page 2/3
2025-02-05 20:29:35,541 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:35,541 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:35,541 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:35,548 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:35,548 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:35,548 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:35,557 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:35,557 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:35,557 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:35,558 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:35,558 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:35,558 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:35,559 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:35,559 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:35,559 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:35,599 - src.logger - DEBUG - Saved image to logs/image_1738769375.jpg
2025-02-05 20:29:35,599 - src.logger - DEBUG - Saved image to logs/image_1738769375.jpg
2025-02-05 20:29:35,599 - src.logger - DEBUG - Saved image to logs/image_1738769375.jpg
2025-02-05 20:29:46,286 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:29:46,286 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:29:46,286 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:29:46,287 - src.logger - DEBUG - Raw API response content: {"name":"Intereuropa Idiomas","locations":[{"city":"Valencia","country":"ES","address":"Plaza del Ayuntamiento, 5, 46002 Valencia, Spain","courses":[{"name":"General Spanish for Beginners","lessons_per_week":20,"description":"Course start dates for beginners as listed in the schedule; non-beginners can start any Monday.","prices":[],"requirements":null},{"name":"DELE Preparation Courses","lessons_per_week":20,"description":"Dedicated course for preparation for the DELE exams.","prices":[],"requirements":null}],"accommodations":[],"additional_fees":{"airport_pick_up":"50 EUR per person (each way)"}}],"terms":{"public_holidays":"Courses are not held on public holidays."},"repeat":false}
2025-02-05 20:29:46,287 - src.logger - DEBUG - Raw API response content: {"name":"Intereuropa Idiomas","locations":[{"city":"Valencia","country":"ES","address":"Plaza del Ayuntamiento, 5, 46002 Valencia, Spain","courses":[{"name":"General Spanish for Beginners","lessons_per_week":20,"description":"Course start dates for beginners as listed in the schedule; non-beginners can start any Monday.","prices":[],"requirements":null},{"name":"DELE Preparation Courses","lessons_per_week":20,"description":"Dedicated course for preparation for the DELE exams.","prices":[],"requirements":null}],"accommodations":[],"additional_fees":{"airport_pick_up":"50 EUR per person (each way)"}}],"terms":{"public_holidays":"Courses are not held on public holidays."},"repeat":false}
2025-02-05 20:29:46,287 - src.logger - DEBUG - Raw API response content: {"name":"Intereuropa Idiomas","locations":[{"city":"Valencia","country":"ES","address":"Plaza del Ayuntamiento, 5, 46002 Valencia, Spain","courses":[{"name":"General Spanish for Beginners","lessons_per_week":20,"description":"Course start dates for beginners as listed in the schedule; non-beginners can start any Monday.","prices":[],"requirements":null},{"name":"DELE Preparation Courses","lessons_per_week":20,"description":"Dedicated course for preparation for the DELE exams.","prices":[],"requirements":null}],"accommodations":[],"additional_fees":{"airport_pick_up":"50 EUR per person (each way)"}}],"terms":{"public_holidays":"Courses are not held on public holidays."},"repeat":false}
2025-02-05 20:29:46,287 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:29:46,287 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:29:46,287 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:29:46,289 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:29:46,289 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:29:46,289 - src.logger - INFO - Successfully processed page 2
2025-02-05 20:29:46,290 - src.logger - INFO - Processing page 3/3
2025-02-05 20:29:46,290 - src.logger - INFO - Processing page 3/3
2025-02-05 20:29:46,290 - src.logger - INFO - Processing page 3/3
2025-02-05 20:29:46,348 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:46,348 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:46,348 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 20:29:46,356 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:46,356 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:46,356 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 20:29:46,364 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:46,364 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:46,364 - src.logger - DEBUG - Encoding image to base64
2025-02-05 20:29:46,365 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:46,365 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:46,365 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 20:29:46,367 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:46,367 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:46,367 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 20:29:46,369 - src.logger - DEBUG - Saved image to logs/image_1738769386.jpg
2025-02-05 20:29:46,369 - src.logger - DEBUG - Saved image to logs/image_1738769386.jpg
2025-02-05 20:29:46,369 - src.logger - DEBUG - Saved image to logs/image_1738769386.jpg
2025-02-05 20:30:01,442 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:30:01,442 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:30:01,442 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 20:30:01,442 - src.logger - DEBUG - Raw API response content: {"name":"intereuropa idiomas","locations":[{"city":"Valencia","country":"ES","address":"Plaza del Ayuntamiento, 5, 46002 Valencia, España","courses":[],"accommodations":[{"type":"Host family - single room, half board","price_per_week":"195€","description":"Half board accommodation with single room.","supplements":{"Additional nights":"33€ per night"}},{"type":"Host family - single room, full board","price_per_week":"235€","description":"Full board accommodation with single room.","supplements":{"Additional nights":"38€ per night"}},{"type":"Host family - double room, half board","price_per_week":"180€","description":"Half board accommodation with double room.","supplements":{"Additional nights":"30€ per night"}},{"type":"Host family - double room, full board","price_per_week":"225€","description":"Full board accommodation with double room.","supplements":{"Additional nights":"36€ per night"}},{"type":"University Residence - Individual, without meals","price_per_week":"45€ per day","description":"University accommodation without meals, individual room.","supplements":null},{"type":"University Residence - Individual, breakfast included","price_per_week":"50€ per day","description":"University accommodation with breakfast, individual room.","supplements":null},{"type":"University Residence - Individual, half board","price_per_week":"57€ per day","description":"University accommodation with half board, individual room.","supplements":null},{"type":"University Residence - Individual, full board","price_per_week":"65€ per day","description":"University accommodation with full board, individual room.","supplements":null},{"type":"Shared Apartment - Individual","price_per_week":"150€ per week","description":"Individual room in a shared apartment.","supplements":{"Additional nights":"30€ per night"}}],"additional_fees":{"special_diet_supplement":"A 15% additional fee will be charged for special diets."}}],"terms":null,"repeat":null}
2025-02-05 20:30:01,442 - src.logger - DEBUG - Raw API response content: {"name":"intereuropa idiomas","locations":[{"city":"Valencia","country":"ES","address":"Plaza del Ayuntamiento, 5, 46002 Valencia, España","courses":[],"accommodations":[{"type":"Host family - single room, half board","price_per_week":"195€","description":"Half board accommodation with single room.","supplements":{"Additional nights":"33€ per night"}},{"type":"Host family - single room, full board","price_per_week":"235€","description":"Full board accommodation with single room.","supplements":{"Additional nights":"38€ per night"}},{"type":"Host family - double room, half board","price_per_week":"180€","description":"Half board accommodation with double room.","supplements":{"Additional nights":"30€ per night"}},{"type":"Host family - double room, full board","price_per_week":"225€","description":"Full board accommodation with double room.","supplements":{"Additional nights":"36€ per night"}},{"type":"University Residence - Individual, without meals","price_per_week":"45€ per day","description":"University accommodation without meals, individual room.","supplements":null},{"type":"University Residence - Individual, breakfast included","price_per_week":"50€ per day","description":"University accommodation with breakfast, individual room.","supplements":null},{"type":"University Residence - Individual, half board","price_per_week":"57€ per day","description":"University accommodation with half board, individual room.","supplements":null},{"type":"University Residence - Individual, full board","price_per_week":"65€ per day","description":"University accommodation with full board, individual room.","supplements":null},{"type":"Shared Apartment - Individual","price_per_week":"150€ per week","description":"Individual room in a shared apartment.","supplements":{"Additional nights":"30€ per night"}}],"additional_fees":{"special_diet_supplement":"A 15% additional fee will be charged for special diets."}}],"terms":null,"repeat":null}
2025-02-05 20:30:01,442 - src.logger - DEBUG - Raw API response content: {"name":"intereuropa idiomas","locations":[{"city":"Valencia","country":"ES","address":"Plaza del Ayuntamiento, 5, 46002 Valencia, España","courses":[],"accommodations":[{"type":"Host family - single room, half board","price_per_week":"195€","description":"Half board accommodation with single room.","supplements":{"Additional nights":"33€ per night"}},{"type":"Host family - single room, full board","price_per_week":"235€","description":"Full board accommodation with single room.","supplements":{"Additional nights":"38€ per night"}},{"type":"Host family - double room, half board","price_per_week":"180€","description":"Half board accommodation with double room.","supplements":{"Additional nights":"30€ per night"}},{"type":"Host family - double room, full board","price_per_week":"225€","description":"Full board accommodation with double room.","supplements":{"Additional nights":"36€ per night"}},{"type":"University Residence - Individual, without meals","price_per_week":"45€ per day","description":"University accommodation without meals, individual room.","supplements":null},{"type":"University Residence - Individual, breakfast included","price_per_week":"50€ per day","description":"University accommodation with breakfast, individual room.","supplements":null},{"type":"University Residence - Individual, half board","price_per_week":"57€ per day","description":"University accommodation with half board, individual room.","supplements":null},{"type":"University Residence - Individual, full board","price_per_week":"65€ per day","description":"University accommodation with full board, individual room.","supplements":null},{"type":"Shared Apartment - Individual","price_per_week":"150€ per week","description":"Individual room in a shared apartment.","supplements":{"Additional nights":"30€ per night"}}],"additional_fees":{"special_diet_supplement":"A 15% additional fee will be charged for special diets."}}],"terms":null,"repeat":null}
2025-02-05 20:30:01,442 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:30:01,442 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:30:01,442 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 20:30:01,444 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:30:01,444 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:30:01,444 - src.logger - INFO - Successfully processed page 3
2025-02-05 20:30:01,447 - src.logger - INFO - PDF processing completed
2025-02-05 20:30:01,447 - src.logger - INFO - PDF processing completed
2025-02-05 20:30:01,447 - src.logger - INFO - PDF processing completed
2025-02-05 20:30:01,449 - src.logger - INFO - Starting merge of 3 results
2025-02-05 20:30:01,449 - src.logger - INFO - Starting merge of 3 results
2025-02-05 20:30:01,449 - src.logger - INFO - Starting merge of 3 results
2025-02-05 20:30:01,450 - src.logger - DEBUG - Merging result 1/3
2025-02-05 20:30:01,450 - src.logger - DEBUG - Merging result 1/3
2025-02-05 20:30:01,450 - src.logger - DEBUG - Merging result 1/3
2025-02-05 20:30:01,450 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,450 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,450 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,451 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:30:01,451 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:30:01,451 - src.logger - DEBUG - First school empty, returning copy of second school
2025-02-05 20:30:01,452 - src.logger - DEBUG - Merging result 2/3
2025-02-05 20:30:01,452 - src.logger - DEBUG - Merging result 2/3
2025-02-05 20:30:01,452 - src.logger - DEBUG - Merging result 2/3
2025-02-05 20:30:01,452 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,452 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,452 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,455 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:30:01,455 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:30:01,455 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:30:01,457 - src.logger - DEBUG - Processing location: Valencia, ES
2025-02-05 20:30:01,457 - src.logger - DEBUG - Processing location: Valencia, ES
2025-02-05 20:30:01,457 - src.logger - DEBUG - Processing location: Valencia, ES
2025-02-05 20:30:01,457 - src.logger - DEBUG - Finding location: Valencia, ES
2025-02-05 20:30:01,457 - src.logger - DEBUG - Finding location: Valencia, ES
2025-02-05 20:30:01,457 - src.logger - DEBUG - Finding location: Valencia, ES
2025-02-05 20:30:01,457 - src.logger - DEBUG - Merging location details for Valencia
2025-02-05 20:30:01,457 - src.logger - DEBUG - Merging location details for Valencia
2025-02-05 20:30:01,457 - src.logger - DEBUG - Merging location details for Valencia
2025-02-05 20:30:01,457 - src.logger - INFO - Merging 6 courses with 2 courses
2025-02-05 20:30:01,457 - src.logger - INFO - Merging 6 courses with 2 courses
2025-02-05 20:30:01,457 - src.logger - INFO - Merging 6 courses with 2 courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - Processing course: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - Processing course: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - Processing course: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - Finding course: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - Finding course: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - Finding course: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - New course found: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - New course found: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - New course found: General Spanish for Beginners
2025-02-05 20:30:01,459 - src.logger - DEBUG - Processing course: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - Processing course: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - Processing course: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - Finding course: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - Finding course: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - Finding course: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - New course found: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - New course found: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - DEBUG - New course found: DELE Preparation Courses
2025-02-05 20:30:01,459 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:30:01,459 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:30:01,459 - src.logger - INFO - Merging 0 accommodations with 0 accommodations
2025-02-05 20:30:01,461 - src.logger - DEBUG - Merging result 3/3
2025-02-05 20:30:01,461 - src.logger - DEBUG - Merging result 3/3
2025-02-05 20:30:01,461 - src.logger - DEBUG - Merging result 3/3
2025-02-05 20:30:01,461 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,461 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,461 - src.logger - INFO - Merging schools
2025-02-05 20:30:01,463 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:30:01,463 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:30:01,463 - src.logger - INFO - Merging 1 locations with 1 locations
2025-02-05 20:30:01,464 - src.logger - DEBUG - Processing location: Valencia, ES
2025-02-05 20:30:01,464 - src.logger - DEBUG - Processing location: Valencia, ES
2025-02-05 20:30:01,464 - src.logger - DEBUG - Processing location: Valencia, ES
2025-02-05 20:30:01,464 - src.logger - DEBUG - Finding location: Valencia, ES
2025-02-05 20:30:01,464 - src.logger - DEBUG - Finding location: Valencia, ES
2025-02-05 20:30:01,464 - src.logger - DEBUG - Finding location: Valencia, ES
2025-02-05 20:30:01,464 - src.logger - DEBUG - Merging location details for Valencia
2025-02-05 20:30:01,464 - src.logger - DEBUG - Merging location details for Valencia
2025-02-05 20:30:01,464 - src.logger - DEBUG - Merging location details for Valencia
2025-02-05 20:30:01,464 - src.logger - INFO - Merging 8 courses with 0 courses
2025-02-05 20:30:01,464 - src.logger - INFO - Merging 8 courses with 0 courses
2025-02-05 20:30:01,464 - src.logger - INFO - Merging 8 courses with 0 courses
2025-02-05 20:30:01,466 - src.logger - INFO - Merging 0 accommodations with 9 accommodations
2025-02-05 20:30:01,466 - src.logger - INFO - Merging 0 accommodations with 9 accommodations
2025-02-05 20:30:01,466 - src.logger - INFO - Merging 0 accommodations with 9 accommodations
2025-02-05 20:30:01,467 - src.logger - DEBUG - Processing accommodation type: Host family - single room, half board
2025-02-05 20:30:01,467 - src.logger - DEBUG - Processing accommodation type: Host family - single room, half board
2025-02-05 20:30:01,467 - src.logger - DEBUG - Processing accommodation type: Host family - single room, half board
2025-02-05 20:30:01,467 - src.logger - DEBUG - Finding accommodation type: Host family - single room, half board
2025-02-05 20:30:01,467 - src.logger - DEBUG - Finding accommodation type: Host family - single room, half board
2025-02-05 20:30:01,467 - src.logger - DEBUG - Finding accommodation type: Host family - single room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - single room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - single room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - single room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Finding accommodation type: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Finding accommodation type: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Finding accommodation type: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - single room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Finding accommodation type: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Finding accommodation type: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Finding accommodation type: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - New accommodation type found: Host family - double room, half board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - double room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - double room, full board
2025-02-05 20:30:01,468 - src.logger - DEBUG - Processing accommodation type: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: Host family - double room, full board
2025-02-05 20:30:01,469 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, without meals
2025-02-05 20:30:01,469 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, breakfast included
2025-02-05 20:30:01,469 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, breakfast included
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, half board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Finding accommodation type: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - New accommodation type found: University Residence - Individual, full board
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: Shared Apartment - Individual
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: Shared Apartment - Individual
2025-02-05 20:30:01,470 - src.logger - DEBUG - Processing accommodation type: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - DEBUG - Finding accommodation type: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - DEBUG - Finding accommodation type: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - DEBUG - Finding accommodation type: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - DEBUG - New accommodation type found: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - DEBUG - New accommodation type found: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - DEBUG - New accommodation type found: Shared Apartment - Individual
2025-02-05 20:30:01,471 - src.logger - INFO - Merge completed successfully
2025-02-05 20:30:01,471 - src.logger - INFO - Merge completed successfully
2025-02-05 20:30:01,471 - src.logger - INFO - Merge completed successfully
2025-02-05 20:30:01,474 - src.logger - INFO - Saving results to data/output_files/Courses fees 2025 Valencie Intereuropa_output.json
2025-02-05 20:30:01,474 - src.logger - INFO - Saving results to data/output_files/Courses fees 2025 Valencie Intereuropa_output.json
2025-02-05 20:30:01,474 - src.logger - INFO - Saving results to data/output_files/Courses fees 2025 Valencie Intereuropa_output.json
2025-02-05 23:43:39,240 - src.logger - INFO - Processing PDF file: temp/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-05 23:43:39,240 - src.logger - INFO - Processing PDF file: temp/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-05 23:43:39,240 - src.logger - INFO - Processing PDF file: temp/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-05 23:43:39,242 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 23:43:39,242 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 23:43:39,242 - src.logger - INFO - Initializing PDFProcessor
2025-02-05 23:43:39,242 - src.logger - INFO - Initializing PDFParser
2025-02-05 23:43:39,242 - src.logger - INFO - Initializing PDFParser
2025-02-05 23:43:39,242 - src.logger - INFO - Initializing PDFParser
2025-02-05 23:43:39,621 - src.logger - INFO - Processing PDF: temp/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-05 23:43:39,621 - src.logger - INFO - Processing PDF: temp/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-05 23:43:39,621 - src.logger - INFO - Processing PDF: temp/2025_CES_Adult_Price_List_as_at_8th_August.pdf
2025-02-05 23:43:39,665 - src.logger - INFO - Opened PDF with 18 pages
2025-02-05 23:43:39,665 - src.logger - INFO - Opened PDF with 18 pages
2025-02-05 23:43:39,665 - src.logger - INFO - Opened PDF with 18 pages
2025-02-05 23:43:39,666 - src.logger - INFO - Processing page 1/18
2025-02-05 23:43:39,666 - src.logger - INFO - Processing page 1/18
2025-02-05 23:43:39,666 - src.logger - INFO - Processing page 1/18
2025-02-05 23:43:39,752 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 23:43:39,752 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 23:43:39,752 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 23:43:39,760 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 23:43:39,760 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 23:43:39,760 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 23:43:39,838 - src.logger - DEBUG - Encoding image to base64
2025-02-05 23:43:39,838 - src.logger - DEBUG - Encoding image to base64
2025-02-05 23:43:39,838 - src.logger - DEBUG - Encoding image to base64
2025-02-05 23:43:39,839 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 23:43:39,839 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 23:43:39,839 - src.logger - INFO - Sending request to OpenAI API
2025-02-05 23:43:39,840 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 23:43:39,840 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 23:43:39,840 - src.logger - DEBUG - Prompt:
 Please analyze this image and extract the language school information. Focus on identifying:
- School name
- Location details
- Course information
- Pricing
- Accommodation options
- Any terms or conditions

if there are more than one location, please provide information for all locations.
if there are more than one course, please provide information for all courses.
make sure to include all the courses available, including the prices and any additional fees.

if there are more courses available but can not fit in one response, please set the repeat flag to true and provide the remaining courses in the next response.

Format the response as valid JSON with this structure:
{
    "school_name": "Centre of English Studies",
    "locations": [
        {
            "city": "Dublin",
            "country": "IE",
            "address": "...",
            "courses": [
                {
                    "name": "Standard General English",
                    "lessons_per_week": 20,
                    "description": "Morning classes Mon-Fri",
                    "prices": [
                        {"duration": "2-4 weeks", "price": "€355", "currency": "EUR"}
                    ]
                }
            ],
            "accommodations": [
                {
                    "type": "Homestay",
                    "price_per_week": "€280",
                    "description": "Single room, half board",
                    "supplements": {
                        "Summer": "€35/week"
                    }
                }
            ],
            "additional_fees": {
                "registration": "€85"
            }
        }
    ],
    "terms": {
        "cancellation": "14 days notice required"
    }
}


2025-02-05 23:43:39,841 - src.logger - DEBUG - Saved image to logs/image_1738781019.jpg
2025-02-05 23:43:39,841 - src.logger - DEBUG - Saved image to logs/image_1738781019.jpg
2025-02-05 23:43:39,841 - src.logger - DEBUG - Saved image to logs/image_1738781019.jpg
2025-02-05 23:43:48,891 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 23:43:48,891 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 23:43:48,891 - src.logger - DEBUG - Received response from OpenAI API
2025-02-05 23:43:48,891 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"IE","address":"Dublin, Ireland","courses":[],"accommodations":[],"additional_fees":null},{"city":"Cork","country":"IE","address":"Cork, Ireland","courses":[],"accommodations":[],"additional_fees":null},{"city":"Leeds","country":"GB","address":"Leeds, United Kingdom","courses":[],"accommodations":[],"additional_fees":null},{"city":"Edinburgh","country":"GB","address":"Edinburgh, United Kingdom","courses":[],"accommodations":[],"additional_fees":null},{"city":"Toronto","country":"CA","address":"Toronto, Canada","courses":[],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Details not provided."},"repeat":false}
2025-02-05 23:43:48,891 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"IE","address":"Dublin, Ireland","courses":[],"accommodations":[],"additional_fees":null},{"city":"Cork","country":"IE","address":"Cork, Ireland","courses":[],"accommodations":[],"additional_fees":null},{"city":"Leeds","country":"GB","address":"Leeds, United Kingdom","courses":[],"accommodations":[],"additional_fees":null},{"city":"Edinburgh","country":"GB","address":"Edinburgh, United Kingdom","courses":[],"accommodations":[],"additional_fees":null},{"city":"Toronto","country":"CA","address":"Toronto, Canada","courses":[],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Details not provided."},"repeat":false}
2025-02-05 23:43:48,891 - src.logger - DEBUG - Raw API response content: {"name":"Centre of English Studies","locations":[{"city":"Dublin","country":"IE","address":"Dublin, Ireland","courses":[],"accommodations":[],"additional_fees":null},{"city":"Cork","country":"IE","address":"Cork, Ireland","courses":[],"accommodations":[],"additional_fees":null},{"city":"Leeds","country":"GB","address":"Leeds, United Kingdom","courses":[],"accommodations":[],"additional_fees":null},{"city":"Edinburgh","country":"GB","address":"Edinburgh, United Kingdom","courses":[],"accommodations":[],"additional_fees":null},{"city":"Toronto","country":"CA","address":"Toronto, Canada","courses":[],"accommodations":[],"additional_fees":null}],"terms":{"cancellation":"Details not provided."},"repeat":false}
2025-02-05 23:43:48,892 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 23:43:48,892 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 23:43:48,892 - src.logger - INFO - Successfully parsed JSON response
2025-02-05 23:43:48,893 - src.logger - INFO - Successfully processed page 1
2025-02-05 23:43:48,893 - src.logger - INFO - Successfully processed page 1
2025-02-05 23:43:48,893 - src.logger - INFO - Successfully processed page 1
2025-02-05 23:43:48,894 - src.logger - INFO - Processing page 2/18
2025-02-05 23:43:48,894 - src.logger - INFO - Processing page 2/18
2025-02-05 23:43:48,894 - src.logger - INFO - Processing page 2/18
2025-02-05 23:43:48,981 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 23:43:48,981 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 23:43:48,981 - src.logger - DEBUG - Converting PyMuPDF pixmap to PIL Image
2025-02-05 23:43:48,984 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 23:43:48,984 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 23:43:48,984 - src.logger - DEBUG - Converting PIL Image to JPEG bytes
2025-02-05 23:43:48,991 - src.logger - DEBUG - Encoding image to base64
2025-02-05 23:43:48,991 - src.logger - DEBUG - Encoding image to base64
2025-02-05 23:43:48,991 - src.logger - DEBUG - Encoding image to base64
2025-02-05 23:43:48,993 - src.logger - INFO - Sending request to OpenAI API
